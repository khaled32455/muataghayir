(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&r(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function r(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Nv(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Nd={exports:{}},Al={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function K1(){if(q_)return Al;q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var g in o)g!=="key"&&(u[g]=o[g])}else u=o;return o=u.ref,{$$typeof:s,type:r,key:f,ref:o!==void 0?o:null,props:u}}return Al.Fragment=t,Al.jsx=n,Al.jsxs=n,Al}var H_;function Y1(){return H_||(H_=1,Nd.exports=K1()),Nd.exports}var b=Y1(),Dd={exports:{}},At={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F_;function X1(){if(F_)return At;F_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),O=Symbol.iterator;function q(k){return k===null||typeof k!="object"?null:(k=O&&k[O]||k["@@iterator"],typeof k=="function"?k:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,K={};function it(k,$,ot){this.props=k,this.context=$,this.refs=K,this.updater=ot||Q}it.prototype.isReactComponent={},it.prototype.setState=function(k,$){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,$,"setState")},it.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function st(){}st.prototype=it.prototype;function et(k,$,ot){this.props=k,this.context=$,this.refs=K,this.updater=ot||Q}var nt=et.prototype=new st;nt.constructor=et,W(nt,it.prototype),nt.isPureReactComponent=!0;var ut=Array.isArray;function z(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(k,$,ot){var ct=ot.ref;return{$$typeof:s,type:k,key:$,ref:ct!==void 0?ct:null,props:ot}}function A(k,$){return C(k.type,$,k.props)}function N(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function M(k){var $={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ot){return $[ot]})}var I=/\/+/g;function bt(k,$){return typeof k=="object"&&k!==null&&k.key!=null?M(""+k.key):$.toString(36)}function Gt(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(z,z):(k.status="pending",k.then(function($){k.status==="pending"&&(k.status="fulfilled",k.value=$)},function($){k.status==="pending"&&(k.status="rejected",k.reason=$)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function G(k,$,ot,ct,Et){var Rt=typeof k;(Rt==="undefined"||Rt==="boolean")&&(k=null);var kt=!1;if(k===null)kt=!0;else switch(Rt){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(k.$$typeof){case s:case t:kt=!0;break;case T:return kt=k._init,G(kt(k._payload),$,ot,ct,Et)}}if(kt)return Et=Et(k),kt=ct===""?"."+bt(k,0):ct,ut(Et)?(ot="",kt!=null&&(ot=kt.replace(I,"$&/")+"/"),G(Et,$,ot,"",function(Xi){return Xi})):Et!=null&&(N(Et)&&(Et=A(Et,ot+(Et.key==null||k&&k.key===Et.key?"":(""+Et.key).replace(I,"$&/")+"/")+kt)),$.push(Et)),1;kt=0;var xe=ct===""?".":ct+":";if(ut(k))for(var he=0;he<k.length;he++)ct=k[he],Rt=xe+bt(ct,he),kt+=G(ct,$,ot,Rt,Et);else if(he=q(k),typeof he=="function")for(k=he.call(k),he=0;!(ct=k.next()).done;)ct=ct.value,Rt=xe+bt(ct,he++),kt+=G(ct,$,ot,Rt,Et);else if(Rt==="object"){if(typeof k.then=="function")return G(Gt(k),$,ot,ct,Et);throw $=String(k),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return kt}function rt(k,$,ot){if(k==null)return k;var ct=[],Et=0;return G(k,ct,"","",function(Rt){return $.call(ot,Rt,Et++)}),ct}function lt(k){if(k._status===-1){var $=k._result;$=$(),$.then(function(ot){(k._status===0||k._status===-1)&&(k._status=1,k._result=ot)},function(ot){(k._status===0||k._status===-1)&&(k._status=2,k._result=ot)}),k._status===-1&&(k._status=0,k._result=$)}if(k._status===1)return k._result.default;throw k._result}var wt=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Dt={map:rt,forEach:function(k,$,ot){rt(k,function(){$.apply(this,arguments)},ot)},count:function(k){var $=0;return rt(k,function(){$++}),$},toArray:function(k){return rt(k,function($){return $})||[]},only:function(k){if(!N(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return At.Activity=R,At.Children=Dt,At.Component=it,At.Fragment=n,At.Profiler=o,At.PureComponent=et,At.StrictMode=r,At.Suspense=p,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,At.__COMPILER_RUNTIME={__proto__:null,c:function(k){return x.H.useMemoCache(k)}},At.cache=function(k){return function(){return k.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(k,$,ot){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ct=W({},k.props),Et=k.key;if($!=null)for(Rt in $.key!==void 0&&(Et=""+$.key),$)!w.call($,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&$.ref===void 0||(ct[Rt]=$[Rt]);var Rt=arguments.length-2;if(Rt===1)ct.children=ot;else if(1<Rt){for(var kt=Array(Rt),xe=0;xe<Rt;xe++)kt[xe]=arguments[xe+2];ct.children=kt}return C(k.type,Et,ct)},At.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},At.createElement=function(k,$,ot){var ct,Et={},Rt=null;if($!=null)for(ct in $.key!==void 0&&(Rt=""+$.key),$)w.call($,ct)&&ct!=="key"&&ct!=="__self"&&ct!=="__source"&&(Et[ct]=$[ct]);var kt=arguments.length-2;if(kt===1)Et.children=ot;else if(1<kt){for(var xe=Array(kt),he=0;he<kt;he++)xe[he]=arguments[he+2];Et.children=xe}if(k&&k.defaultProps)for(ct in kt=k.defaultProps,kt)Et[ct]===void 0&&(Et[ct]=kt[ct]);return C(k,Rt,Et)},At.createRef=function(){return{current:null}},At.forwardRef=function(k){return{$$typeof:g,render:k}},At.isValidElement=N,At.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:lt}},At.memo=function(k,$){return{$$typeof:_,type:k,compare:$===void 0?null:$}},At.startTransition=function(k){var $=x.T,ot={};x.T=ot;try{var ct=k(),Et=x.S;Et!==null&&Et(ot,ct),typeof ct=="object"&&ct!==null&&typeof ct.then=="function"&&ct.then(z,wt)}catch(Rt){wt(Rt)}finally{$!==null&&ot.types!==null&&($.types=ot.types),x.T=$}},At.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},At.use=function(k){return x.H.use(k)},At.useActionState=function(k,$,ot){return x.H.useActionState(k,$,ot)},At.useCallback=function(k,$){return x.H.useCallback(k,$)},At.useContext=function(k){return x.H.useContext(k)},At.useDebugValue=function(){},At.useDeferredValue=function(k,$){return x.H.useDeferredValue(k,$)},At.useEffect=function(k,$){return x.H.useEffect(k,$)},At.useEffectEvent=function(k){return x.H.useEffectEvent(k)},At.useId=function(){return x.H.useId()},At.useImperativeHandle=function(k,$,ot){return x.H.useImperativeHandle(k,$,ot)},At.useInsertionEffect=function(k,$){return x.H.useInsertionEffect(k,$)},At.useLayoutEffect=function(k,$){return x.H.useLayoutEffect(k,$)},At.useMemo=function(k,$){return x.H.useMemo(k,$)},At.useOptimistic=function(k,$){return x.H.useOptimistic(k,$)},At.useReducer=function(k,$,ot){return x.H.useReducer(k,$,ot)},At.useRef=function(k){return x.H.useRef(k)},At.useState=function(k){return x.H.useState(k)},At.useSyncExternalStore=function(k,$,ot){return x.H.useSyncExternalStore(k,$,ot)},At.useTransition=function(){return x.H.useTransition()},At.version="19.2.0",At}var G_;function wm(){return G_||(G_=1,Dd.exports=X1()),Dd.exports}var ft=wm();const $1=Nv(ft);var Od={exports:{}},xl={},Md={exports:{}},Vd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function Z1(){return Q_||(Q_=1,(function(s){function t(G,rt){var lt=G.length;G.push(rt);t:for(;0<lt;){var wt=lt-1>>>1,Dt=G[wt];if(0<o(Dt,rt))G[wt]=rt,G[lt]=Dt,lt=wt;else break t}}function n(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var rt=G[0],lt=G.pop();if(lt!==rt){G[0]=lt;t:for(var wt=0,Dt=G.length,k=Dt>>>1;wt<k;){var $=2*(wt+1)-1,ot=G[$],ct=$+1,Et=G[ct];if(0>o(ot,lt))ct<Dt&&0>o(Et,ot)?(G[wt]=Et,G[ct]=lt,wt=ct):(G[wt]=ot,G[$]=lt,wt=$);else if(ct<Dt&&0>o(Et,lt))G[wt]=Et,G[ct]=lt,wt=ct;else break t}}return rt}function o(G,rt){var lt=G.sortIndex-rt.sortIndex;return lt!==0?lt:G.id-rt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var f=Date,g=f.now();s.unstable_now=function(){return f.now()-g}}var p=[],_=[],T=1,R=null,O=3,q=!1,Q=!1,W=!1,K=!1,it=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,et=typeof setImmediate<"u"?setImmediate:null;function nt(G){for(var rt=n(_);rt!==null;){if(rt.callback===null)r(_);else if(rt.startTime<=G)r(_),rt.sortIndex=rt.expirationTime,t(p,rt);else break;rt=n(_)}}function ut(G){if(W=!1,nt(G),!Q)if(n(p)!==null)Q=!0,z||(z=!0,M());else{var rt=n(_);rt!==null&&Gt(ut,rt.startTime-G)}}var z=!1,x=-1,w=5,C=-1;function A(){return K?!0:!(s.unstable_now()-C<w)}function N(){if(K=!1,z){var G=s.unstable_now();C=G;var rt=!0;try{t:{Q=!1,W&&(W=!1,st(x),x=-1),q=!0;var lt=O;try{e:{for(nt(G),R=n(p);R!==null&&!(R.expirationTime>G&&A());){var wt=R.callback;if(typeof wt=="function"){R.callback=null,O=R.priorityLevel;var Dt=wt(R.expirationTime<=G);if(G=s.unstable_now(),typeof Dt=="function"){R.callback=Dt,nt(G),rt=!0;break e}R===n(p)&&r(p),nt(G)}else r(p);R=n(p)}if(R!==null)rt=!0;else{var k=n(_);k!==null&&Gt(ut,k.startTime-G),rt=!1}}break t}finally{R=null,O=lt,q=!1}rt=void 0}}finally{rt?M():z=!1}}}var M;if(typeof et=="function")M=function(){et(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,bt=I.port2;I.port1.onmessage=N,M=function(){bt.postMessage(null)}}else M=function(){it(N,0)};function Gt(G,rt){x=it(function(){G(s.unstable_now())},rt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(G){G.callback=null},s.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},s.unstable_getCurrentPriorityLevel=function(){return O},s.unstable_next=function(G){switch(O){case 1:case 2:case 3:var rt=3;break;default:rt=O}var lt=O;O=rt;try{return G()}finally{O=lt}},s.unstable_requestPaint=function(){K=!0},s.unstable_runWithPriority=function(G,rt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var lt=O;O=G;try{return rt()}finally{O=lt}},s.unstable_scheduleCallback=function(G,rt,lt){var wt=s.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?wt+lt:wt):lt=wt,G){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=lt+Dt,G={id:T++,callback:rt,priorityLevel:G,startTime:lt,expirationTime:Dt,sortIndex:-1},lt>wt?(G.sortIndex=lt,t(_,G),n(p)===null&&G===n(_)&&(W?(st(x),x=-1):W=!0,Gt(ut,lt-wt))):(G.sortIndex=Dt,t(p,G),Q||q||(Q=!0,z||(z=!0,M()))),G},s.unstable_shouldYield=A,s.unstable_wrapCallback=function(G){var rt=O;return function(){var lt=O;O=rt;try{return G.apply(this,arguments)}finally{O=lt}}}})(Vd)),Vd}var K_;function J1(){return K_||(K_=1,Md.exports=Z1()),Md.exports}var kd={exports:{}},un={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function W1(){if(Y_)return un;Y_=1;var s=wm();function t(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,T){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:R==null?null:""+R,children:p,containerInfo:_,implementation:T}}var f=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return un.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,un.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return u(p,_,null,T)},un.flushSync=function(p){var _=f.T,T=r.p;try{if(f.T=null,r.p=2,p)return p()}finally{f.T=_,r.p=T,r.d.f()}},un.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(p,_))},un.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},un.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,R=g(T,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?r.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:O,fetchPriority:q}):T==="script"&&r.d.X(p,{crossOrigin:R,integrity:O,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},un.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=g(_.as,_.crossOrigin);r.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(p)},un.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,R=g(T,_.crossOrigin);r.d.L(p,T,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},un.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=g(_.as,_.crossOrigin);r.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(p)},un.requestFormReset=function(p){r.d.r(p)},un.unstable_batchedUpdates=function(p,_){return p(_)},un.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},un.useFormStatus=function(){return f.H.useHostTransitionStatus()},un.version="19.2.0",un}var X_;function tS(){if(X_)return kd.exports;X_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),kd.exports=W1(),kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $_;function eS(){if($_)return xl;$_=1;var s=J1(),t=wm(),n=tS();function r(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function u(e){var i=e,a=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(a=i.return),e=i.return;while(e)}return i.tag===3?a:null}function f(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function g(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function p(e){if(u(e)!==e)throw Error(r(188))}function _(e){var i=e.alternate;if(!i){if(i=u(e),i===null)throw Error(r(188));return i!==e?null:e}for(var a=e,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),e;if(d===l)return p(h),i;d=d.sibling}throw Error(r(188))}if(a.return!==l.return)a=h,l=d;else{for(var y=!1,E=h.child;E;){if(E===a){y=!0,a=h,l=d;break}if(E===l){y=!0,l=h,a=d;break}E=E.sibling}if(!y){for(E=d.child;E;){if(E===a){y=!0,a=d,l=h;break}if(E===l){y=!0,l=d,a=h;break}E=E.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:i}function T(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=T(e),i!==null)return i;e=e.sibling}return null}var R=Object.assign,O=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),it=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),et=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),ut=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),A=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function bt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case it:return"Profiler";case K:return"StrictMode";case ut:return"Suspense";case z:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Q:return"Portal";case et:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case nt:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return i=e.displayName||null,i!==null?i:bt(e.type)||"Memo";case w:i=e._payload,e=e._init;try{return bt(e(i))}catch{}}return null}var Gt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},wt=[],Dt=-1;function k(e){return{current:e}}function $(e){0>Dt||(e.current=wt[Dt],wt[Dt]=null,Dt--)}function ot(e,i){Dt++,wt[Dt]=e.current,e.current=i}var ct=k(null),Et=k(null),Rt=k(null),kt=k(null);function xe(e,i){switch(ot(Rt,i),ot(Et,e),ot(ct,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?h_(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=h_(i),e=f_(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}$(ct),ot(ct,e)}function he(){$(ct),$(Et),$(Rt)}function Xi(e){e.memoizedState!==null&&ot(kt,e);var i=ct.current,a=f_(i,e.type);i!==a&&(ot(Et,e),ot(ct,a))}function Ss(e){Et.current===e&&($(ct),$(Et)),kt.current===e&&($(kt),El._currentValue=lt)}var Ut,Ot;function se(e){if(Ut===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);Ut=i&&i[1]||"",Ot=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ut+e+Ot}var fe=!1;function te(e,i){if(!e||fe)return"";fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(F){var B=F}Reflect.construct(e,[],Z)}else{try{Z.call()}catch(F){B=F}e.call(Z.prototype)}}else{try{throw Error()}catch(F){B=F}(Z=e())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],E=d[1];if(y&&E){var D=y.split(`
`),P=E.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===P.length)for(l=D.length-1,h=P.length-1;1<=l&&0<=h&&D[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==P[h]){var Y=`
`+D[l].replace(" at new "," at ");return e.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",e.displayName)),Y}while(1<=l&&0<=h);break}}}finally{fe=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?se(a):""}function de(e,i){switch(e.tag){case 26:case 27:case 5:return se(e.type);case 16:return se("Lazy");case 13:return e.child!==i&&i!==null?se("Suspense Fallback"):se("Suspense");case 19:return se("SuspenseList");case 0:case 15:return te(e.type,!1);case 11:return te(e.type.render,!1);case 1:return te(e.type,!0);case 31:return se("Activity");default:return""}}function Jt(e){try{var i="",a=null;do i+=de(e,a),a=e,e=e.return;while(e);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Qt=Object.prototype.hasOwnProperty,Ht=s.unstable_scheduleCallback,Xt=s.unstable_cancelCallback,qe=s.unstable_shouldYield,$i=s.unstable_requestPaint,ln=s.unstable_now,be=s.unstable_getCurrentPriorityLevel,Ze=s.unstable_ImmediatePriority,Rn=s.unstable_UserBlockingPriority,Qe=s.unstable_NormalPriority,di=s.unstable_LowPriority,fa=s.unstable_IdlePriority,da=s.log,ma=s.unstable_setDisableYieldValue,Cn=null,Re=null;function _n(e){if(typeof da=="function"&&ma(e),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(Cn,e)}catch{}}var ue=Math.clz32?Math.clz32:ga,mi=Math.log,ws=Math.LN2;function ga(e){return e>>>=0,e===0?32:31-(mi(e)/ws|0)|0}var gi=256,Sr=262144,Oe=4194304;function pi(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function yi(e,i,a){var l=e.pendingLanes;if(l===0)return 0;var h=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var E=l&134217727;return E!==0?(l=E&~d,l!==0?h=pi(l):(y&=E,y!==0?h=pi(y):a||(a=E&~e,a!==0&&(h=pi(a))))):(E=l&~d,E!==0?h=pi(E):y!==0?h=pi(y):a||(a=l&~e,a!==0&&(h=pi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Wn(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function Mh(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=Oe;return Oe<<=1,(Oe&62914560)===0&&(Oe=4194304),e}function _i(e){for(var i=[],a=0;31>a;a++)i.push(e);return i}function wr(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,i,a,l,h,d){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var E=e.entanglements,D=e.expirationTimes,P=e.hiddenUpdates;for(a=y&~a;0<a;){var Y=31-ue(a),Z=1<<Y;E[Y]=0,D[Y]=-1;var B=P[Y];if(B!==null)for(P[Y]=null,Y=0;Y<B.length;Y++){var F=B[Y];F!==null&&(F.lane&=-536870913)}a&=~Z}l!==0&&Ar(e,l,0),d!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~i))}function Ar(e,i,a){e.pendingLanes|=i,e.suspendedLanes&=~i;var l=31-ue(i);e.entangledLanes|=i,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function xo(e,i){var a=e.entangledLanes|=i;for(e=e.entanglements;a;){var l=31-ue(a),h=1<<l;h&i|e[l]&i&&(e[l]|=i),a&=~h}}function Ro(e,i){var a=i&-i;return a=(a&42)!==0?1:xr(a),(a&(e.suspendedLanes|i))!==0?0:a}function xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=rt.p;return e!==0?e:(e=window.event,e===void 0?32:k_(e.type))}function ti(e,i){var a=rt.p;try{return rt.p=e,i()}finally{rt.p=a}}var ei=Math.random().toString(36).slice(2),Me="__reactFiber$"+ei,Ke="__reactProps$"+ei,vi="__reactContainer$"+ei,pa="__reactEvents$"+ei,kh="__reactListeners$"+ei,ou="__reactHandles$"+ei,lu="__reactResources$"+ei,bi="__reactMarker$"+ei;function ya(e){delete e[Me],delete e[Ke],delete e[pa],delete e[kh],delete e[ou]}function Ei(e){var i=e[Me];if(i)return i;for(var a=e.parentNode;a;){if(i=a[vi]||a[Me]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(e=v_(e);e!==null;){if(a=e[Me])return a;e=v_(e)}return i}e=a,a=e.parentNode}return null}function Pn(e){if(e=e[Me]||e[vi]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function In(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(r(33))}function Ti(e){var i=e[lu];return i||(i=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Ve(e){e[bi]=!0}var Co=new Set,Io={};function Si(e,i){wi(e,i),wi(e+"Capture",i)}function wi(e,i){for(Io[e]=i,e=0;e<i.length;e++)Co.add(i[e])}var No=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Oo={};function uu(e){return Qt.call(Oo,e)?!0:Qt.call(Do,e)?!1:No.test(e)?Oo[e]=!0:(Do[e]=!0,!1)}function _a(e,i,a){if(uu(i))if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+a)}}function Nn(e,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+a)}}function ke(e,i,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(i,a,""+l)}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function As(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Mo(e,i,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return h.call(this)},set:function(y){a=""+y,d.call(this,y)}}),Object.defineProperty(e,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function ee(e){if(!e._valueTracker){var i=As(e)?"checked":"value";e._valueTracker=Mo(e,i,""+e[i])}}function Rr(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return e&&(l=As(e)?e.checked?"true":"false":e.value),e=l,e!==a?(i.setValue(e),!0):!1}function Ai(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cr=/[\n"\\]/g;function vn(e){return e.replace(Cr,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function va(e,i,a,l,h,d,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),i!=null?y==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+Ye(i)):e.value!==""+Ye(i)&&(e.value=""+Ye(i)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),i!=null?Vo(e,y,Ye(i)):a!=null?Vo(e,y,Ye(a)):l!=null&&e.removeAttribute("value"),h==null&&d!=null&&(e.defaultChecked=!!d),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ye(E):e.removeAttribute("name")}function cu(e,i,a,l,h,d,y,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){ee(e);return}a=a!=null?""+Ye(a):"",i=i!=null?""+Ye(i):a,E||i===e.value||(e.value=i),e.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=E?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),ee(e)}function Vo(e,i,a){i==="number"&&Ai(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function xs(e,i,a,l){if(e=e.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=i.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ye(a),i=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}i!==null||e[h].disabled||(i=e[h])}i!==null&&(i.selected=!0)}}function hu(e,i,a){if(i!=null&&(i=""+Ye(i),i!==e.value&&(e.value=i),a==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=a!=null?""+Ye(a):""}function Rs(e,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(r(92));if(Gt(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Ye(i),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),ee(e)}function bn(e,i){if(i){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=i;return}}e.textContent=i}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":l?e.setProperty(i,a):typeof a!="number"||a===0||fu.has(i)?i==="float"?e.cssFloat=a:e[i]=(""+a).trim():e[i]=a+"px"}function Uo(e,i,a){if(i!=null&&typeof i!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&ko(e,h,l)}else for(var d in i)i.hasOwnProperty(d)&&ko(e,d,i[d])}function ba(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(e){return Cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var jo=null;function zn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,xi=null;function Ir(e){var i=Pn(e);if(i&&(e=i.stateNode)){var a=e[Ke]||null;t:switch(e=i.stateNode,i.type){case"input":if(va(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+vn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==e&&l.form===e.form){var h=l[Ke]||null;if(!h)throw Error(r(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===e.form&&Rr(l)}break t;case"textarea":hu(e,a.value,a.defaultValue);break t;case"select":i=a.value,i!=null&&xs(e,!!a.multiple,i,!1)}}}var Ta=!1;function Ns(e,i,a){if(Ta)return e(i,a);Ta=!0;try{var l=e(i);return l}finally{if(Ta=!1,(Is!==null||xi!==null)&&(ac(),Is&&(i=Is,e=xi,xi=Is=null,Ir(i),e)))for(i=0;i<e.length;i++)Ir(e[i])}}function ii(e,i){var a=e.stateNode;if(a===null)return null;var l=a[Ke]||null;if(l===null)return null;a=l[i];t:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,i,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Nr=!1;if(Bn)try{var re={};Object.defineProperty(re,"passive",{get:function(){Nr=!0}}),window.addEventListener("test",re,re),window.removeEventListener("test",re,re)}catch{Nr=!1}var Ri=null,Lo=null,Dr=null;function Po(){if(Dr)return Dr;var e,i=Lo,a=i.length,l,h="value"in Ri?Ri.value:Ri.textContent,d=h.length;for(e=0;e<a&&i[e]===h[e];e++);var y=a-e;for(l=1;l<=y&&i[a-l]===h[d-l];l++);return Dr=h.slice(e,1<l?1-l:void 0)}function Or(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function si(){return!1}function Je(e){function i(a,l,h,d,y){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(a=e[E],this[E]=a?a(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ji:si,this.isPropagationStopped=si,this}return R(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),i}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ci=Je(Wi),Ds=R({},Wi,{view:0,detail:0}),zo=Je(Ds),Os,Sa,Ii,wa=R({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Os=e.screenX-Ii.screenX,Sa=e.screenY-Ii.screenY):Sa=Os=0,Ii=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:Sa}}),Bo=Je(wa),Mr=R({},wa,{dataTransfer:0}),mu=Je(Mr),gu=R({},Ds,{relatedTarget:0}),Vr=Je(gu),qo=R({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Je(qo),Aa=R({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=Je(Aa),_u=R({},Wi,{data:0}),Ni=Je(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=Eu[e])?!!i[e]:!1}function Ms(){return Tu}var mn=R({},Ds,{key:function(e){if(e.key){var i=vu[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Or(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ms,charCode:function(e){return e.type==="keypress"?Or(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Or(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Su=Je(mn),wu=R({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Je(wu),c=R({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ms}),m=Je(c),v=R({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Je(v),j=R({},wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Je(j),at=R({},Wi,{newState:0,oldState:0}),Ct=Je(at),Ce=[9,13,27,32],$t=Bn&&"CompositionEvent"in window,_e=null;Bn&&"documentMode"in document&&(_e=document.documentMode);var qn=Bn&&"TextEvent"in window&&!_e,Di=Bn&&(!$t||_e&&8<_e&&11>=_e),ri=" ",ai=!1;function kr(e,i){switch(e){case"keyup":return Ce.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ra=!1;function yT(e,i){switch(e){case"compositionend":return xa(i);case"keypress":return i.which!==32?null:(ai=!0,ri);case"textInput":return e=i.data,e===ri&&ai?null:e;default:return null}}function _T(e,i){if(Ra)return e==="compositionend"||!$t&&kr(e,i)?(e=Po(),Dr=Lo=Ri=null,Ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Di&&i.locale!=="ko"?null:i.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tg(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!vT[e.type]:i==="textarea"}function Sg(e,i,a,l){Is?xi?xi.push(l):xi=[l]:Is=l,i=dc(i,"onChange"),0<i.length&&(a=new Ci("onChange","change",null,a,l),e.push({event:a,listeners:i}))}var Ho=null,Fo=null;function bT(e){r_(e,0)}function Au(e){var i=In(e);if(Rr(i))return e}function wg(e,i){if(e==="change")return i}var Ag=!1;if(Bn){var Uh;if(Bn){var jh="oninput"in document;if(!jh){var xg=document.createElement("div");xg.setAttribute("oninput","return;"),jh=typeof xg.oninput=="function"}Uh=jh}else Uh=!1;Ag=Uh&&(!document.documentMode||9<document.documentMode)}function Rg(){Ho&&(Ho.detachEvent("onpropertychange",Cg),Fo=Ho=null)}function Cg(e){if(e.propertyName==="value"&&Au(Fo)){var i=[];Sg(i,Fo,e,zn(e)),Ns(bT,i)}}function ET(e,i,a){e==="focusin"?(Rg(),Ho=i,Fo=a,Ho.attachEvent("onpropertychange",Cg)):e==="focusout"&&Rg()}function TT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Au(Fo)}function ST(e,i){if(e==="click")return Au(i)}function wT(e,i){if(e==="input"||e==="change")return Au(i)}function AT(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Dn=typeof Object.is=="function"?Object.is:AT;function Go(e,i){if(Dn(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var a=Object.keys(e),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Qt.call(i,h)||!Dn(e[h],i[h]))return!1}return!0}function Ig(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ng(e,i){var a=Ig(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=i&&l>=i)return{node:a,offset:i-e};e=l}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=Ig(a)}}function Dg(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?Dg(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function Og(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ai(e.document);i instanceof e.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)e=i.contentWindow;else break;i=Ai(e.document)}return i}function Lh(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var xT=Bn&&"documentMode"in document&&11>=document.documentMode,Ca=null,Ph=null,Qo=null,zh=!1;function Mg(e,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;zh||Ca==null||Ca!==Ai(l)||(l=Ca,"selectionStart"in l&&Lh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Go(Qo,l)||(Qo=l,l=dc(Ph,"onSelect"),0<l.length&&(i=new Ci("onSelect","select",null,i,a),e.push({event:i,listeners:l}),i.target=Ca)))}function Ur(e,i){var a={};return a[e.toLowerCase()]=i.toLowerCase(),a["Webkit"+e]="webkit"+i,a["Moz"+e]="moz"+i,a}var Ia={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Bh={},Vg={};Bn&&(Vg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function jr(e){if(Bh[e])return Bh[e];if(!Ia[e])return e;var i=Ia[e],a;for(a in i)if(i.hasOwnProperty(a)&&a in Vg)return Bh[e]=i[a];return e}var kg=jr("animationend"),Ug=jr("animationiteration"),jg=jr("animationstart"),RT=jr("transitionrun"),CT=jr("transitionstart"),IT=jr("transitioncancel"),Lg=jr("transitionend"),Pg=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function oi(e,i){Pg.set(e,i),Si(i,[e])}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Hn=[],Na=0,Hh=0;function Ru(){for(var e=Na,i=Hh=Na=0;i<e;){var a=Hn[i];Hn[i++]=null;var l=Hn[i];Hn[i++]=null;var h=Hn[i];Hn[i++]=null;var d=Hn[i];if(Hn[i++]=null,l!==null&&h!==null){var y=l.pending;y===null?h.next=h:(h.next=y.next,y.next=h),l.pending=h}d!==0&&zg(a,h,d)}}function Cu(e,i,a,l){Hn[Na++]=e,Hn[Na++]=i,Hn[Na++]=a,Hn[Na++]=l,Hh|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Fh(e,i,a,l){return Cu(e,i,a,l),Iu(e)}function Lr(e,i){return Cu(e,null,null,i),Iu(e)}function zg(e,i,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=e.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(h=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,h&&i!==null&&(h=31-ue(a),e=d.hiddenUpdates,l=e[h],l===null?e[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function Iu(e){if(50<ml)throw ml=0,td=null,Error(r(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Da={};function NT(e,i,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(e,i,a,l){return new NT(e,i,a,l)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function es(e,i){var a=e.alternate;return a===null?(a=On(e.tag,i,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=i,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,i=e.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Bg(e,i){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,i=a.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Nu(e,i,a,l,h,d){var y=0;if(l=e,typeof e=="function")Gh(e)&&(y=1);else if(typeof e=="string")y=k1(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=On(31,a,i,h),e.elementType=C,e.lanes=d,e;case W:return Pr(a.children,h,d,i);case K:y=8,h|=24;break;case it:return e=On(12,a,i,h|2),e.elementType=it,e.lanes=d,e;case ut:return e=On(13,a,i,h),e.elementType=ut,e.lanes=d,e;case z:return e=On(19,a,i,h),e.elementType=z,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case et:y=10;break t;case st:y=9;break t;case nt:y=11;break t;case x:y=14;break t;case w:y=16,l=null;break t}y=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return i=On(y,a,i,h),i.elementType=e,i.type=l,i.lanes=d,i}function Pr(e,i,a,l){return e=On(7,e,l,i),e.lanes=a,e}function Qh(e,i,a){return e=On(6,e,null,i),e.lanes=a,e}function qg(e){var i=On(18,null,null,0);return i.stateNode=e,i}function Kh(e,i,a){return i=On(4,e.children!==null?e.children:[],e.key,i),i.lanes=a,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var Hg=new WeakMap;function Fn(e,i){if(typeof e=="object"&&e!==null){var a=Hg.get(e);return a!==void 0?a:(i={value:e,source:i,stack:Jt(i)},Hg.set(e,i),i)}return{value:e,source:i,stack:Jt(i)}}var Oa=[],Ma=0,Du=null,Ko=0,Gn=[],Qn=0,Vs=null,Oi=1,Mi="";function ns(e,i){Oa[Ma++]=Ko,Oa[Ma++]=Du,Du=e,Ko=i}function Fg(e,i,a){Gn[Qn++]=Oi,Gn[Qn++]=Mi,Gn[Qn++]=Vs,Vs=e;var l=Oi;e=Mi;var h=32-ue(l)-1;l&=~(1<<h),a+=1;var d=32-ue(i)+h;if(30<d){var y=h-h%5;d=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Oi=1<<32-ue(i)+h|a<<h|l,Mi=d+e}else Oi=1<<d|a<<h|l,Mi=e}function Yh(e){e.return!==null&&(ns(e,1),Fg(e,1,0))}function Xh(e){for(;e===Du;)Du=Oa[--Ma],Oa[Ma]=null,Ko=Oa[--Ma],Oa[Ma]=null;for(;e===Vs;)Vs=Gn[--Qn],Gn[Qn]=null,Mi=Gn[--Qn],Gn[Qn]=null,Oi=Gn[--Qn],Gn[Qn]=null}function Gg(e,i){Gn[Qn++]=Oi,Gn[Qn++]=Mi,Gn[Qn++]=Vs,Oi=i.id,Mi=i.overflow,Vs=e}var We=null,me=null,qt=!1,ks=null,Kn=!1,$h=Error(r(519));function Us(e){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Fn(i,e)),$h}function Qg(e){var i=e.stateNode,a=e.type,l=e.memoizedProps;switch(i[Me]=e,i[Ke]=l,a){case"dialog":Vt("cancel",i),Vt("close",i);break;case"iframe":case"object":case"embed":Vt("load",i);break;case"video":case"audio":for(a=0;a<pl.length;a++)Vt(pl[a],i);break;case"source":Vt("error",i);break;case"img":case"image":case"link":Vt("error",i),Vt("load",i);break;case"details":Vt("toggle",i);break;case"input":Vt("invalid",i),cu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Vt("invalid",i);break;case"textarea":Vt("invalid",i),Rs(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||u_(i.textContent,a)?(l.popover!=null&&(Vt("beforetoggle",i),Vt("toggle",i)),l.onScroll!=null&&Vt("scroll",i),l.onScrollEnd!=null&&Vt("scrollend",i),l.onClick!=null&&(i.onclick=ni),i=!0):i=!1,i||Us(e,!0)}function Kg(e){for(We=e.return;We;)switch(We.tag){case 5:case 31:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:We=We.return}}function Va(e){if(e!==We)return!1;if(!qt)return Kg(e),qt=!0,!1;var i=e.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||gd(e.type,e.memoizedProps)),a=!a),a&&me&&Us(e),Kg(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));me=__(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));me=__(e)}else i===27?(i=me,$s(e.type)?(e=bd,bd=null,me=e):me=i):me=We?Xn(e.stateNode.nextSibling):null;return!0}function zr(){me=We=null,qt=!1}function Zh(){var e=ks;return e!==null&&(wn===null?wn=e:wn.push.apply(wn,e),ks=null),e}function Yo(e){ks===null?ks=[e]:ks.push(e)}var Jh=k(null),Br=null,is=null;function js(e,i,a){ot(Jh,i._currentValue),i._currentValue=a}function ss(e){e._currentValue=Jh.current,$(Jh)}function Wh(e,i,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),e===a)break;e=e.return}}function tf(e,i,a,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var d=h.dependencies;if(d!==null){var y=h.child;d=d.firstContext;t:for(;d!==null;){var E=d;d=h;for(var D=0;D<i.length;D++)if(E.context===i[D]){d.lanes|=a,E=d.alternate,E!==null&&(E.lanes|=a),Wh(d.return,a,e),l||(y=null);break t}d=E.next}}else if(h.tag===18){if(y=h.return,y===null)throw Error(r(341));y.lanes|=a,d=y.alternate,d!==null&&(d.lanes|=a),Wh(y,a,e),y=null}else y=h.child;if(y!==null)y.return=h;else for(y=h;y!==null;){if(y===e){y=null;break}if(h=y.sibling,h!==null){h.return=y.return,y=h;break}y=y.return}h=y}}function ka(e,i,a,l){e=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var y=h.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var E=h.type;Dn(h.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(h===kt.current){if(y=h.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}h=h.return}e!==null&&tf(i,e,a,l),i.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!Dn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Br=e,is=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function tn(e){return Yg(Br,e)}function Mu(e,i){return Br===null&&qr(e),Yg(e,i)}function Yg(e,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},is===null){if(e===null)throw Error(r(308));is=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else is=is.next=i;return a}var DT=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){i.aborted=!0,e.forEach(function(a){return a()})}},OT=s.unstable_scheduleCallback,MT=s.unstable_NormalPriority,Ue={$$typeof:et,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new DT,data:new Map,refCount:0}}function Xo(e){e.refCount--,e.refCount===0&&OT(MT,function(){e.controller.abort()})}var $o=null,nf=0,Ua=0,ja=null;function VT(e,i){if($o===null){var a=$o=[];nf=0,Ua=ad(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return nf++,i.then(Xg,Xg),i}function Xg(){if(--nf===0&&$o!==null){ja!==null&&(ja.status="fulfilled");var e=$o;$o=null,Ua=0,ja=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function kT(e,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var $g=G.S;G.S=function(e,i){My=ln(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&VT(e,i),$g!==null&&$g(e,i)};var Hr=k(null);function sf(){var e=Hr.current;return e!==null?e:ce.pooledCache}function Vu(e,i){i===null?ot(Hr,Hr.current):ot(Hr,i.pool)}function Zg(){var e=sf();return e===null?null:{parent:Ue._currentValue,pool:e}}var La=Error(r(460)),rf=Error(r(474)),ku=Error(r(542)),Uu={then:function(){}};function Jg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wg(e,i,a){switch(a=e[a],a===void 0?e.push(i):a!==i&&(i.then(ni,ni),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ep(e),e;default:if(typeof i.status=="string")i.then(ni,ni);else{if(e=ce,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=i,e.status="pending",e.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,ep(e),e}throw Gr=i,La}}function Fr(e){try{var i=e._init;return i(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gr=a,La):a}}var Gr=null;function tp(){if(Gr===null)throw Error(r(459));var e=Gr;return Gr=null,e}function ep(e){if(e===La||e===ku)throw Error(r(483))}var Pa=null,Zo=0;function ju(e){var i=Zo;return Zo+=1,Pa===null&&(Pa=[]),Wg(Pa,e,i)}function Jo(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Lu(e,i){throw i.$$typeof===O?Error(r(525)):(e=Object.prototype.toString.call(i),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function np(e){function i(U,V){if(e){var L=U.deletions;L===null?(U.deletions=[V],U.flags|=16):L.push(V)}}function a(U,V){if(!e)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=es(U,V),U.index=0,U.sibling=null,U}function d(U,V,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<V?(U.flags|=67108866,V):L):(U.flags|=67108866,V)):(U.flags|=1048576,V)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,V,L,X){return V===null||V.tag!==6?(V=Qh(L,U.mode,X),V.return=U,V):(V=h(V,L),V.return=U,V)}function D(U,V,L,X){var pt=L.type;return pt===W?Y(U,V,L.props.children,X,L.key):V!==null&&(V.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Fr(pt)===V.type)?(V=h(V,L.props),Jo(V,L),V.return=U,V):(V=Nu(L.type,L.key,L.props,null,U.mode,X),Jo(V,L),V.return=U,V)}function P(U,V,L,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==L.containerInfo||V.stateNode.implementation!==L.implementation?(V=Kh(L,U.mode,X),V.return=U,V):(V=h(V,L.children||[]),V.return=U,V)}function Y(U,V,L,X,pt){return V===null||V.tag!==7?(V=Pr(L,U.mode,X,pt),V.return=U,V):(V=h(V,L),V.return=U,V)}function Z(U,V,L){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Qh(""+V,U.mode,L),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case q:return L=Nu(V.type,V.key,V.props,null,U.mode,L),Jo(L,V),L.return=U,L;case Q:return V=Kh(V,U.mode,L),V.return=U,V;case w:return V=Fr(V),Z(U,V,L)}if(Gt(V)||M(V))return V=Pr(V,U.mode,L,null),V.return=U,V;if(typeof V.then=="function")return Z(U,ju(V),L);if(V.$$typeof===et)return Z(U,Mu(U,V),L);Lu(U,V)}return null}function B(U,V,L,X){var pt=V!==null?V.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pt!==null?null:E(U,V,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case q:return L.key===pt?D(U,V,L,X):null;case Q:return L.key===pt?P(U,V,L,X):null;case w:return L=Fr(L),B(U,V,L,X)}if(Gt(L)||M(L))return pt!==null?null:Y(U,V,L,X,null);if(typeof L.then=="function")return B(U,V,ju(L),X);if(L.$$typeof===et)return B(U,V,Mu(U,L),X);Lu(U,L)}return null}function F(U,V,L,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(L)||null,E(V,U,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return U=U.get(X.key===null?L:X.key)||null,D(V,U,X,pt);case Q:return U=U.get(X.key===null?L:X.key)||null,P(V,U,X,pt);case w:return X=Fr(X),F(U,V,L,X,pt)}if(Gt(X)||M(X))return U=U.get(L)||null,Y(V,U,X,pt,null);if(typeof X.then=="function")return F(U,V,L,ju(X),pt);if(X.$$typeof===et)return F(U,V,L,Mu(V,X),pt);Lu(V,X)}return null}function dt(U,V,L,X){for(var pt=null,Kt=null,mt=V,Nt=V=0,Lt=null;mt!==null&&Nt<L.length;Nt++){mt.index>Nt?(Lt=mt,mt=null):Lt=mt.sibling;var Yt=B(U,mt,L[Nt],X);if(Yt===null){mt===null&&(mt=Lt);break}e&&mt&&Yt.alternate===null&&i(U,mt),V=d(Yt,V,Nt),Kt===null?pt=Yt:Kt.sibling=Yt,Kt=Yt,mt=Lt}if(Nt===L.length)return a(U,mt),qt&&ns(U,Nt),pt;if(mt===null){for(;Nt<L.length;Nt++)mt=Z(U,L[Nt],X),mt!==null&&(V=d(mt,V,Nt),Kt===null?pt=mt:Kt.sibling=mt,Kt=mt);return qt&&ns(U,Nt),pt}for(mt=l(mt);Nt<L.length;Nt++)Lt=F(mt,U,Nt,L[Nt],X),Lt!==null&&(e&&Lt.alternate!==null&&mt.delete(Lt.key===null?Nt:Lt.key),V=d(Lt,V,Nt),Kt===null?pt=Lt:Kt.sibling=Lt,Kt=Lt);return e&&mt.forEach(function(er){return i(U,er)}),qt&&ns(U,Nt),pt}function _t(U,V,L,X){if(L==null)throw Error(r(151));for(var pt=null,Kt=null,mt=V,Nt=V=0,Lt=null,Yt=L.next();mt!==null&&!Yt.done;Nt++,Yt=L.next()){mt.index>Nt?(Lt=mt,mt=null):Lt=mt.sibling;var er=B(U,mt,Yt.value,X);if(er===null){mt===null&&(mt=Lt);break}e&&mt&&er.alternate===null&&i(U,mt),V=d(er,V,Nt),Kt===null?pt=er:Kt.sibling=er,Kt=er,mt=Lt}if(Yt.done)return a(U,mt),qt&&ns(U,Nt),pt;if(mt===null){for(;!Yt.done;Nt++,Yt=L.next())Yt=Z(U,Yt.value,X),Yt!==null&&(V=d(Yt,V,Nt),Kt===null?pt=Yt:Kt.sibling=Yt,Kt=Yt);return qt&&ns(U,Nt),pt}for(mt=l(mt);!Yt.done;Nt++,Yt=L.next())Yt=F(mt,U,Nt,Yt.value,X),Yt!==null&&(e&&Yt.alternate!==null&&mt.delete(Yt.key===null?Nt:Yt.key),V=d(Yt,V,Nt),Kt===null?pt=Yt:Kt.sibling=Yt,Kt=Yt);return e&&mt.forEach(function(Q1){return i(U,Q1)}),qt&&ns(U,Nt),pt}function le(U,V,L,X){if(typeof L=="object"&&L!==null&&L.type===W&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case q:t:{for(var pt=L.key;V!==null;){if(V.key===pt){if(pt=L.type,pt===W){if(V.tag===7){a(U,V.sibling),X=h(V,L.props.children),X.return=U,U=X;break t}}else if(V.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Fr(pt)===V.type){a(U,V.sibling),X=h(V,L.props),Jo(X,L),X.return=U,U=X;break t}a(U,V);break}else i(U,V);V=V.sibling}L.type===W?(X=Pr(L.props.children,U.mode,X,L.key),X.return=U,U=X):(X=Nu(L.type,L.key,L.props,null,U.mode,X),Jo(X,L),X.return=U,U=X)}return y(U);case Q:t:{for(pt=L.key;V!==null;){if(V.key===pt)if(V.tag===4&&V.stateNode.containerInfo===L.containerInfo&&V.stateNode.implementation===L.implementation){a(U,V.sibling),X=h(V,L.children||[]),X.return=U,U=X;break t}else{a(U,V);break}else i(U,V);V=V.sibling}X=Kh(L,U.mode,X),X.return=U,U=X}return y(U);case w:return L=Fr(L),le(U,V,L,X)}if(Gt(L))return dt(U,V,L,X);if(M(L)){if(pt=M(L),typeof pt!="function")throw Error(r(150));return L=pt.call(L),_t(U,V,L,X)}if(typeof L.then=="function")return le(U,V,ju(L),X);if(L.$$typeof===et)return le(U,V,Mu(U,L),X);Lu(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,V!==null&&V.tag===6?(a(U,V.sibling),X=h(V,L),X.return=U,U=X):(a(U,V),X=Qh(L,U.mode,X),X.return=U,U=X),y(U)):a(U,V)}return function(U,V,L,X){try{Zo=0;var pt=le(U,V,L,X);return Pa=null,pt}catch(mt){if(mt===La||mt===ku)throw mt;var Kt=On(29,mt,null,U.mode);return Kt.lanes=X,Kt.return=U,Kt}finally{}}}var Qr=np(!0),ip=np(!1),Ls=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ps(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function zs(e,i,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Iu(e),zg(e,null,a),i}return Cu(e,l,i,a),Iu(e)}function Wo(e,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,xo(e,a)}}function lf(e,i){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=y:d=d.next=y,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=i:e.next=i,a.lastBaseUpdate=i}var uf=!1;function tl(){if(uf){var e=ja;if(e!==null)throw e}}function el(e,i,a,l){uf=!1;var h=e.updateQueue;Ls=!1;var d=h.firstBaseUpdate,y=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var D=E,P=D.next;D.next=null,y===null?d=P:y.next=P,y=D;var Y=e.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==y&&(E===null?Y.firstBaseUpdate=P:E.next=P,Y.lastBaseUpdate=D))}if(d!==null){var Z=h.baseState;y=0,Y=P=D=null,E=d;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(jt&B)===B:(l&B)===B){B!==0&&B===Ua&&(uf=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var dt=e,_t=E;B=i;var le=a;switch(_t.tag){case 1:if(dt=_t.payload,typeof dt=="function"){Z=dt.call(le,Z,B);break t}Z=dt;break t;case 3:dt.flags=dt.flags&-65537|128;case 0:if(dt=_t.payload,B=typeof dt=="function"?dt.call(le,Z,B):dt,B==null)break t;Z=R({},Z,B);break t;case 2:Ls=!0}}B=E.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(P=Y=F,D=Z):Y=Y.next=F,y|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Y===null&&(D=Z),h.baseState=D,h.firstBaseUpdate=P,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Gs|=y,e.lanes=y,e.memoizedState=Z}}function sp(e,i){if(typeof e!="function")throw Error(r(191,e));e.call(i)}function rp(e,i){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)sp(a[e],i)}var za=k(null),Pu=k(0);function ap(e,i){e=ds,ot(Pu,e),ot(za,i),ds=e|i.baseLanes}function cf(){ot(Pu,ds),ot(za,za.current)}function hf(){ds=Pu.current,$(za),$(Pu)}var Mn=k(null),Yn=null;function Bs(e){var i=e.alternate;ot(Ie,Ie.current&1),ot(Mn,e),Yn===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(Yn=e)}function ff(e){ot(Ie,Ie.current),ot(Mn,e),Yn===null&&(Yn=e)}function op(e){e.tag===22?(ot(Ie,Ie.current),ot(Mn,e),Yn===null&&(Yn=e)):qs()}function qs(){ot(Ie,Ie.current),ot(Mn,Mn.current)}function Vn(e){$(Mn),Yn===e&&(Yn=null),$(Ie)}var Ie=k(0);function zu(e){for(var i=e;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||_d(a)||vd(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var rs=0,It=null,ae=null,je=null,Bu=!1,Ba=!1,Kr=!1,qu=0,nl=0,qa=null,UT=0;function Te(){throw Error(r(321))}function df(e,i){if(i===null)return!1;for(var a=0;a<i.length&&a<e.length;a++)if(!Dn(e[a],i[a]))return!1;return!0}function mf(e,i,a,l,h,d){return rs=d,It=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,G.H=e===null||e.memoizedState===null?Fp:If,Kr=!1,d=a(l,h),Kr=!1,Ba&&(d=up(i,a,l,h)),lp(e),d}function lp(e){G.H=rl;var i=ae!==null&&ae.next!==null;if(rs=0,je=ae=It=null,Bu=!1,nl=0,qa=null,i)throw Error(r(300));e===null||Le||(e=e.dependencies,e!==null&&Ou(e)&&(Le=!0))}function up(e,i,a,l){It=e;var h=0;do{if(Ba&&(qa=null),nl=0,Ba=!1,25<=h)throw Error(r(301));if(h+=1,je=ae=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}G.H=Gp,d=i(a,l)}while(Ba);return d}function jT(){var e=G.H,i=e.useState()[0];return i=typeof i.then=="function"?il(i):i,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(It.flags|=1024),i}function gf(){var e=qu!==0;return qu=0,e}function pf(e,i,a){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~a}function yf(e){if(Bu){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Bu=!1}rs=0,je=ae=It=null,Ba=!1,nl=qu=0,qa=null}function gn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?It.memoizedState=je=e:je=je.next=e,je}function Ne(){if(ae===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var i=je===null?It.memoizedState:je.next;if(i!==null)je=i,ae=e;else{if(e===null)throw It.alternate===null?Error(r(467)):Error(r(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},je===null?It.memoizedState=je=e:je=je.next=e}return je}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(e){var i=nl;return nl+=1,qa===null&&(qa=[]),e=Wg(qa,e,i),i=It,(je===null?i.memoizedState:je.next)===null&&(i=i.alternate,G.H=i===null||i.memoizedState===null?Fp:If),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return il(e);if(e.$$typeof===et)return tn(e)}throw Error(r(438,String(e)))}function _f(e){var i=null,a=It.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Hu(),It.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(e),l=0;l<e;l++)a[l]=A;return i.index++,a}function as(e,i){return typeof i=="function"?i(e):i}function Gu(e){var i=Ne();return vf(i,ae,e)}function vf(e,i,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var h=e.baseQueue,d=l.pending;if(d!==null){if(h!==null){var y=h.next;h.next=d.next,d.next=y}i.baseQueue=h=d,l.pending=null}if(d=e.baseState,h===null)e.memoizedState=d;else{i=h.next;var E=y=null,D=null,P=i,Y=!1;do{var Z=P.lane&-536870913;if(Z!==P.lane?(jt&Z)===Z:(rs&Z)===Z){var B=P.revertLane;if(B===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),Z===Ua&&(Y=!0);else if((rs&B)===B){P=P.next,B===Ua&&(Y=!0);continue}else Z={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(E=D=Z,y=d):D=D.next=Z,It.lanes|=B,Gs|=B;Z=P.action,Kr&&a(d,Z),d=P.hasEagerState?P.eagerState:a(d,Z)}else B={lane:Z,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},D===null?(E=D=B,y=d):D=D.next=B,It.lanes|=Z,Gs|=Z;P=P.next}while(P!==null&&P!==i);if(D===null?y=d:D.next=E,!Dn(d,e.memoizedState)&&(Le=!0,Y&&(a=ja,a!==null)))throw a;e.memoizedState=d,e.baseState=y,e.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function bf(e){var i=Ne(),a=i.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var y=h=h.next;do d=e(d,y.action),y=y.next;while(y!==h);Dn(d,i.memoizedState)||(Le=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function cp(e,i,a){var l=It,h=Ne(),d=qt;if(d){if(a===void 0)throw Error(r(407));a=a()}else a=i();var y=!Dn((ae||h).memoizedState,a);if(y&&(h.memoizedState=a,Le=!0),h=h.queue,Sf(dp.bind(null,l,h,e),[e]),h.getSnapshot!==i||y||je!==null&&je.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},fp.bind(null,l,h,a,i),null),ce===null)throw Error(r(349));d||(rs&127)!==0||hp(l,i,a)}return a}function hp(e,i,a){e.flags|=16384,e={getSnapshot:i,value:a},i=It.updateQueue,i===null?(i=Hu(),It.updateQueue=i,i.stores=[e]):(a=i.stores,a===null?i.stores=[e]:a.push(e))}function fp(e,i,a,l){i.value=a,i.getSnapshot=l,mp(i)&&gp(e)}function dp(e,i,a){return a(function(){mp(i)&&gp(e)})}function mp(e){var i=e.getSnapshot;e=e.value;try{var a=i();return!Dn(e,a)}catch{return!0}}function gp(e){var i=Lr(e,2);i!==null&&An(i,e,2)}function Ef(e){var i=gn();if(typeof e=="function"){var a=e;if(e=a(),Kr){_n(!0);try{a()}finally{_n(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},i}function pp(e,i,a,l){return e.baseState=a,vf(e,ae,typeof l=="function"?l:as)}function LT(e,i,a,l,h){if(Yu(e))throw Error(r(485));if(e=i.action,e!==null){var d={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};G.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,yp(i,d)):(d.next=a.next,i.pending=a.next=d)}}function yp(e,i){var a=i.action,l=i.payload,h=e.state;if(i.isTransition){var d=G.T,y={};G.T=y;try{var E=a(h,l),D=G.S;D!==null&&D(y,E),_p(e,i,E)}catch(P){Tf(e,i,P)}finally{d!==null&&y.types!==null&&(d.types=y.types),G.T=d}}else try{d=a(h,l),_p(e,i,d)}catch(P){Tf(e,i,P)}}function _p(e,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){vp(e,i,l)},function(l){return Tf(e,i,l)}):vp(e,i,a)}function vp(e,i,a){i.status="fulfilled",i.value=a,bp(i),e.state=a,i=e.pending,i!==null&&(a=i.next,a===i?e.pending=null:(a=a.next,i.next=a,yp(e,a)))}function Tf(e,i,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,bp(i),i=i.next;while(i!==l)}e.action=null}function bp(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function Ep(e,i){return i}function Tp(e,i){if(qt){var a=ce.formState;if(a!==null){t:{var l=It;if(qt){if(me){e:{for(var h=me,d=Kn;h.nodeType!==8;){if(!d){h=null;break e}if(h=Xn(h.nextSibling),h===null){h=null;break e}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){me=Xn(h.nextSibling),l=h.data==="F!";break t}}Us(l)}l=!1}l&&(i=a[0])}}return a=gn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ep,lastRenderedState:i},a.queue=l,a=Bp.bind(null,It,l),l.dispatch=a,l=Ef(!1),d=Cf.bind(null,It,!1,l.queue),l=gn(),h={state:i,dispatch:null,action:e,pending:null},l.queue=h,a=LT.bind(null,It,h,d,a),h.dispatch=a,l.memoizedState=e,[i,a,!1]}function Sp(e){var i=Ne();return wp(i,ae,e)}function wp(e,i,a){if(i=vf(e,i,Ep)[0],e=Gu(as)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=il(i)}catch(y){throw y===La?ku:y}else l=i;i=Ne();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(It.flags|=2048,Ha(9,{destroy:void 0},PT.bind(null,h,a),null)),[l,d,e]}function PT(e,i){e.action=i}function Ap(e){var i=Ne(),a=ae;if(a!==null)return wp(i,a,e);Ne(),i=i.memoizedState,a=Ne();var l=a.queue.dispatch;return a.memoizedState=e,[i,l,!1]}function Ha(e,i,a,l){return e={tag:e,create:a,deps:l,inst:i,next:null},i=It.updateQueue,i===null&&(i=Hu(),It.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,i.lastEffect=e),e}function xp(){return Ne().memoizedState}function Qu(e,i,a,l){var h=gn();It.flags|=e,h.memoizedState=Ha(1|i,{destroy:void 0},a,l===void 0?null:l)}function Ku(e,i,a,l){var h=Ne();l=l===void 0?null:l;var d=h.memoizedState.inst;ae!==null&&l!==null&&df(l,ae.memoizedState.deps)?h.memoizedState=Ha(i,d,a,l):(It.flags|=e,h.memoizedState=Ha(1|i,d,a,l))}function Rp(e,i){Qu(8390656,8,e,i)}function Sf(e,i){Ku(2048,8,e,i)}function zT(e){It.flags|=4;var i=It.updateQueue;if(i===null)i=Hu(),It.updateQueue=i,i.events=[e];else{var a=i.events;a===null?i.events=[e]:a.push(e)}}function Cp(e){var i=Ne().memoizedState;return zT({ref:i,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function Ip(e,i){return Ku(4,2,e,i)}function Np(e,i){return Ku(4,4,e,i)}function Dp(e,i){if(typeof i=="function"){e=e();var a=i(e);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function Op(e,i,a){a=a!=null?a.concat([e]):null,Ku(4,4,Dp.bind(null,i,e),a)}function wf(){}function Mp(e,i){var a=Ne();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&df(i,l[1])?l[0]:(a.memoizedState=[e,i],e)}function Vp(e,i){var a=Ne();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&df(i,l[1]))return l[0];if(l=e(),Kr){_n(!0);try{e()}finally{_n(!1)}}return a.memoizedState=[l,i],l}function Af(e,i,a){return a===void 0||(rs&1073741824)!==0&&(jt&261930)===0?e.memoizedState=i:(e.memoizedState=a,e=ky(),It.lanes|=e,Gs|=e,a)}function kp(e,i,a,l){return Dn(a,i)?a:za.current!==null?(e=Af(e,a,l),Dn(e,i)||(Le=!0),e):(rs&42)===0||(rs&1073741824)!==0&&(jt&261930)===0?(Le=!0,e.memoizedState=a):(e=ky(),It.lanes|=e,Gs|=e,i)}function Up(e,i,a,l,h){var d=rt.p;rt.p=d!==0&&8>d?d:8;var y=G.T,E={};G.T=E,Cf(e,!1,i,a);try{var D=h(),P=G.S;if(P!==null&&P(E,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var Y=kT(D,l);sl(e,i,Y,jn(e))}else sl(e,i,l,jn(e))}catch(Z){sl(e,i,{then:function(){},status:"rejected",reason:Z},jn())}finally{rt.p=d,y!==null&&E.types!==null&&(y.types=E.types),G.T=y}}function BT(){}function xf(e,i,a,l){if(e.tag!==5)throw Error(r(476));var h=jp(e).queue;Up(e,h,i,lt,a===null?BT:function(){return Lp(e),a(l)})}function jp(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:lt},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:a},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Lp(e){var i=jp(e);i.next===null&&(i=e.alternate.memoizedState),sl(e,i.next.queue,{},jn())}function Rf(){return tn(El)}function Pp(){return Ne().memoizedState}function zp(){return Ne().memoizedState}function qT(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var a=jn();e=Ps(a);var l=zs(i,e,a);l!==null&&(An(l,i,a),Wo(l,i,a)),i={cache:ef()},e.payload=i;return}i=i.return}}function HT(e,i,a){var l=jn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Yu(e)?qp(i,a):(a=Fh(e,i,a,l),a!==null&&(An(a,e,l),Hp(a,i,l)))}function Bp(e,i,a){var l=jn();sl(e,i,a,l)}function sl(e,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))qp(i,h);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var y=i.lastRenderedState,E=d(y,a);if(h.hasEagerState=!0,h.eagerState=E,Dn(E,y))return Cu(e,i,h,0),ce===null&&Ru(),!1}catch{}finally{}if(a=Fh(e,i,h,l),a!==null)return An(a,e,l),Hp(a,i,l),!0}return!1}function Cf(e,i,a,l){if(l={lane:2,revertLane:ad(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(i)throw Error(r(479))}else i=Fh(e,a,l,2),i!==null&&An(i,e,2)}function Yu(e){var i=e.alternate;return e===It||i!==null&&i===It}function qp(e,i){Ba=Bu=!0;var a=e.pending;a===null?i.next=i:(i.next=a.next,a.next=i),e.pending=i}function Hp(e,i,a){if((a&4194048)!==0){var l=i.lanes;l&=e.pendingLanes,a|=l,i.lanes=a,xo(e,a)}}var rl={readContext:tn,use:Fu,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};rl.useEffectEvent=Te;var Fp={readContext:tn,use:Fu,useCallback:function(e,i){return gn().memoizedState=[e,i===void 0?null:i],e},useContext:tn,useEffect:Rp,useImperativeHandle:function(e,i,a){a=a!=null?a.concat([e]):null,Qu(4194308,4,Dp.bind(null,i,e),a)},useLayoutEffect:function(e,i){return Qu(4194308,4,e,i)},useInsertionEffect:function(e,i){Qu(4,2,e,i)},useMemo:function(e,i){var a=gn();i=i===void 0?null:i;var l=e();if(Kr){_n(!0);try{e()}finally{_n(!1)}}return a.memoizedState=[l,i],l},useReducer:function(e,i,a){var l=gn();if(a!==void 0){var h=a(i);if(Kr){_n(!0);try{a(i)}finally{_n(!1)}}}else h=i;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=HT.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var i=gn();return e={current:e},i.memoizedState=e},useState:function(e){e=Ef(e);var i=e.queue,a=Bp.bind(null,It,i);return i.dispatch=a,[e.memoizedState,a]},useDebugValue:wf,useDeferredValue:function(e,i){var a=gn();return Af(a,e,i)},useTransition:function(){var e=Ef(!1);return e=Up.bind(null,It,e.queue,!0,!1),gn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,a){var l=It,h=gn();if(qt){if(a===void 0)throw Error(r(407));a=a()}else{if(a=i(),ce===null)throw Error(r(349));(jt&127)!==0||hp(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Rp(dp.bind(null,l,d,e),[e]),l.flags|=2048,Ha(9,{destroy:void 0},fp.bind(null,l,d,a,i),null),a},useId:function(){var e=gn(),i=ce.identifierPrefix;if(qt){var a=Mi,l=Oi;a=(l&~(1<<32-ue(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=qu++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=UT++,i="_"+i+"r_"+a.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Rf,useFormState:Tp,useActionState:Tp,useOptimistic:function(e){var i=gn();i.memoizedState=i.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Cf.bind(null,It,!0,a),a.dispatch=i,[e,i]},useMemoCache:_f,useCacheRefresh:function(){return gn().memoizedState=qT.bind(null,It)},useEffectEvent:function(e){var i=gn(),a={impl:e};return i.memoizedState=a,function(){if((Zt&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},If={readContext:tn,use:Fu,useCallback:Mp,useContext:tn,useEffect:Sf,useImperativeHandle:Op,useInsertionEffect:Ip,useLayoutEffect:Np,useMemo:Vp,useReducer:Gu,useRef:xp,useState:function(){return Gu(as)},useDebugValue:wf,useDeferredValue:function(e,i){var a=Ne();return kp(a,ae.memoizedState,e,i)},useTransition:function(){var e=Gu(as)[0],i=Ne().memoizedState;return[typeof e=="boolean"?e:il(e),i]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:Rf,useFormState:Sp,useActionState:Sp,useOptimistic:function(e,i){var a=Ne();return pp(a,ae,e,i)},useMemoCache:_f,useCacheRefresh:zp};If.useEffectEvent=Cp;var Gp={readContext:tn,use:Fu,useCallback:Mp,useContext:tn,useEffect:Sf,useImperativeHandle:Op,useInsertionEffect:Ip,useLayoutEffect:Np,useMemo:Vp,useReducer:bf,useRef:xp,useState:function(){return bf(as)},useDebugValue:wf,useDeferredValue:function(e,i){var a=Ne();return ae===null?Af(a,e,i):kp(a,ae.memoizedState,e,i)},useTransition:function(){var e=bf(as)[0],i=Ne().memoizedState;return[typeof e=="boolean"?e:il(e),i]},useSyncExternalStore:cp,useId:Pp,useHostTransitionStatus:Rf,useFormState:Ap,useActionState:Ap,useOptimistic:function(e,i){var a=Ne();return ae!==null?pp(a,ae,e,i):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:_f,useCacheRefresh:zp};Gp.useEffectEvent=Cp;function Nf(e,i,a,l){i=e.memoizedState,a=a(l,i),a=a==null?i:R({},i,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Df={enqueueSetState:function(e,i,a){e=e._reactInternals;var l=jn(),h=Ps(l);h.payload=i,a!=null&&(h.callback=a),i=zs(e,h,l),i!==null&&(An(i,e,l),Wo(i,e,l))},enqueueReplaceState:function(e,i,a){e=e._reactInternals;var l=jn(),h=Ps(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=zs(e,h,l),i!==null&&(An(i,e,l),Wo(i,e,l))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var a=jn(),l=Ps(a);l.tag=2,i!=null&&(l.callback=i),i=zs(e,l,a),i!==null&&(An(i,e,a),Wo(i,e,a))}};function Qp(e,i,a,l,h,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):i.prototype&&i.prototype.isPureReactComponent?!Go(a,l)||!Go(h,d):!0}function Kp(e,i,a,l){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==e&&Df.enqueueReplaceState(i,i.state,null)}function Yr(e,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(e=e.defaultProps){a===i&&(a=R({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}function Yp(e){xu(e)}function Xp(e){console.error(e)}function $p(e){xu(e)}function Xu(e,i){try{var a=e.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Zp(e,i,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(e,i,a){return a=Ps(a),a.tag=3,a.payload={element:null},a.callback=function(){Xu(e,i)},a}function Jp(e){return e=Ps(e),e.tag=3,e}function Wp(e,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;e.payload=function(){return h(d)},e.callback=function(){Zp(i,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Zp(i,a,l),typeof h!="function"&&(Qs===null?Qs=new Set([this]):Qs.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function FT(e,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ka(i,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 31:case 13:return Yn===null?oc():a.alternate===null&&Se===0&&(Se=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Uu?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),id(e,l,h)),!1;case 22:return a.flags|=65536,l===Uu?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),id(e,l,h)),!1}throw Error(r(435,a.tag))}return id(e,l,h),oc(),!1}if(qt)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==$h&&(e=Error(r(422),{cause:l}),Yo(Fn(e,a)))):(l!==$h&&(i=Error(r(423),{cause:l}),Yo(Fn(i,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Fn(l,a),h=Of(e.stateNode,l,h),lf(e,h),Se!==4&&(Se=2)),!1;var d=Error(r(520),{cause:l});if(d=Fn(d,a),dl===null?dl=[d]:dl.push(d),Se!==4&&(Se=2),i===null)return!0;l=Fn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=Of(a.stateNode,l,e),lf(a,e),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Qs===null||!Qs.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Jp(h),Wp(h,e,a,l),lf(a,h),!1}a=a.return}while(a!==null);return!1}var Mf=Error(r(461)),Le=!1;function en(e,i,a,l){i.child=e===null?ip(i,null,a,l):Qr(i,e.child,a,l)}function ty(e,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return qr(i),l=mf(e,i,a,y,d,h),E=gf(),e!==null&&!Le?(pf(e,i,h),os(e,i,h)):(qt&&E&&Yh(i),i.flags|=1,en(e,i,l,h),i.child)}function ey(e,i,a,l,h){if(e===null){var d=a.type;return typeof d=="function"&&!Gh(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,ny(e,i,d,l,h)):(e=Nu(a.type,null,l,i,i.mode,h),e.ref=i.ref,e.return=i,i.child=e)}if(d=e.child,!Bf(e,h)){var y=d.memoizedProps;if(a=a.compare,a=a!==null?a:Go,a(y,l)&&e.ref===i.ref)return os(e,i,h)}return i.flags|=1,e=es(d,l),e.ref=i.ref,e.return=i,i.child=e}function ny(e,i,a,l,h){if(e!==null){var d=e.memoizedProps;if(Go(d,l)&&e.ref===i.ref)if(Le=!1,i.pendingProps=l=d,Bf(e,h))(e.flags&131072)!==0&&(Le=!0);else return i.lanes=e.lanes,os(e,i,h)}return Vf(e,i,a,l,h)}function iy(e,i,a,l){var h=l.children,d=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,e!==null){for(l=i.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return sy(e,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(i,d!==null?d.cachePool:null),d!==null?ap(i,d):cf(),op(i);else return l=i.lanes=536870912,sy(e,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(Vu(i,d.cachePool),ap(i,d),qs(),i.memoizedState=null):(e!==null&&Vu(i,null),cf(),qs());return en(e,i,h,a),i.child}function al(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function sy(e,i,a,l,h){var d=sf();return d=d===null?null:{parent:Ue._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},e!==null&&Vu(i,null),cf(),op(i),e!==null&&ka(e,i,l,!0),i.childLanes=h,null}function $u(e,i){return i=Ju({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function ry(e,i,a){return Qr(i,e.child,null,a),e=$u(i,i.pendingProps),e.flags|=2,Vn(i),i.memoizedState=null,e}function GT(e,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(qt){if(l.mode==="hidden")return e=$u(i,l),i.lanes=536870912,al(null,e);if(ff(i),(e=me)?(e=y_(e,Kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Vs!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=qg(e),a.return=i,i.child=a,We=i,me=null)):e=null,e===null)throw Us(i);return i.lanes=536870912,null}return $u(i,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(ff(i),h)if(i.flags&256)i.flags&=-257,i=ry(e,i,a);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(r(558));else if(Le||ka(e,i,a,!1),h=(a&e.childLanes)!==0,Le||h){if(l=ce,l!==null&&(y=Ro(l,a),y!==0&&y!==d.retryLane))throw d.retryLane=y,Lr(e,y),An(l,e,y),Mf;oc(),i=ry(e,i,a)}else e=d.treeContext,me=Xn(y.nextSibling),We=i,qt=!0,ks=null,Kn=!1,e!==null&&Gg(i,e),i=$u(i,l),i.flags|=4096;return i}return e=es(e.child,{mode:l.mode,children:l.children}),e.ref=i.ref,i.child=e,e.return=i,e}function Zu(e,i){var a=i.ref;if(a===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(i.flags|=4194816)}}function Vf(e,i,a,l,h){return qr(i),a=mf(e,i,a,l,void 0,h),l=gf(),e!==null&&!Le?(pf(e,i,h),os(e,i,h)):(qt&&l&&Yh(i),i.flags|=1,en(e,i,a,h),i.child)}function ay(e,i,a,l,h,d){return qr(i),i.updateQueue=null,a=up(i,l,a,h),lp(e),l=gf(),e!==null&&!Le?(pf(e,i,d),os(e,i,d)):(qt&&l&&Yh(i),i.flags|=1,en(e,i,a,d),i.child)}function oy(e,i,a,l,h){if(qr(i),i.stateNode===null){var d=Da,y=a.contextType;typeof y=="object"&&y!==null&&(d=tn(y)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Df,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},af(i),y=a.contextType,d.context=typeof y=="object"&&y!==null?tn(y):Da,d.state=i.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(Nf(i,a,y,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Df.enqueueReplaceState(d,d.state,null),el(i,l,d,h),tl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(e===null){d=i.stateNode;var E=i.memoizedProps,D=Yr(a,E);d.props=D;var P=d.context,Y=a.contextType;y=Da,typeof Y=="object"&&Y!==null&&(y=tn(Y));var Z=a.getDerivedStateFromProps;Y=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||P!==y)&&Kp(i,d,l,y),Ls=!1;var B=i.memoizedState;d.state=B,el(i,l,d,h),tl(),P=i.memoizedState,E||B!==P||Ls?(typeof Z=="function"&&(Nf(i,a,Z,l),P=i.memoizedState),(D=Ls||Qp(i,a,D,l,B,P,y))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=y,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,of(e,i),y=i.memoizedProps,Y=Yr(a,y),d.props=Y,Z=i.pendingProps,B=d.context,P=a.contextType,D=Da,typeof P=="object"&&P!==null&&(D=tn(P)),E=a.getDerivedStateFromProps,(P=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==Z||B!==D)&&Kp(i,d,l,D),Ls=!1,B=i.memoizedState,d.state=B,el(i,l,d,h),tl();var F=i.memoizedState;y!==Z||B!==F||Ls||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(Nf(i,a,E,l),F=i.memoizedState),(Y=Ls||Qp(i,a,Y,l,B,F,D)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=F),d.props=l,d.state=F,d.context=D,l=Y):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(i.flags|=1024),l=!1)}return d=l,Zu(e,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,e!==null&&l?(i.child=Qr(i,e.child,null,h),i.child=Qr(i,null,a,h)):en(e,i,a,h),i.memoizedState=d.state,e=i.child):e=os(e,i,h),e}function ly(e,i,a,l){return zr(),i.flags|=256,en(e,i,a,l),i.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Zg()}}function jf(e,i,a){return e=e!==null?e.childLanes&~a:0,i&&(e|=Un),e}function uy(e,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Ie.current&2)!==0),y&&(h=!0,i.flags&=-129),y=(i.flags&32)!==0,i.flags&=-33,e===null){if(qt){if(h?Bs(i):qs(),(e=me)?(e=y_(e,Kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Vs!==null?{id:Oi,overflow:Mi}:null,retryLane:536870912,hydrationErrors:null},a=qg(e),a.return=i,i.child=a,We=i,me=null)):e=null,e===null)throw Us(i);return vd(e)?i.lanes=32:i.lanes=536870912,null}var E=l.children;return l=l.fallback,h?(qs(),h=i.mode,E=Ju({mode:"hidden",children:E},h),l=Pr(l,h,a,null),E.return=i,l.return=i,E.sibling=l,i.child=E,l=i.child,l.memoizedState=Uf(a),l.childLanes=jf(e,y,a),i.memoizedState=kf,al(null,l)):(Bs(i),Lf(i,E))}var D=e.memoizedState;if(D!==null&&(E=D.dehydrated,E!==null)){if(d)i.flags&256?(Bs(i),i.flags&=-257,i=Pf(e,i,a)):i.memoizedState!==null?(qs(),i.child=e.child,i.flags|=128,i=null):(qs(),E=l.fallback,h=i.mode,l=Ju({mode:"visible",children:l.children},h),E=Pr(E,h,a,null),E.flags|=2,l.return=i,E.return=i,l.sibling=E,i.child=l,Qr(i,e.child,null,a),l=i.child,l.memoizedState=Uf(a),l.childLanes=jf(e,y,a),i.memoizedState=kf,i=al(null,l));else if(Bs(i),vd(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var P=y.dgst;y=P,l=Error(r(419)),l.stack="",l.digest=y,Yo({value:l,source:null,stack:null}),i=Pf(e,i,a)}else if(Le||ka(e,i,a,!1),y=(a&e.childLanes)!==0,Le||y){if(y=ce,y!==null&&(l=Ro(y,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Lr(e,l),An(y,e,l),Mf;_d(E)||oc(),i=Pf(e,i,a)}else _d(E)?(i.flags|=192,i.child=e.child,i=null):(e=D.treeContext,me=Xn(E.nextSibling),We=i,qt=!0,ks=null,Kn=!1,e!==null&&Gg(i,e),i=Lf(i,l.children),i.flags|=4096);return i}return h?(qs(),E=l.fallback,h=i.mode,D=e.child,P=D.sibling,l=es(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,P!==null?E=es(P,E):(E=Pr(E,h,a,null),E.flags|=2),E.return=i,l.return=i,l.sibling=E,i.child=l,al(null,l),l=i.child,E=e.child.memoizedState,E===null?E=Uf(a):(h=E.cachePool,h!==null?(D=Ue._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=Zg(),E={baseLanes:E.baseLanes|a,cachePool:h}),l.memoizedState=E,l.childLanes=jf(e,y,a),i.memoizedState=kf,al(e.child,l)):(Bs(i),a=e.child,e=a.sibling,a=es(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,e!==null&&(y=i.deletions,y===null?(i.deletions=[e],i.flags|=16):y.push(e)),i.child=a,i.memoizedState=null,a)}function Lf(e,i){return i=Ju({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function Ju(e,i){return e=On(22,e,null,i),e.lanes=0,e}function Pf(e,i,a){return Qr(i,e.child,null,a),e=Lf(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function cy(e,i,a){e.lanes|=i;var l=e.alternate;l!==null&&(l.lanes|=i),Wh(e.return,i,a)}function zf(e,i,a,l,h,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(y.isBackwards=i,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=h,y.treeForkCount=d)}function hy(e,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var y=Ie.current,E=(y&2)!==0;if(E?(y=y&1|2,i.flags|=128):y&=1,ot(Ie,y),en(e,i,l,a),l=qt?Ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&cy(e,a,i);else if(e.tag===19)cy(e,a,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break t;for(;e.sibling===null;){if(e.return===null||e.return===i)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)e=a.alternate,e!==null&&zu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),zf(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){i.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}zf(i,!0,a,null,d,l);break;case"together":zf(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function os(e,i,a){if(e!==null&&(i.dependencies=e.dependencies),Gs|=i.lanes,(a&i.childLanes)===0)if(e!==null){if(ka(e,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(r(153));if(i.child!==null){for(e=i.child,a=es(e,e.pendingProps),i.child=a,a.return=i;e.sibling!==null;)e=e.sibling,a=a.sibling=es(e,e.pendingProps),a.return=i;a.sibling=null}return i.child}function Bf(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function QT(e,i,a){switch(i.tag){case 3:xe(i,i.stateNode.containerInfo),js(i,Ue,e.memoizedState.cache),zr();break;case 27:case 5:Xi(i);break;case 4:xe(i,i.stateNode.containerInfo);break;case 10:js(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ff(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Bs(i),i.flags|=128,null):(a&i.child.childLanes)!==0?uy(e,i,a):(Bs(i),e=os(e,i,a),e!==null?e.sibling:null);Bs(i);break;case 19:var h=(e.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ka(e,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return hy(e,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ot(Ie,Ie.current),l)break;return null;case 22:return i.lanes=0,iy(e,i,a,i.pendingProps);case 24:js(i,Ue,e.memoizedState.cache)}return os(e,i,a)}function fy(e,i,a){if(e!==null)if(e.memoizedProps!==i.pendingProps)Le=!0;else{if(!Bf(e,a)&&(i.flags&128)===0)return Le=!1,QT(e,i,a);Le=(e.flags&131072)!==0}else Le=!1,qt&&(i.flags&1048576)!==0&&Fg(i,Ko,i.index);switch(i.lanes=0,i.tag){case 16:t:{var l=i.pendingProps;if(e=Fr(i.elementType),i.type=e,typeof e=="function")Gh(e)?(l=Yr(e,l),i.tag=1,i=oy(null,i,e,l,a)):(i.tag=0,i=Vf(null,i,e,l,a));else{if(e!=null){var h=e.$$typeof;if(h===nt){i.tag=11,i=ty(null,i,e,l,a);break t}else if(h===x){i.tag=14,i=ey(null,i,e,l,a);break t}}throw i=bt(e)||e,Error(r(306,i,""))}}return i;case 0:return Vf(e,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Yr(l,i.pendingProps),oy(e,i,l,h,a);case 3:t:{if(xe(i,i.stateNode.containerInfo),e===null)throw Error(r(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,of(e,i),el(i,l,null,a);var y=i.memoizedState;if(l=y.cache,js(i,Ue,l),l!==d.cache&&tf(i,[Ue],a,!0),tl(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=ly(e,i,l,a);break t}else if(l!==h){h=Fn(Error(r(424)),i),Yo(h),i=ly(e,i,l,a);break t}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(me=Xn(e.firstChild),We=i,qt=!0,ks=null,Kn=!0,a=ip(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zr(),l===h){i=os(e,i,a);break t}en(e,i,l,a)}i=i.child}return i;case 26:return Zu(e,i),e===null?(a=S_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qt||(a=i.type,e=i.pendingProps,l=mc(Rt.current).createElement(a),l[Me]=i,l[Ke]=e,nn(l,a,e),Ve(l),i.stateNode=l):i.memoizedState=S_(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return Xi(i),e===null&&qt&&(l=i.stateNode=b_(i.type,i.pendingProps,Rt.current),We=i,Kn=!0,h=me,$s(i.type)?(bd=h,me=Xn(l.firstChild)):me=h),en(e,i,i.pendingProps.children,a),Zu(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&qt&&((h=l=me)&&(l=T1(l,i.type,i.pendingProps,Kn),l!==null?(i.stateNode=l,We=i,me=Xn(l.firstChild),Kn=!1,h=!0):h=!1),h||Us(i)),Xi(i),h=i.type,d=i.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,gd(h,d)?l=null:y!==null&&gd(h,y)&&(i.flags|=32),i.memoizedState!==null&&(h=mf(e,i,jT,null,null,a),El._currentValue=h),Zu(e,i),en(e,i,l,a),i.child;case 6:return e===null&&qt&&((e=a=me)&&(a=S1(a,i.pendingProps,Kn),a!==null?(i.stateNode=a,We=i,me=null,e=!0):e=!1),e||Us(i)),null;case 13:return uy(e,i,a);case 4:return xe(i,i.stateNode.containerInfo),l=i.pendingProps,e===null?i.child=Qr(i,null,l,a):en(e,i,l,a),i.child;case 11:return ty(e,i,i.type,i.pendingProps,a);case 7:return en(e,i,i.pendingProps,a),i.child;case 8:return en(e,i,i.pendingProps.children,a),i.child;case 12:return en(e,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,js(i,i.type,l.value),en(e,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,qr(i),h=tn(h),l=l(h),i.flags|=1,en(e,i,l,a),i.child;case 14:return ey(e,i,i.type,i.pendingProps,a);case 15:return ny(e,i,i.type,i.pendingProps,a);case 19:return hy(e,i,a);case 31:return GT(e,i,a);case 22:return iy(e,i,a,i.pendingProps);case 24:return qr(i),l=tn(Ue),e===null?(h=sf(),h===null&&(h=ce,d=ef(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},af(i),js(i,Ue,h)):((e.lanes&a)!==0&&(of(e,i),el(i,null,null,a),tl()),h=e.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),js(i,Ue,l)):(l=d.cache,js(i,Ue,l),l!==h.cache&&tf(i,[Ue],a,!0))),en(e,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ls(e){e.flags|=4}function qf(e,i,a,l,h){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Py())e.flags|=8192;else throw Gr=Uu,rf}else e.flags&=-16777217}function dy(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!C_(i))if(Py())e.flags|=8192;else throw Gr=Uu,rf}function Wu(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?ru():536870912,e.lanes|=i,Ka|=i)}function ol(e,i){if(!qt)switch(e.tailMode){case"hidden":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ge(e){var i=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(i)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=a,i}function KT(e,i,a){var l=i.pendingProps;switch(Xh(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ge(i),null;case 1:return ge(i),null;case 3:return a=i.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ss(Ue),he(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Va(i)?ls(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Zh())),ge(i),null;case 26:var h=i.type,d=i.memoizedState;return e===null?(ls(i),d!==null?(ge(i),dy(i,d)):(ge(i),qf(i,h,null,l,a))):d?d!==e.memoizedState?(ls(i),ge(i),dy(i,d)):(ge(i),i.flags&=-16777217):(e=e.memoizedProps,e!==l&&ls(i),ge(i),qf(i,h,e,l,a)),null;case 27:if(Ss(i),a=Rt.current,h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ls(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ge(i),null}e=ct.current,Va(i)?Qg(i):(e=b_(h,l,a),i.stateNode=e,ls(i))}return ge(i),null;case 5:if(Ss(i),h=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==l&&ls(i);else{if(!l){if(i.stateNode===null)throw Error(r(166));return ge(i),null}if(d=ct.current,Va(i))Qg(i);else{var y=mc(Rt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(h,{is:l.is}):y.createElement(h)}}d[Me]=i,d[Ke]=l;t:for(y=i.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===i)break t;for(;y.sibling===null;){if(y.return===null||y.return===i)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}i.stateNode=d;t:switch(nn(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&ls(i)}}return ge(i),qf(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,a),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==l&&ls(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(r(166));if(e=Rt.current,Va(i)){if(e=i.stateNode,a=i.memoizedProps,l=null,h=We,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Me]=i,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||u_(e.nodeValue,a)),e||Us(i,!0)}else e=mc(e).createTextNode(l),e[Me]=i,i.stateNode=e}return ge(i),null;case 31:if(a=i.memoizedState,e===null||e.memoizedState!==null){if(l=Va(i),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Me]=i}else zr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ge(i),e=!1}else a=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return i.flags&256?(Vn(i),i):(Vn(i),null);if((i.flags&128)!==0)throw Error(r(558))}return ge(i),null;case 13:if(l=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Va(i),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Me]=i}else zr(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;ge(i),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Vn(i),i):(Vn(i),null)}return Vn(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==e&&a&&(i.child.flags|=8192),Wu(i,i.updateQueue),ge(i),null);case 4:return he(),e===null&&cd(i.stateNode.containerInfo),ge(i),null;case 10:return ss(i.type),ge(i),null;case 19:if($(Ie),l=i.memoizedState,l===null)return ge(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)ol(l,!1);else{if(Se!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(d=zu(e),d!==null){for(i.flags|=128,ol(l,!1),e=d.updateQueue,i.updateQueue=e,Wu(i,e),i.subtreeFlags=0,e=a,a=i.child;a!==null;)Bg(a,e),a=a.sibling;return ot(Ie,Ie.current&1|2),qt&&ns(i,l.treeForkCount),i.child}e=e.sibling}l.tail!==null&&ln()>sc&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304)}else{if(!h)if(e=zu(d),e!==null){if(i.flags|=128,h=!0,e=e.updateQueue,i.updateQueue=e,Wu(i,e),ol(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!qt)return ge(i),null}else 2*ln()-l.renderingStartTime>sc&&a!==536870912&&(i.flags|=128,h=!0,ol(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(e=l.last,e!==null?e.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ln(),e.sibling=null,a=Ie.current,ot(Ie,h?a&1|2:a&1),qt&&ns(i,l.treeForkCount),e):(ge(i),null);case 22:case 23:return Vn(i),hf(),l=i.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(ge(i),i.subtreeFlags&6&&(i.flags|=8192)):ge(i),a=i.updateQueue,a!==null&&Wu(i,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),e!==null&&$(Hr),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ss(Ue),ge(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function YT(e,i){switch(Xh(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return ss(Ue),he(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return Ss(i),null;case 31:if(i.memoizedState!==null){if(Vn(i),i.alternate===null)throw Error(r(340));zr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Vn(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(r(340));zr()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return $(Ie),null;case 4:return he(),null;case 10:return ss(i.type),null;case 22:case 23:return Vn(i),hf(),e!==null&&$(Hr),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return ss(Ue),null;case 25:return null;default:return null}}function my(e,i){switch(Xh(i),i.tag){case 3:ss(Ue),he();break;case 26:case 27:case 5:Ss(i);break;case 4:he();break;case 31:i.memoizedState!==null&&Vn(i);break;case 13:Vn(i);break;case 19:$(Ie);break;case 10:ss(i.type);break;case 22:case 23:Vn(i),hf(),e!==null&&$(Hr);break;case 24:ss(Ue)}}function ll(e,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&e)===e){l=void 0;var d=a.create,y=a.inst;l=d(),y.destroy=l}a=a.next}while(a!==h)}}catch(E){ie(i,i.return,E)}}function Hs(e,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&e)===e){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,h=i;var D=a,P=E;try{P()}catch(Y){ie(h,D,Y)}}}l=l.next}while(l!==d)}}catch(Y){ie(i,i.return,Y)}}function gy(e){var i=e.updateQueue;if(i!==null){var a=e.stateNode;try{rp(i,a)}catch(l){ie(e,e.return,l)}}}function py(e,i,a){a.props=Yr(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ie(e,i,l)}}function ul(e,i){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(h){ie(e,i,h)}}function Vi(e,i){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){ie(e,i,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){ie(e,i,h)}else a.current=null}function yy(e){var i=e.type,a=e.memoizedProps,l=e.stateNode;try{t:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break t;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){ie(e,e.return,h)}}function Hf(e,i,a){try{var l=e.stateNode;p1(l,e.type,a,i),l[Ke]=i}catch(h){ie(e,e.return,h)}}function _y(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&$s(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||_y(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&$s(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(e),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ni));else if(l!==4&&(l===27&&$s(e.type)&&(a=e.stateNode,i=null),e=e.child,e!==null))for(Gf(e,i,a),e=e.sibling;e!==null;)Gf(e,i,a),e=e.sibling}function tc(e,i,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,i?a.insertBefore(e,i):a.appendChild(e);else if(l!==4&&(l===27&&$s(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(tc(e,i,a),e=e.sibling;e!==null;)tc(e,i,a),e=e.sibling}function vy(e){var i=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);nn(i,l,a),i[Me]=e,i[Ke]=a}catch(d){ie(e,e.return,d)}}var us=!1,Pe=!1,Qf=!1,by=typeof WeakSet=="function"?WeakSet:Set,Xe=null;function XT(e,i){if(e=e.containerInfo,dd=Ec,e=Og(e),Lh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break t}var y=0,E=-1,D=-1,P=0,Y=0,Z=e,B=null;e:for(;;){for(var F;Z!==a||h!==0&&Z.nodeType!==3||(E=y+h),Z!==d||l!==0&&Z.nodeType!==3||(D=y+l),Z.nodeType===3&&(y+=Z.nodeValue.length),(F=Z.firstChild)!==null;)B=Z,Z=F;for(;;){if(Z===e)break e;if(B===a&&++P===h&&(E=y),B===d&&++Y===l&&(D=y),(F=Z.nextSibling)!==null)break;Z=B,B=Z.parentNode}Z=F}a=E===-1||D===-1?null:{start:E,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(md={focusedElem:e,selectionRange:a},Ec=!1,Xe=i;Xe!==null;)if(i=Xe,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,Xe=e;else for(;Xe!==null;){switch(i=Xe,d=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)h=e[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var dt=Yr(a.type,h);e=l.getSnapshotBeforeUpdate(dt,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(_t){ie(a,a.return,_t)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,a=e.nodeType,a===9)yd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=i.sibling,e!==null){e.return=i.return,Xe=e;break}Xe=i.return}}function Ey(e,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:hs(e,a),l&4&&ll(5,a);break;case 1:if(hs(e,a),l&4)if(e=a.stateNode,i===null)try{e.componentDidMount()}catch(y){ie(a,a.return,y)}else{var h=Yr(a.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(h,i,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ie(a,a.return,y)}}l&64&&gy(a),l&512&&ul(a,a.return);break;case 3:if(hs(e,a),l&64&&(e=a.updateQueue,e!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{rp(e,i)}catch(y){ie(a,a.return,y)}}break;case 27:i===null&&l&4&&vy(a);case 26:case 5:hs(e,a),i===null&&l&4&&yy(a),l&512&&ul(a,a.return);break;case 12:hs(e,a);break;case 31:hs(e,a),l&4&&wy(e,a);break;case 13:hs(e,a),l&4&&Ay(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=s1.bind(null,a),w1(e,a))));break;case 22:if(l=a.memoizedState!==null||us,!l){i=i!==null&&i.memoizedState!==null||Pe,h=us;var d=Pe;us=l,(Pe=i)&&!d?fs(e,a,(a.subtreeFlags&8772)!==0):hs(e,a),us=h,Pe=d}break;case 30:break;default:hs(e,a)}}function Ty(e){var i=e.alternate;i!==null&&(e.alternate=null,Ty(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&ya(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ve=null,En=!1;function cs(e,i,a){for(a=a.child;a!==null;)Sy(e,i,a),a=a.sibling}function Sy(e,i,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(Cn,a)}catch{}switch(a.tag){case 26:Pe||Vi(a,i),cs(e,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Pe||Vi(a,i);var l=ve,h=En;$s(a.type)&&(ve=a.stateNode,En=!1),cs(e,i,a),_l(a.stateNode),ve=l,En=h;break;case 5:Pe||Vi(a,i);case 6:if(l=ve,h=En,ve=null,cs(e,i,a),ve=l,En=h,ve!==null)if(En)try{(ve.nodeType===9?ve.body:ve.nodeName==="HTML"?ve.ownerDocument.body:ve).removeChild(a.stateNode)}catch(d){ie(a,i,d)}else try{ve.removeChild(a.stateNode)}catch(d){ie(a,i,d)}break;case 18:ve!==null&&(En?(e=ve,g_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),eo(e)):g_(ve,a.stateNode));break;case 4:l=ve,h=En,ve=a.stateNode.containerInfo,En=!0,cs(e,i,a),ve=l,En=h;break;case 0:case 11:case 14:case 15:Hs(2,a,i),Pe||Hs(4,a,i),cs(e,i,a);break;case 1:Pe||(Vi(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&py(a,i,l)),cs(e,i,a);break;case 21:cs(e,i,a);break;case 22:Pe=(l=Pe)||a.memoizedState!==null,cs(e,i,a),Pe=l;break;default:cs(e,i,a)}}function wy(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{eo(e)}catch(a){ie(i,i.return,a)}}}function Ay(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{eo(e)}catch(a){ie(i,i.return,a)}}function $T(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new by),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new by),i;default:throw Error(r(435,e.tag))}}function ec(e,i){var a=$T(e);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=r1.bind(null,e,l);l.then(h,h)}})}function Tn(e,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=e,y=i,E=y;t:for(;E!==null;){switch(E.tag){case 27:if($s(E.type)){ve=E.stateNode,En=!1;break t}break;case 5:ve=E.stateNode,En=!1;break t;case 3:case 4:ve=E.stateNode.containerInfo,En=!0;break t}E=E.return}if(ve===null)throw Error(r(160));Sy(d,y,h),ve=null,En=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)xy(i,e),i=i.sibling}var li=null;function xy(e,i){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Tn(i,e),Sn(e),l&4&&(Hs(3,e,e.return),ll(3,e),Hs(5,e,e.return));break;case 1:Tn(i,e),Sn(e),l&512&&(Pe||a===null||Vi(a,a.return)),l&64&&us&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=li;if(Tn(i,e),Sn(e),l&512&&(Pe||a===null||Vi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){t:{l=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[bi]||d[Me]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),nn(d,l,a),d[Me]=e,Ve(d),l=d;break t;case"link":var y=x_("link","href",h).get(l+(a.href||""));if(y){for(var E=0;E<y.length;E++)if(d=y[E],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(E,1);break e}}d=h.createElement(l),nn(d,l,a),h.head.appendChild(d);break;case"meta":if(y=x_("meta","content",h).get(l+(a.content||""))){for(E=0;E<y.length;E++)if(d=y[E],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(E,1);break e}}d=h.createElement(l),nn(d,l,a),h.head.appendChild(d);break;default:throw Error(r(468,l))}d[Me]=e,Ve(d),l=d}e.stateNode=l}else R_(h,e.type,e.stateNode);else e.stateNode=A_(h,l,e.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?R_(h,e.type,e.stateNode):A_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,a.memoizedProps)}break;case 27:Tn(i,e),Sn(e),l&512&&(Pe||a===null||Vi(a,a.return)),a!==null&&l&4&&Hf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Tn(i,e),Sn(e),l&512&&(Pe||a===null||Vi(a,a.return)),e.flags&32){h=e.stateNode;try{bn(h,"")}catch(dt){ie(e,e.return,dt)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,a!==null?a.memoizedProps:h)),l&1024&&(Qf=!0);break;case 6:if(Tn(i,e),Sn(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(dt){ie(e,e.return,dt)}}break;case 3:if(yc=null,h=li,li=gc(i.containerInfo),Tn(i,e),li=h,Sn(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(dt){ie(e,e.return,dt)}Qf&&(Qf=!1,Ry(e));break;case 4:l=li,li=gc(e.stateNode.containerInfo),Tn(i,e),Sn(e),li=l;break;case 12:Tn(i,e),Sn(e);break;case 31:Tn(i,e),Sn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ec(e,l)));break;case 13:Tn(i,e),Sn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ic=ln()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ec(e,l)));break;case 22:h=e.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,P=us,Y=Pe;if(us=P||h,Pe=Y||D,Tn(i,e),Pe=Y,us=P,Sn(e),l&8192)t:for(i=e.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||us||Pe||Xr(e)),a=null,i=e;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=D.stateNode;var Z=D.memoizedProps.style,B=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(dt){ie(D,D.return,dt)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(dt){ie(D,D.return,dt)}}}else if(i.tag===18){if(a===null){D=i;try{var F=D.stateNode;h?p_(F,!0):p_(D.stateNode,!1)}catch(dt){ie(D,D.return,dt)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break t;for(;i.sibling===null;){if(i.return===null||i.return===e)break t;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ec(e,a))));break;case 19:Tn(i,e),Sn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,ec(e,l)));break;case 30:break;case 21:break;default:Tn(i,e),Sn(e)}}function Sn(e){var i=e.flags;if(i&2){try{for(var a,l=e.return;l!==null;){if(_y(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var h=a.stateNode,d=Ff(e);tc(e,d,h);break;case 5:var y=a.stateNode;a.flags&32&&(bn(y,""),a.flags&=-33);var E=Ff(e);tc(e,E,y);break;case 3:case 4:var D=a.stateNode.containerInfo,P=Ff(e);Gf(e,P,D);break;default:throw Error(r(161))}}catch(Y){ie(e,e.return,Y)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function Ry(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;Ry(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function hs(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Ey(e,i.alternate,i),i=i.sibling}function Xr(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:Hs(4,i,i.return),Xr(i);break;case 1:Vi(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&py(i,i.return,a),Xr(i);break;case 27:_l(i.stateNode);case 26:case 5:Vi(i,i.return),Xr(i);break;case 22:i.memoizedState===null&&Xr(i);break;case 30:Xr(i);break;default:Xr(i)}e=e.sibling}}function fs(e,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=e,d=i,y=d.flags;switch(d.tag){case 0:case 11:case 15:fs(h,d,a),ll(4,d);break;case 1:if(fs(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){ie(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var E=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)sp(D[h],E)}catch(P){ie(l,l.return,P)}}a&&y&64&&gy(d),ul(d,d.return);break;case 27:vy(d);case 26:case 5:fs(h,d,a),a&&l===null&&y&4&&yy(d),ul(d,d.return);break;case 12:fs(h,d,a);break;case 31:fs(h,d,a),a&&y&4&&wy(h,d);break;case 13:fs(h,d,a),a&&y&4&&Ay(h,d);break;case 22:d.memoizedState===null&&fs(h,d,a),ul(d,d.return);break;case 30:break;default:fs(h,d,a)}i=i.sibling}}function Kf(e,i){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Xo(a))}function Yf(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Xo(e))}function ui(e,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Cy(e,i,a,l),i=i.sibling}function Cy(e,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ui(e,i,a,l),h&2048&&ll(9,i);break;case 1:ui(e,i,a,l);break;case 3:ui(e,i,a,l),h&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Xo(e)));break;case 12:if(h&2048){ui(e,i,a,l),e=i.stateNode;try{var d=i.memoizedProps,y=d.id,E=d.onPostCommit;typeof E=="function"&&E(y,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(D){ie(i,i.return,D)}}else ui(e,i,a,l);break;case 31:ui(e,i,a,l);break;case 13:ui(e,i,a,l);break;case 23:break;case 22:d=i.stateNode,y=i.alternate,i.memoizedState!==null?d._visibility&2?ui(e,i,a,l):cl(e,i):d._visibility&2?ui(e,i,a,l):(d._visibility|=2,Fa(e,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(y,i);break;case 24:ui(e,i,a,l),h&2048&&Yf(i.alternate,i);break;default:ui(e,i,a,l)}}function Fa(e,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=e,y=i,E=a,D=l,P=y.flags;switch(y.tag){case 0:case 11:case 15:Fa(d,y,E,D,h),ll(8,y);break;case 23:break;case 22:var Y=y.stateNode;y.memoizedState!==null?Y._visibility&2?Fa(d,y,E,D,h):cl(d,y):(Y._visibility|=2,Fa(d,y,E,D,h)),h&&P&2048&&Kf(y.alternate,y);break;case 24:Fa(d,y,E,D,h),h&&P&2048&&Yf(y.alternate,y);break;default:Fa(d,y,E,D,h)}i=i.sibling}}function cl(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=e,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&Kf(l.alternate,l);break;case 24:cl(a,l),h&2048&&Yf(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function Ga(e,i,a){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)Iy(e,i,a),e=e.sibling}function Iy(e,i,a){switch(e.tag){case 26:Ga(e,i,a),e.flags&hl&&e.memoizedState!==null&&U1(a,li,e.memoizedState,e.memoizedProps);break;case 5:Ga(e,i,a);break;case 3:case 4:var l=li;li=gc(e.stateNode.containerInfo),Ga(e,i,a),li=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=hl,hl=16777216,Ga(e,i,a),hl=l):Ga(e,i,a));break;default:Ga(e,i,a)}}function Ny(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function fl(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Xe=l,Oy(l,e)}Ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Dy(e),e=e.sibling}function Dy(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Hs(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,nc(e)):fl(e);break;default:fl(e)}}function nc(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Xe=l,Oy(l,e)}Ny(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:Hs(8,i,i.return),nc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,nc(i));break;default:nc(i)}e=e.sibling}}function Oy(e,i){for(;Xe!==null;){var a=Xe;switch(a.tag){case 0:case 11:case 15:Hs(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Xo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Xe=l;else t:for(a=e;Xe!==null;){l=Xe;var h=l.sibling,d=l.return;if(Ty(l),l===a){Xe=null;break t}if(h!==null){h.return=d,Xe=h;break t}Xe=d}}}var ZT={getCacheForType:function(e){var i=tn(Ue),a=i.data.get(e);return a===void 0&&(a=e(),i.data.set(e,a)),a},cacheSignal:function(){return tn(Ue).controller.signal}},JT=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ce=null,Mt=null,jt=0,ne=0,kn=null,Fs=!1,Qa=!1,Xf=!1,ds=0,Se=0,Gs=0,$r=0,$f=0,Un=0,Ka=0,dl=null,wn=null,Zf=!1,ic=0,My=0,sc=1/0,rc=null,Qs=null,He=0,Ks=null,Ya=null,ms=0,Jf=0,Wf=null,Vy=null,ml=0,td=null;function jn(){return(Zt&2)!==0&&jt!==0?jt&-jt:G.T!==null?ad():au()}function ky(){if(Un===0)if((jt&536870912)===0||qt){var e=Sr;Sr<<=1,(Sr&3932160)===0&&(Sr=262144),Un=e}else Un=536870912;return e=Mn.current,e!==null&&(e.flags|=32),Un}function An(e,i,a){(e===ce&&(ne===2||ne===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Ys(e,jt,Un,!1)),wr(e,a),((Zt&2)===0||e!==ce)&&(e===ce&&((Zt&2)===0&&($r|=a),Se===4&&Ys(e,jt,Un,!1)),ki(e))}function Uy(e,i,a){if((Zt&6)!==0)throw Error(r(327));var l=!a&&(i&127)===0&&(i&e.expiredLanes)===0||Wn(e,i),h=l?e1(e,i):nd(e,i,!0),d=l;do{if(h===0){Qa&&!l&&Ys(e,i,0,!1);break}else{if(a=e.current.alternate,d&&!WT(a)){h=nd(e,i,!1),d=!1;continue}if(h===2){if(d=i,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){i=y;t:{var E=e;h=dl;var D=E.current.memoizedState.isDehydrated;if(D&&(Xa(E,y).flags|=256),y=nd(E,y,!1),y!==2){if(Xf&&!D){E.errorRecoveryDisabledLanes|=d,$r|=d,h=4;break t}d=wn,wn=h,d!==null&&(wn===null?wn=d:wn.push.apply(wn,d))}h=y}if(d=!1,h!==2)continue}}if(h===1){Xa(e,0),Ys(e,i,0,!0);break}t:{switch(l=e,d=h,d){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:Ys(l,i,Un,!Fs);break t;case 2:wn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(h=ic+300-ln(),10<h)){if(Ys(l,i,Un,!Fs),yi(l,0,!0)!==0)break t;ms=i,l.timeoutHandle=d_(jy.bind(null,l,a,wn,rc,Zf,i,Un,$r,Ka,Fs,d,"Throttled",-0,0),h);break t}jy(l,a,wn,rc,Zf,i,Un,$r,Ka,Fs,d,null,-0,0)}}break}while(!0);ki(e)}function jy(e,i,a,l,h,d,y,E,D,P,Y,Z,B,F){if(e.timeoutHandle=-1,Z=i.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},Iy(i,d,Z);var dt=(d&62914560)===d?ic-ln():(d&4194048)===d?My-ln():0;if(dt=j1(Z,dt),dt!==null){ms=d,e.cancelPendingCommit=dt(Gy.bind(null,e,i,d,a,l,h,y,E,D,Y,Z,null,B,F)),Ys(e,d,y,!P);return}}Gy(e,i,d,a,l,h,y,E,D)}function WT(e){for(var i=e;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Dn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ys(e,i,a,l){i&=~$f,i&=~$r,e.suspendedLanes|=i,e.pingedLanes&=~i,l&&(e.warmLanes|=i),l=e.expirationTimes;for(var h=i;0<h;){var d=31-ue(h),y=1<<d;l[d]=-1,h&=~y}a!==0&&Ar(e,a,i)}function ac(){return(Zt&6)===0?(gl(0),!1):!0}function ed(){if(Mt!==null){if(ne===0)var e=Mt.return;else e=Mt,is=Br=null,yf(e),Pa=null,Zo=0,e=Mt;for(;e!==null;)my(e.alternate,e),e=e.return;Mt=null}}function Xa(e,i){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,v1(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),ms=0,ed(),ce=e,Mt=a=es(e.current,null),jt=i,ne=0,kn=null,Fs=!1,Qa=Wn(e,i),Xf=!1,Ka=Un=$f=$r=Gs=Se=0,wn=dl=null,Zf=!1,(i&8)!==0&&(i|=i&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=i;0<l;){var h=31-ue(l),d=1<<h;i|=e[h],l&=~d}return ds=i,Ru(),a}function Ly(e,i){It=null,G.H=rl,i===La||i===ku?(i=tp(),ne=3):i===rf?(i=tp(),ne=4):ne=i===Mf?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,kn=i,Mt===null&&(Se=1,Xu(e,Fn(i,e.current)))}function Py(){var e=Mn.current;return e===null?!0:(jt&4194048)===jt?Yn===null:(jt&62914560)===jt||(jt&536870912)!==0?e===Yn:!1}function zy(){var e=G.H;return G.H=rl,e===null?rl:e}function By(){var e=G.A;return G.A=ZT,e}function oc(){Se=4,Fs||(jt&4194048)!==jt&&Mn.current!==null||(Qa=!0),(Gs&134217727)===0&&($r&134217727)===0||ce===null||Ys(ce,jt,Un,!1)}function nd(e,i,a){var l=Zt;Zt|=2;var h=zy(),d=By();(ce!==e||jt!==i)&&(rc=null,Xa(e,i)),i=!1;var y=Se;t:do try{if(ne!==0&&Mt!==null){var E=Mt,D=kn;switch(ne){case 8:ed(),y=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(i=!0);var P=ne;if(ne=0,kn=null,$a(e,E,D,P),a&&Qa){y=0;break t}break;default:P=ne,ne=0,kn=null,$a(e,E,D,P)}}t1(),y=Se;break}catch(Y){Ly(e,Y)}while(!0);return i&&e.shellSuspendCounter++,is=Br=null,Zt=l,G.H=h,G.A=d,Mt===null&&(ce=null,jt=0,Ru()),y}function t1(){for(;Mt!==null;)qy(Mt)}function e1(e,i){var a=Zt;Zt|=2;var l=zy(),h=By();ce!==e||jt!==i?(rc=null,sc=ln()+500,Xa(e,i)):Qa=Wn(e,i);t:do try{if(ne!==0&&Mt!==null){i=Mt;var d=kn;e:switch(ne){case 1:ne=0,kn=null,$a(e,i,d,1);break;case 2:case 9:if(Jg(d)){ne=0,kn=null,Hy(i);break}i=function(){ne!==2&&ne!==9||ce!==e||(ne=7),ki(e)},d.then(i,i);break t;case 3:ne=7;break t;case 4:ne=5;break t;case 7:Jg(d)?(ne=0,kn=null,Hy(i)):(ne=0,kn=null,$a(e,i,d,7));break;case 5:var y=null;switch(Mt.tag){case 26:y=Mt.memoizedState;case 5:case 27:var E=Mt;if(y?C_(y):E.stateNode.complete){ne=0,kn=null;var D=E.sibling;if(D!==null)Mt=D;else{var P=E.return;P!==null?(Mt=P,lc(P)):Mt=null}break e}}ne=0,kn=null,$a(e,i,d,5);break;case 6:ne=0,kn=null,$a(e,i,d,6);break;case 8:ed(),Se=6;break t;default:throw Error(r(462))}}n1();break}catch(Y){Ly(e,Y)}while(!0);return is=Br=null,G.H=l,G.A=h,Zt=a,Mt!==null?0:(ce=null,jt=0,Ru(),Se)}function n1(){for(;Mt!==null&&!qe();)qy(Mt)}function qy(e){var i=fy(e.alternate,e,ds);e.memoizedProps=e.pendingProps,i===null?lc(e):Mt=i}function Hy(e){var i=e,a=i.alternate;switch(i.tag){case 15:case 0:i=ay(a,i,i.pendingProps,i.type,void 0,jt);break;case 11:i=ay(a,i,i.pendingProps,i.type.render,i.ref,jt);break;case 5:yf(i);default:my(a,i),i=Mt=Bg(i,ds),i=fy(a,i,ds)}e.memoizedProps=e.pendingProps,i===null?lc(e):Mt=i}function $a(e,i,a,l){is=Br=null,yf(i),Pa=null,Zo=0;var h=i.return;try{if(FT(e,h,i,a,jt)){Se=1,Xu(e,Fn(a,e.current)),Mt=null;return}}catch(d){if(h!==null)throw Mt=h,d;Se=1,Xu(e,Fn(a,e.current)),Mt=null;return}i.flags&32768?(qt||l===1?e=!0:Qa||(jt&536870912)!==0?e=!1:(Fs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Fy(i,e)):lc(i)}function lc(e){var i=e;do{if((i.flags&32768)!==0){Fy(i,Fs);return}e=i.return;var a=KT(i.alternate,i,ds);if(a!==null){Mt=a;return}if(i=i.sibling,i!==null){Mt=i;return}Mt=i=e}while(i!==null);Se===0&&(Se=5)}function Fy(e,i){do{var a=YT(e.alternate,e);if(a!==null){a.flags&=32767,Mt=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=a}while(e!==null);Se=6,Mt=null}function Gy(e,i,a,l,h,d,y,E,D){e.cancelPendingCommit=null;do uc();while(He!==0);if((Zt&6)!==0)throw Error(r(327));if(i!==null){if(i===e.current)throw Error(r(177));if(d=i.lanes|i.childLanes,d|=Hh,Vh(e,a,d,y,E,D),e===ce&&(Mt=ce=null,jt=0),Ya=i,Ks=e,ms=a,Jf=d,Wf=h,Vy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,a1(Qe,function(){return $y(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=G.T,G.T=null,h=rt.p,rt.p=2,y=Zt,Zt|=4;try{XT(e,i,a)}finally{Zt=y,rt.p=h,G.T=l}}He=1,Qy(),Ky(),Yy()}}function Qy(){if(He===1){He=0;var e=Ks,i=Ya,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=G.T,G.T=null;var l=rt.p;rt.p=2;var h=Zt;Zt|=4;try{xy(i,e);var d=md,y=Og(e.containerInfo),E=d.focusedElem,D=d.selectionRange;if(y!==E&&E&&E.ownerDocument&&Dg(E.ownerDocument.documentElement,E)){if(D!==null&&Lh(E)){var P=D.start,Y=D.end;if(Y===void 0&&(Y=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Y,E.value.length);else{var Z=E.ownerDocument||document,B=Z&&Z.defaultView||window;if(B.getSelection){var F=B.getSelection(),dt=E.textContent.length,_t=Math.min(D.start,dt),le=D.end===void 0?_t:Math.min(D.end,dt);!F.extend&&_t>le&&(y=le,le=_t,_t=y);var U=Ng(E,_t),V=Ng(E,le);if(U&&V&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==V.node||F.focusOffset!==V.offset)){var L=Z.createRange();L.setStart(U.node,U.offset),F.removeAllRanges(),_t>le?(F.addRange(L),F.extend(V.node,V.offset)):(L.setEnd(V.node,V.offset),F.addRange(L))}}}}for(Z=[],F=E;F=F.parentNode;)F.nodeType===1&&Z.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Z.length;E++){var X=Z[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Ec=!!dd,md=dd=null}finally{Zt=h,rt.p=l,G.T=a}}e.current=i,He=2}}function Ky(){if(He===2){He=0;var e=Ks,i=Ya,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=G.T,G.T=null;var l=rt.p;rt.p=2;var h=Zt;Zt|=4;try{Ey(e,i.alternate,i)}finally{Zt=h,rt.p=l,G.T=a}}He=3}}function Yy(){if(He===4||He===3){He=0,$i();var e=Ks,i=Ya,a=ms,l=Vy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?He=5:(He=0,Ya=Ks=null,Xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Qs=null),Zi(a),i=i.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(Cn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=G.T,h=rt.p,rt.p=2,G.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var E=l[y];d(E.value,{componentStack:E.stack})}}finally{G.T=i,rt.p=h}}(ms&3)!==0&&uc(),ki(e),h=e.pendingLanes,(a&261930)!==0&&(h&42)!==0?e===td?ml++:(ml=0,td=e):ml=0,gl(0)}}function Xy(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Xo(i)))}function uc(){return Qy(),Ky(),Yy(),$y()}function $y(){if(He!==5)return!1;var e=Ks,i=Jf;Jf=0;var a=Zi(ms),l=G.T,h=rt.p;try{rt.p=32>a?32:a,G.T=null,a=Wf,Wf=null;var d=Ks,y=ms;if(He=0,Ya=Ks=null,ms=0,(Zt&6)!==0)throw Error(r(331));var E=Zt;if(Zt|=4,Dy(d.current),Cy(d,d.current,y,a),Zt=E,gl(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(Cn,d)}catch{}return!0}finally{rt.p=h,G.T=l,Xy(e,i)}}function Zy(e,i,a){i=Fn(a,i),i=Of(e.stateNode,i,2),e=zs(e,i,2),e!==null&&(wr(e,2),ki(e))}function ie(e,i,a){if(e.tag===3)Zy(e,e,a);else for(;i!==null;){if(i.tag===3){Zy(i,e,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qs===null||!Qs.has(l))){e=Fn(a,e),a=Jp(2),l=zs(i,a,2),l!==null&&(Wp(a,l,i,e),wr(l,2),ki(l));break}}i=i.return}}function id(e,i,a){var l=e.pingCache;if(l===null){l=e.pingCache=new JT;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Xf=!0,h.add(a),e=i1.bind(null,e,i,a),i.then(e,e))}function i1(e,i,a){var l=e.pingCache;l!==null&&l.delete(i),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ce===e&&(jt&a)===a&&(Se===4||Se===3&&(jt&62914560)===jt&&300>ln()-ic?(Zt&2)===0&&Xa(e,0):$f|=a,Ka===jt&&(Ka=0)),ki(e)}function Jy(e,i){i===0&&(i=ru()),e=Lr(e,i),e!==null&&(wr(e,i),ki(e))}function s1(e){var i=e.memoizedState,a=0;i!==null&&(a=i.retryLane),Jy(e,a)}function r1(e,i){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(i),Jy(e,a)}function a1(e,i){return Ht(e,i)}var cc=null,Za=null,sd=!1,hc=!1,rd=!1,Xs=0;function ki(e){e!==Za&&e.next===null&&(Za===null?cc=Za=e:Za=Za.next=e),hc=!0,sd||(sd=!0,l1())}function gl(e,i){if(!rd&&hc){rd=!0;do for(var a=!1,l=cc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var y=l.suspendedLanes,E=l.pingedLanes;d=(1<<31-ue(42|e)+1)-1,d&=h&~(y&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,n_(l,d))}else d=jt,d=yi(l,l===ce?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Wn(l,d)||(a=!0,n_(l,d));l=l.next}while(a);rd=!1}}function o1(){Wy()}function Wy(){hc=sd=!1;var e=0;Xs!==0&&_1()&&(e=Xs);for(var i=ln(),a=null,l=cc;l!==null;){var h=l.next,d=t_(l,i);d===0?(l.next=null,a===null?cc=h:a.next=h,h===null&&(Za=a)):(a=l,(e!==0||(d&3)!==0)&&(hc=!0)),l=h}He!==0&&He!==5||gl(e),Xs!==0&&(Xs=0)}function t_(e,i){for(var a=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-ue(d),E=1<<y,D=h[y];D===-1?((E&a)===0||(E&l)!==0)&&(h[y]=Mh(E,i)):D<=i&&(e.expiredLanes|=E),d&=~E}if(i=ce,a=jt,a=yi(e,e===i?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===i&&(ne===2||ne===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Xt(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Wn(e,a)){if(i=a&-a,i===e.callbackPriority)return i;switch(l!==null&&Xt(l),Zi(a)){case 2:case 8:a=Rn;break;case 32:a=Qe;break;case 268435456:a=fa;break;default:a=Qe}return l=e_.bind(null,e),a=Ht(a,l),e.callbackPriority=i,e.callbackNode=a,i}return l!==null&&l!==null&&Xt(l),e.callbackPriority=2,e.callbackNode=null,2}function e_(e,i){if(He!==0&&He!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(uc()&&e.callbackNode!==a)return null;var l=jt;return l=yi(e,e===ce?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Uy(e,l,i),t_(e,ln()),e.callbackNode!=null&&e.callbackNode===a?e_.bind(null,e):null)}function n_(e,i){if(uc())return null;Uy(e,i,!0)}function l1(){b1(function(){(Zt&6)!==0?Ht(Ze,o1):Wy()})}function ad(){if(Xs===0){var e=Ua;e===0&&(e=gi,gi<<=1,(gi&261888)===0&&(gi=256)),Xs=e}return Xs}function i_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ea(""+e)}function s_(e,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,e.id&&a.setAttribute("form",e.id),i.parentNode.insertBefore(a,i),e=new FormData(e),a.parentNode.removeChild(a),e}function u1(e,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=i_((h[Ke]||null).action),y=l.submitter;y&&(i=(i=y[Ke]||null)?i_(i.formAction):y.getAttribute("formAction"),i!==null&&(d=i,y=null));var E=new Ci("action","action",null,l,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Xs!==0){var D=y?s_(h,y):new FormData(h);xf(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(E.preventDefault(),D=y?s_(h,y):new FormData(h),xf(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],c1=ld.toLowerCase(),h1=ld[0].toUpperCase()+ld.slice(1);oi(c1,"on"+h1)}oi(kg,"onAnimationEnd"),oi(Ug,"onAnimationIteration"),oi(jg,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(RT,"onTransitionRun"),oi(CT,"onTransitionStart"),oi(IT,"onTransitionCancel"),oi(Lg,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),f1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(pl));function r_(e,i){i=(i&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],h=l.event;l=l.listeners;t:{var d=void 0;if(i)for(var y=l.length-1;0<=y;y--){var E=l[y],D=E.instance,P=E.currentTarget;if(E=E.listener,D!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=P;try{d(h)}catch(Y){xu(Y)}h.currentTarget=null,d=D}else for(y=0;y<l.length;y++){if(E=l[y],D=E.instance,P=E.currentTarget,E=E.listener,D!==d&&h.isPropagationStopped())break t;d=E,h.currentTarget=P;try{d(h)}catch(Y){xu(Y)}h.currentTarget=null,d=D}}}}function Vt(e,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var l=e+"__bubble";a.has(l)||(a_(i,e,2,!1),a.add(l))}function ud(e,i,a){var l=0;i&&(l|=4),a_(a,e,l,i)}var fc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[fc]){e[fc]=!0,Co.forEach(function(a){a!=="selectionchange"&&(f1.has(a)||ud(a,!1,e),ud(a,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[fc]||(i[fc]=!0,ud("selectionchange",!1,i))}}function a_(e,i,a,l){switch(k_(i)){case 2:var h=z1;break;case 8:h=B1;break;default:h=Ad}a=h.bind(null,i,a,e),h=void 0,!Nr||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(i,a,{capture:!0,passive:h}):e.addEventListener(i,a,!0):h!==void 0?e.addEventListener(i,a,{passive:h}):e.addEventListener(i,a,!1)}function hd(e,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===h)break;if(y===4)for(y=l.return;y!==null;){var D=y.tag;if((D===3||D===4)&&y.stateNode.containerInfo===h)return;y=y.return}for(;E!==null;){if(y=Ei(E),y===null)return;if(D=y.tag,D===5||D===6||D===26||D===27){l=d=y;continue t}E=E.parentNode}}l=l.return}Ns(function(){var P=d,Y=zn(a),Z=[];t:{var B=Pg.get(e);if(B!==void 0){var F=Ci,dt=e;switch(e){case"keypress":if(Or(a)===0)break t;case"keydown":case"keyup":F=Su;break;case"focusin":dt="focus",F=Vr;break;case"focusout":dt="blur",F=Vr;break;case"beforeblur":case"afterblur":F=Vr;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case kg:case Ug:case jg:F=pu;break;case Lg:F=S;break;case"scroll":case"scrollend":F=zo;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ts;break;case"toggle":case"beforetoggle":F=Ct}var _t=(i&4)!==0,le=!_t&&(e==="scroll"||e==="scrollend"),U=_t?B!==null?B+"Capture":null:B;_t=[];for(var V=P,L;V!==null;){var X=V;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||U===null||(X=ii(V,U),X!=null&&_t.push(yl(V,X,L))),le)break;V=V.return}0<_t.length&&(B=new F(B,dt,null,a,Y),Z.push({event:B,listeners:_t}))}}if((i&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&a!==jo&&(dt=a.relatedTarget||a.fromElement)&&(Ei(dt)||dt[vi]))break t;if((F||B)&&(B=Y.window===Y?Y:(B=Y.ownerDocument)?B.defaultView||B.parentWindow:window,F?(dt=a.relatedTarget||a.toElement,F=P,dt=dt?Ei(dt):null,dt!==null&&(le=u(dt),_t=dt.tag,dt!==le||_t!==5&&_t!==27&&_t!==6)&&(dt=null)):(F=null,dt=P),F!==dt)){if(_t=Bo,X="onMouseLeave",U="onMouseEnter",V="mouse",(e==="pointerout"||e==="pointerover")&&(_t=ts,X="onPointerLeave",U="onPointerEnter",V="pointer"),le=F==null?B:In(F),L=dt==null?B:In(dt),B=new _t(X,V+"leave",F,a,Y),B.target=le,B.relatedTarget=L,X=null,Ei(Y)===P&&(_t=new _t(U,V+"enter",dt,a,Y),_t.target=L,_t.relatedTarget=le,X=_t),le=X,F&&dt)e:{for(_t=d1,U=F,V=dt,L=0,X=U;X;X=_t(X))L++;X=0;for(var pt=V;pt;pt=_t(pt))X++;for(;0<L-X;)U=_t(U),L--;for(;0<X-L;)V=_t(V),X--;for(;L--;){if(U===V||V!==null&&U===V.alternate){_t=U;break e}U=_t(U),V=_t(V)}_t=null}else _t=null;F!==null&&o_(Z,B,F,_t,!1),dt!==null&&le!==null&&o_(Z,le,dt,_t,!0)}}t:{if(B=P?In(P):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Kt=wg;else if(Tg(B))if(Ag)Kt=wT;else{Kt=TT;var mt=ET}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?P&&ba(P.elementType)&&(Kt=wg):Kt=ST;if(Kt&&(Kt=Kt(e,P))){Sg(Z,Kt,a,Y);break t}mt&&mt(e,B,P),e==="focusout"&&P&&B.type==="number"&&P.memoizedProps.value!=null&&Vo(B,"number",B.value)}switch(mt=P?In(P):window,e){case"focusin":(Tg(mt)||mt.contentEditable==="true")&&(Ca=mt,Ph=P,Qo=null);break;case"focusout":Qo=Ph=Ca=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Mg(Z,a,Y);break;case"selectionchange":if(xT)break;case"keydown":case"keyup":Mg(Z,a,Y)}var Nt;if($t)t:{switch(e){case"compositionstart":var Lt="onCompositionStart";break t;case"compositionend":Lt="onCompositionEnd";break t;case"compositionupdate":Lt="onCompositionUpdate";break t}Lt=void 0}else Ra?kr(e,a)&&(Lt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Lt="onCompositionStart");Lt&&(Di&&a.locale!=="ko"&&(Ra||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&Ra&&(Nt=Po()):(Ri=Y,Lo="value"in Ri?Ri.value:Ri.textContent,Ra=!0)),mt=dc(P,Lt),0<mt.length&&(Lt=new Ni(Lt,e,null,a,Y),Z.push({event:Lt,listeners:mt}),Nt?Lt.data=Nt:(Nt=xa(a),Nt!==null&&(Lt.data=Nt)))),(Nt=qn?yT(e,a):_T(e,a))&&(Lt=dc(P,"onBeforeInput"),0<Lt.length&&(mt=new Ni("onBeforeInput","beforeinput",null,a,Y),Z.push({event:mt,listeners:Lt}),mt.data=Nt)),u1(Z,e,P,a,Y)}r_(Z,i)})}function yl(e,i,a){return{instance:e,listener:i,currentTarget:a}}function dc(e,i){for(var a=i+"Capture",l=[];e!==null;){var h=e,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ii(e,a),h!=null&&l.unshift(yl(e,h,d)),h=ii(e,i),h!=null&&l.push(yl(e,h,d))),e.tag===3)return l;e=e.return}return[]}function d1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function o_(e,i,a,l,h){for(var d=i._reactName,y=[];a!==null&&a!==l;){var E=a,D=E.alternate,P=E.stateNode;if(E=E.tag,D!==null&&D===l)break;E!==5&&E!==26&&E!==27||P===null||(D=P,h?(P=ii(a,d),P!=null&&y.unshift(yl(a,P,D))):h||(P=ii(a,d),P!=null&&y.push(yl(a,P,D)))),a=a.return}y.length!==0&&e.push({event:i,listeners:y})}var m1=/\r\n?/g,g1=/\u0000|\uFFFD/g;function l_(e){return(typeof e=="string"?e:""+e).replace(m1,`
`).replace(g1,"")}function u_(e,i){return i=l_(i),l_(e)===i}function oe(e,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bn(e,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bn(e,""+l);break;case"className":Nn(e,"class",l);break;case"tabIndex":Nn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nn(e,a,l);break;case"style":Uo(e,l,d);break;case"data":if(i!=="object"){Nn(e,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ea(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&oe(e,i,"name",h.name,h,null),oe(e,i,"formEncType",h.formEncType,h,null),oe(e,i,"formMethod",h.formMethod,h,null),oe(e,i,"formTarget",h.formTarget,h,null)):(oe(e,i,"encType",h.encType,h,null),oe(e,i,"method",h.method,h,null),oe(e,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ea(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=ni);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ea(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Vt("beforetoggle",e),Vt("toggle",e),_a(e,"popover",l);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=du.get(a)||a,_a(e,a,l))}}function fd(e,i,a,l,h,d){switch(a){case"style":Uo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?bn(e,l):(typeof l=="number"||typeof l=="bigint")&&bn(e,""+l);break;case"onScroll":l!=null&&Vt("scroll",e);break;case"onScrollEnd":l!=null&&Vt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=e[Ke]||null,d=d!=null?d[a]:null,typeof d=="function"&&e.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(i,l,h);break t}a in e?e[a]=l:l===!0?e.setAttribute(a,""):_a(e,a,l)}}}function nn(e,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",e),Vt("load",e);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var y=a[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:oe(e,i,d,y,a,null)}}h&&oe(e,i,"srcSet",a.srcSet,a,null),l&&oe(e,i,"src",a.src,a,null);return;case"input":Vt("invalid",e);var E=d=y=h=null,D=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":y=Y;break;case"checked":D=Y;break;case"defaultChecked":P=Y;break;case"value":d=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,i));break;default:oe(e,i,l,Y,a,null)}}cu(e,d,E,D,P,y,h,!1);return;case"select":Vt("invalid",e),l=y=d=null;for(h in a)if(a.hasOwnProperty(h)&&(E=a[h],E!=null))switch(h){case"value":d=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:oe(e,i,h,E,a,null)}i=d,a=y,e.multiple=!!l,i!=null?xs(e,!!l,i,!1):a!=null&&xs(e,!!l,a,!0);return;case"textarea":Vt("invalid",e),d=h=l=null;for(y in a)if(a.hasOwnProperty(y)&&(E=a[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":h=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:oe(e,i,y,E,a,null)}Rs(e,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:oe(e,i,D,l,a,null)}return;case"dialog":Vt("beforetoggle",e),Vt("toggle",e),Vt("cancel",e),Vt("close",e);break;case"iframe":case"object":Vt("load",e);break;case"video":case"audio":for(l=0;l<pl.length;l++)Vt(pl[l],e);break;case"image":Vt("error",e),Vt("load",e);break;case"details":Vt("toggle",e);break;case"embed":case"source":case"link":Vt("error",e),Vt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:oe(e,i,P,l,a,null)}return;default:if(ba(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&fd(e,i,Y,l,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(l=a[E],l!=null&&oe(e,i,E,l,a,null))}function p1(e,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,y=null,E=null,D=null,P=null,Y=null;for(F in a){var Z=a[F];if(a.hasOwnProperty(F)&&Z!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":D=Z;default:l.hasOwnProperty(F)||oe(e,i,F,null,l,Z)}}for(var B in l){var F=l[B];if(Z=a[B],l.hasOwnProperty(B)&&(F!=null||Z!=null))switch(B){case"type":d=F;break;case"name":h=F;break;case"checked":P=F;break;case"defaultChecked":Y=F;break;case"value":y=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,i));break;default:F!==Z&&oe(e,i,B,F,l,Z)}}va(e,y,E,D,P,Y,d,h);return;case"select":F=y=E=B=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":F=D;default:l.hasOwnProperty(d)||oe(e,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":B=d;break;case"defaultValue":E=d;break;case"multiple":y=d;default:d!==D&&oe(e,i,h,d,l,D)}i=E,a=y,l=F,B!=null?xs(e,!!a,B,!1):!!l!=!!a&&(i!=null?xs(e,!!a,i,!0):xs(e,!!a,a?[]:"",!1));return;case"textarea":F=B=null;for(E in a)if(h=a[E],a.hasOwnProperty(E)&&h!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:oe(e,i,E,null,l,h)}for(y in l)if(h=l[y],d=a[y],l.hasOwnProperty(y)&&(h!=null||d!=null))switch(y){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==d&&oe(e,i,y,h,l,d)}hu(e,B,F);return;case"option":for(var dt in a)if(B=a[dt],a.hasOwnProperty(dt)&&B!=null&&!l.hasOwnProperty(dt))switch(dt){case"selected":e.selected=!1;break;default:oe(e,i,dt,null,l,B)}for(D in l)if(B=l[D],F=a[D],l.hasOwnProperty(D)&&B!==F&&(B!=null||F!=null))switch(D){case"selected":e.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:oe(e,i,D,B,l,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _t in a)B=a[_t],a.hasOwnProperty(_t)&&B!=null&&!l.hasOwnProperty(_t)&&oe(e,i,_t,null,l,B);for(P in l)if(B=l[P],F=a[P],l.hasOwnProperty(P)&&B!==F&&(B!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,i));break;default:oe(e,i,P,B,l,F)}return;default:if(ba(i)){for(var le in a)B=a[le],a.hasOwnProperty(le)&&B!==void 0&&!l.hasOwnProperty(le)&&fd(e,i,le,void 0,l,B);for(Y in l)B=l[Y],F=a[Y],!l.hasOwnProperty(Y)||B===F||B===void 0&&F===void 0||fd(e,i,Y,B,l,F);return}}for(var U in a)B=a[U],a.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&oe(e,i,U,null,l,B);for(Z in l)B=l[Z],F=a[Z],!l.hasOwnProperty(Z)||B===F||B==null&&F==null||oe(e,i,Z,B,l,F)}function c_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function y1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,y=h.initiatorType,E=h.duration;if(d&&E&&c_(y)){for(y=0,E=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],P=D.startTime;if(P>E)break;var Y=D.transferSize,Z=D.initiatorType;Y&&c_(Z)&&(D=D.responseEnd,y+=Y*(D<E?1:(E-P)/(D-P)))}if(--l,i+=8*(d+y)/(h.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function h_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function f_(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function gd(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var pd=null;function _1(){var e=window.event;return e&&e.type==="popstate"?e===pd?!1:(pd=e,!0):(pd=null,!1)}var d_=typeof setTimeout=="function"?setTimeout:void 0,v1=typeof clearTimeout=="function"?clearTimeout:void 0,m_=typeof Promise=="function"?Promise:void 0,b1=typeof queueMicrotask=="function"?queueMicrotask:typeof m_<"u"?function(e){return m_.resolve(null).then(e).catch(E1)}:d_;function E1(e){setTimeout(function(){throw e})}function $s(e){return e==="head"}function g_(e,i){var a=i,l=0;do{var h=a.nextSibling;if(e.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(h),eo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")_l(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,_l(a);for(var d=a.firstChild;d;){var y=d.nextSibling,E=d.nodeName;d[bi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=y}}else a==="body"&&_l(e.ownerDocument.body);a=h}while(a);eo(i)}function p_(e,i){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function yd(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yd(a),ya(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function T1(e,i,a,l){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[bi])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Xn(e.nextSibling),e===null)break}return null}function S1(e,i,a){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Xn(e.nextSibling),e===null))return null;return e}function y_(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Xn(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function w1(e,i){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Xn(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var bd=null;function __(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(i===0)return Xn(e.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}e=e.nextSibling}return null}function v_(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return e;i--}else a!=="/$"&&a!=="/&"||i++}e=e.previousSibling}return null}function b_(e,i,a){switch(i=mc(a),e){case"html":if(e=i.documentElement,!e)throw Error(r(452));return e;case"head":if(e=i.head,!e)throw Error(r(453));return e;case"body":if(e=i.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function _l(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);ya(e)}var $n=new Map,E_=new Set;function gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var gs=rt.d;rt.d={f:A1,r:x1,D:R1,C:C1,L:I1,m:N1,X:O1,S:D1,M:M1};function A1(){var e=gs.f(),i=ac();return e||i}function x1(e){var i=Pn(e);i!==null&&i.tag===5&&i.type==="form"?Lp(i):gs.r(e)}var Ja=typeof document>"u"?null:document;function T_(e,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var h=vn(i);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),E_.has(h)||(E_.add(h),e={rel:e,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),nn(i,"link",e),Ve(i),l.head.appendChild(i)))}}function R1(e){gs.D(e),T_("dns-prefetch",e,null)}function C1(e,i){gs.C(e,i),T_("preconnect",e,i)}function I1(e,i,a){gs.L(e,i,a);var l=Ja;if(l&&e&&i){var h='link[rel="preload"][as="'+vn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+vn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+vn(a.imageSizes)+'"]')):h+='[href="'+vn(e)+'"]';var d=h;switch(i){case"style":d=Wa(e);break;case"script":d=to(e)}$n.has(d)||(e=R({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:e,as:i},a),$n.set(d,e),l.querySelector(h)!==null||i==="style"&&l.querySelector(vl(d))||i==="script"&&l.querySelector(bl(d))||(i=l.createElement("link"),nn(i,"link",e),Ve(i),l.head.appendChild(i)))}}function N1(e,i){gs.m(e,i);var a=Ja;if(a&&e){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+vn(l)+'"][href="'+vn(e)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(e)}if(!$n.has(d)&&(e=R({rel:"modulepreload",href:e},i),$n.set(d,e),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(bl(d)))return}l=a.createElement("link"),nn(l,"link",e),Ve(l),a.head.appendChild(l)}}}function D1(e,i,a){gs.S(e,i,a);var l=Ja;if(l&&e){var h=Ti(l).hoistableStyles,d=Wa(e);i=i||"default";var y=h.get(d);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(vl(d)))E.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":i},a),(a=$n.get(d))&&Ed(e,a);var D=y=l.createElement("link");Ve(D),nn(D,"link",e),D._p=new Promise(function(P,Y){D.onload=P,D.onerror=Y}),D.addEventListener("load",function(){E.loading|=1}),D.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(y,i,l)}y={type:"stylesheet",instance:y,count:1,state:E},h.set(d,y)}}}function O1(e,i){gs.X(e,i);var a=Ja;if(a&&e){var l=Ti(a).hoistableScripts,h=to(e),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(e=R({src:e,async:!0},i),(i=$n.get(h))&&Td(e,i),d=a.createElement("script"),Ve(d),nn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function M1(e,i){gs.M(e,i);var a=Ja;if(a&&e){var l=Ti(a).hoistableScripts,h=to(e),d=l.get(h);d||(d=a.querySelector(bl(h)),d||(e=R({src:e,async:!0,type:"module"},i),(i=$n.get(h))&&Td(e,i),d=a.createElement("script"),Ve(d),nn(d,"link",e),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function S_(e,i,a,l){var h=(h=Rt.current)?gc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=Ti(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Wa(a.href);var d=Ti(h).hoistableStyles,y=d.get(e);if(y||(h=h.ownerDocument||h,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=h.querySelector(vl(e)))&&!d._p&&(y.instance=d,y.state.loading=5),$n.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(e,a),d||V1(h,e,a,y.state))),i&&l===null)throw Error(r(528,""));return y}if(i&&l!==null)throw Error(r(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=Ti(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Wa(e){return'href="'+vn(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function w_(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function V1(e,i,a,l){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=e.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),nn(i,"link",a),Ve(i),e.head.appendChild(i))}function to(e){return'[src="'+vn(e)+'"]'}function bl(e){return"script[async]"+e}function A_(e,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=e.querySelector('style[data-href~="'+vn(a.href)+'"]');if(l)return i.instance=l,Ve(l),l;var h=R({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ve(l),nn(l,"style",h),pc(l,a.precedence,e),i.instance=l;case"stylesheet":h=Wa(a.href);var d=e.querySelector(vl(h));if(d)return i.state.loading|=4,i.instance=d,Ve(d),d;l=w_(a),(h=$n.get(h))&&Ed(l,h),d=(e.ownerDocument||e).createElement("link"),Ve(d);var y=d;return y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),nn(d,"link",l),i.state.loading|=4,pc(d,a.precedence,e),i.instance=d;case"script":return d=to(a.src),(h=e.querySelector(bl(d)))?(i.instance=h,Ve(h),h):(l=a,(h=$n.get(d))&&(l=R({},a),Td(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ve(h),nn(h,"link",l),e.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,pc(l,a.precedence,e));return i.instance}function pc(e,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===i)d=E;else if(d!==h)break}d?d.parentNode.insertBefore(e,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(e,i.firstChild))}function Ed(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function Td(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var yc=null;function x_(e,i,a){if(yc===null){var l=new Map,h=yc=new Map;h.set(a,l)}else h=yc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var d=a[h];if(!(d[bi]||d[Me]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(i)||"";y=e+y;var E=l.get(y);E?E.push(d):l.set(y,[d])}}return l}function R_(e,i,a){e=e.ownerDocument||e,e.head.insertBefore(a,i==="title"?e.querySelector("head > title"):null)}function k1(e,i,a){if(a===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function C_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function U1(e,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Wa(l.href),d=i.querySelector(vl(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=_c.bind(e),i.then(e,e)),a.state.loading|=4,a.instance=d,Ve(d);return}d=i.ownerDocument||i,l=w_(l),(h=$n.get(h))&&Ed(l,h),d=d.createElement("link"),Ve(d);var y=d;y._p=new Promise(function(E,D){y.onload=E,y.onerror=D}),nn(d,"link",l),a.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=_c.bind(e),i.addEventListener("load",a),i.addEventListener("error",a))}}var Sd=0;function j1(e,i){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+i);0<e.imgBytes&&Sd===0&&(Sd=62500*y1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>Sd?50:800)+i);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function bc(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,i.forEach(L1,e),vc=null,_c.call(e))}function L1(e,i){if(!(i.state.loading&4)){var a=vc.get(e);if(a)var l=a.get(null);else{a=new Map,vc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var y=h[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}h=i.instance,y=h.getAttribute("data-precedence"),d=a.get(y)||l,d===l&&a.set(null,h),a.set(y,h),this.count++,l=_c.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),i.state.loading|=4}}var El={$$typeof:et,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function P1(e,i,a,l,h,d,y,E,D){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_i(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_i(0),this.hiddenUpdates=_i(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function I_(e,i,a,l,h,d,y,E,D,P,Y,Z){return e=new P1(e,i,a,y,D,P,Y,Z,E),i=1,d===!0&&(i|=24),d=On(3,null,null,i),e.current=d,d.stateNode=e,i=ef(),i.refCount++,e.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},af(d),e}function N_(e){return e?(e=Da,e):Da}function D_(e,i,a,l,h,d){h=N_(h),l.context===null?l.context=h:l.pendingContext=h,l=Ps(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=zs(e,l,i),a!==null&&(An(a,e,i),Wo(a,e,i))}function O_(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<i?a:i}}function wd(e,i){O_(e,i),(e=e.alternate)&&O_(e,i)}function M_(e){if(e.tag===13||e.tag===31){var i=Lr(e,67108864);i!==null&&An(i,e,67108864),wd(e,67108864)}}function V_(e){if(e.tag===13||e.tag===31){var i=jn();i=xr(i);var a=Lr(e,i);a!==null&&An(a,e,i),wd(e,i)}}var Ec=!0;function z1(e,i,a,l){var h=G.T;G.T=null;var d=rt.p;try{rt.p=2,Ad(e,i,a,l)}finally{rt.p=d,G.T=h}}function B1(e,i,a,l){var h=G.T;G.T=null;var d=rt.p;try{rt.p=8,Ad(e,i,a,l)}finally{rt.p=d,G.T=h}}function Ad(e,i,a,l){if(Ec){var h=xd(l);if(h===null)hd(e,i,l,Tc,a),U_(e,l);else if(H1(h,e,i,a,l))l.stopPropagation();else if(U_(e,l),i&4&&-1<q1.indexOf(e)){for(;h!==null;){var d=Pn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=pi(d.pendingLanes);if(y!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var D=1<<31-ue(y);E.entanglements[1]|=D,y&=~D}ki(d),(Zt&6)===0&&(sc=ln()+500,gl(0))}}break;case 31:case 13:E=Lr(d,2),E!==null&&An(E,d,2),ac(),wd(d,2)}if(d=xd(l),d===null&&hd(e,i,l,Tc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else hd(e,i,l,null,a)}}function xd(e){return e=zn(e),Rd(e)}var Tc=null;function Rd(e){if(Tc=null,e=Ei(e),e!==null){var i=u(e);if(i===null)e=null;else{var a=i.tag;if(a===13){if(e=f(i),e!==null)return e;e=null}else if(a===31){if(e=g(i),e!==null)return e;e=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Tc=e,null}function k_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(be()){case Ze:return 2;case Rn:return 8;case Qe:case di:return 32;case fa:return 268435456;default:return 32}default:return 32}}var Cd=!1,Zs=null,Js=null,Ws=null,Tl=new Map,Sl=new Map,tr=[],q1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function U_(e,i){switch(e){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Ws=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(i.pointerId)}}function wl(e,i,a,l,h,d){return e===null||e.nativeEvent!==d?(e={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Pn(i),i!==null&&M_(i)),e):(e.eventSystemFlags|=l,i=e.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),e)}function H1(e,i,a,l,h){switch(i){case"focusin":return Zs=wl(Zs,e,i,a,l,h),!0;case"dragenter":return Js=wl(Js,e,i,a,l,h),!0;case"mouseover":return Ws=wl(Ws,e,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Tl.set(d,wl(Tl.get(d)||null,e,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Sl.set(d,wl(Sl.get(d)||null,e,i,a,l,h)),!0}return!1}function j_(e){var i=Ei(e.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){e.blockedOn=i,ti(e.priority,function(){V_(a)});return}}else if(i===31){if(i=g(a),i!==null){e.blockedOn=i,ti(e.priority,function(){V_(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Sc(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);jo=l,a.target.dispatchEvent(l),jo=null}else return i=Pn(a),i!==null&&M_(i),e.blockedOn=a,!1;i.shift()}return!0}function L_(e,i,a){Sc(e)&&a.delete(i)}function F1(){Cd=!1,Zs!==null&&Sc(Zs)&&(Zs=null),Js!==null&&Sc(Js)&&(Js=null),Ws!==null&&Sc(Ws)&&(Ws=null),Tl.forEach(L_),Sl.forEach(L_)}function wc(e,i){e.blockedOn===i&&(e.blockedOn=null,Cd||(Cd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,F1)))}var Ac=null;function P_(e){Ac!==e&&(Ac=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){Ac===e&&(Ac=null);for(var i=0;i<e.length;i+=3){var a=e[i],l=e[i+1],h=e[i+2];if(typeof l!="function"){if(Rd(l||a)===null)continue;break}var d=Pn(a);d!==null&&(e.splice(i,3),i-=3,xf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function eo(e){function i(D){return wc(D,e)}Zs!==null&&wc(Zs,e),Js!==null&&wc(Js,e),Ws!==null&&wc(Ws,e),Tl.forEach(i),Sl.forEach(i);for(var a=0;a<tr.length;a++){var l=tr[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<tr.length&&(a=tr[0],a.blockedOn===null);)j_(a),a.blockedOn===null&&tr.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],y=h[Ke]||null;if(typeof d=="function")y||P_(a);else if(y){var E=null;if(d&&d.hasAttribute("formAction")){if(h=d,y=d[Ke]||null)E=y.formAction;else if(Rd(h)!==null)continue}else E=y.action;typeof E=="function"?a[l+1]=E:(a.splice(l,3),l-=3),P_(a)}}}function z_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return h=y})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}xc.prototype.render=Id.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(r(409));var a=i.current,l=jn();D_(a,l,e,i,null,null)},xc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;D_(e.current,2,null,e,null,null),ac(),i[vi]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var i=au();e={blockedOn:null,target:e,priority:i};for(var a=0;a<tr.length&&i!==0&&i<tr[a].priority;a++);tr.splice(a,0,e),a===0&&j_(e)}};var B_=t.version;if(B_!=="19.2.0")throw Error(r(527,B_,"19.2.0"));rt.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(i),e=e!==null?T(e):null,e=e===null?null:e.stateNode,e};var G1={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Cn=Rc.inject(G1),Re=Rc}catch{}}return xl.createRoot=function(e,i){if(!o(e))throw Error(r(299));var a=!1,l="",h=Yp,d=Xp,y=$p;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),i=I_(e,1,!1,null,null,a,l,null,h,d,y,z_),e[vi]=i.current,cd(e),new Id(i)},xl.hydrateRoot=function(e,i,a){if(!o(e))throw Error(r(299));var l=!1,h="",d=Yp,y=Xp,E=$p,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=I_(e,1,!0,i,a??null,l,h,D,d,y,E,z_),i.context=N_(null),a=i.current,l=jn(),l=xr(l),h=Ps(l),h.callback=null,zs(a,h,l),a=l,i.current.lanes=a,wr(i,a),ki(i),e[vi]=i.current,cd(e),new xc(i)},xl.version="19.2.0",xl}var Z_;function nS(){if(Z_)return Od.exports;Z_=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Od.exports=eS(),Od.exports}var iS=nS();const sS=Nv(iS),J_=({onFileSelect:s,title:t,acceptedTypes:n})=>{const[r,o]=ft.useState(!1),u=T=>{T.preventDefault(),T.stopPropagation(),o(!0)},f=T=>{T.preventDefault(),T.stopPropagation(),o(!1)},g=T=>{T.preventDefault(),T.stopPropagation()},p=ft.useCallback(T=>{T.preventDefault(),T.stopPropagation(),o(!1),T.dataTransfer.files&&T.dataTransfer.files.length>0&&s(T.dataTransfer.files[0])},[s]),_=T=>{T.target.files&&T.target.files.length>0&&s(T.target.files[0])};return b.jsxs("div",{className:"flex flex-col items-center justify-center w-full",children:[b.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:t}),b.jsxs("label",{htmlFor:"dropzone-file",className:`flex flex-col items-center justify-center w-full h-64 border-2 border-dashed rounded-lg cursor-pointer transition-colors
        ${r?"border-brand-primary bg-gray-700":"border-gray-600 bg-gray-700 hover:bg-gray-600"}`,onDragEnter:u,onDragLeave:f,onDragOver:g,onDrop:p,children:[b.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[b.jsx("svg",{className:"w-10 h-10 mb-4 text-gray-400","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:b.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),b.jsxs("p",{className:"mb-2 text-sm text-gray-400",children:[b.jsx("span",{className:"font-semibold",children:" "}),"    "]}),b.jsx("p",{className:"text-xs text-gray-500",children:n.replace(/,/g,", ")})]}),b.jsx("input",{id:"dropzone-file",type:"file",className:"hidden",accept:n,onChange:_})]})]})},rS=["Arial","Verdana","Times New Roman","Georgia","Courier New","Brush Script MT"],aS=({placeholder:s,excelHeaders:t,onSave:n,onDelete:r,onClose:o,customFonts:u,zipImagesCount:f})=>{const[g,p]=ft.useState(s),_=[...new Set([...rS,...u])];ft.useEffect(()=>{p(s)},[s]);const T=Q=>{const{name:W,value:K}=Q.target,it=["fontSize","width","height"].includes(W);p(st=>{let et={...st};return et[W]=it?parseInt(K,10)||0:K,W==="dataSource"&&et.type==="image"&&(K==="zip"?delete et.dataColumn:K==="excel"&&(et.dataColumn=t[0])),et})},R=()=>{n(g),o()},O=Q=>Q.type==="text",q=Q=>Q.type==="image";return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",onClick:o,children:b.jsxs("div",{className:"bg-gray-800 text-white rounded-lg shadow-xl p-6 w-full max-w-md",onClick:Q=>Q.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-4",children:[b.jsx("h3",{className:"text-xl font-bold",children:" "}),b.jsx("button",{onClick:o,className:"text-gray-400 hover:text-white",children:""})]}),b.jsxs("div",{className:"space-y-4",children:[q(g)&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"dataSource",className:"block text-sm font-medium text-gray-300 mb-1",children:" "}),b.jsxs("select",{id:"dataSource",name:"dataSource",value:g.dataSource,onChange:T,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary",children:[b.jsx("option",{value:"excel",children:"  "}),b.jsx("option",{value:"zip",children:"  ZIP "})]})]}),(O(g)||q(g)&&g.dataSource==="excel")&&b.jsxs("div",{children:[b.jsx("label",{htmlFor:"dataColumn",className:"block text-sm font-medium text-gray-300 mb-1",children:"  "}),b.jsx("select",{id:"dataColumn",name:"dataColumn",value:g.dataColumn||"",onChange:T,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary",children:t.map(Q=>b.jsx("option",{value:Q,children:Q},Q))})]}),q(g)&&g.dataSource==="zip"&&b.jsx("div",{className:"text-sm text-gray-400 p-3 bg-gray-900 rounded-md",children:f>0?`   ZIP   ${f} .       .`:"    ZIP .       ZIP   ."}),O(g)?b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fontSize",className:"block text-sm font-medium text-gray-300 mb-1",children:"  ()"}),b.jsx("input",{type:"number",id:"fontSize",name:"fontSize",value:g.fontSize,onChange:T,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"fontFamily",className:"block text-sm font-medium text-gray-300 mb-1",children:" "}),b.jsx("select",{id:"fontFamily",name:"fontFamily",value:g.fontFamily,onChange:T,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2",children:_.map(Q=>b.jsx("option",{value:Q,style:{fontFamily:Q},children:Q},Q))})]})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"width",className:"block text-sm font-medium text-gray-300 mb-1",children:"   ()"}),b.jsx("input",{type:"number",id:"width",name:"width",value:g.width,onChange:T,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"align",className:"block text-sm font-medium text-gray-300 mb-1",children:" "}),b.jsxs("select",{id:"align",name:"align",value:g.align,onChange:T,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2",children:[b.jsx("option",{value:"left",children:""}),b.jsx("option",{value:"center",children:""}),b.jsx("option",{value:"right",children:""})]})]})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"color",className:"block text-sm font-medium text-gray-300 mb-1",children:""}),b.jsx("input",{type:"color",id:"color",name:"color",value:g.color,onChange:T,className:"w-full h-10 p-1 bg-gray-700 border border-gray-600 rounded-md"})]})]}):b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"width",className:"block text-sm font-medium text-gray-300 mb-1",children:" ()"}),b.jsx("input",{type:"number",id:"width",name:"width",value:g.width,onChange:T,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"height",className:"block text-sm font-medium text-gray-300 mb-1",children:" ()"}),b.jsx("input",{type:"number",id:"height",name:"height",value:g.height,onChange:T,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2"})]})]})]}),b.jsxs("div",{className:"mt-6 flex justify-between",children:[b.jsx("button",{onClick:()=>r(s.id),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:" "}),b.jsx("button",{onClick:R,className:"bg-brand-primary text-white font-bold py-2 px-4 rounded-lg hover:bg-brand-secondary transition-colors",children:" "})]})]})})},oS=({imageSrc:s,excelHeaders:t,excelData:n,placeholders:r,setPlaceholders:o,onGenerate:u,isGenerating:f,customFonts:g,zipImages:p,onZipUpload:_,isProcessingZip:T})=>{const[R,O]=ft.useState(null),[q,Q]=ft.useState(!1),W=ft.useRef(null),[K,it]=ft.useState({width:0,height:0});ft.useEffect(()=>{const A=new Image;A.src=s,A.onload=()=>{it({width:A.width,height:A.height})}},[s]);const st=A=>{A.target.files&&A.target.files.length>0&&(_(A.target.files[0]),A.target.value="")},et=()=>{if(!W.current)return;const A={type:"text",id:new Date().toISOString(),x:K.width/2-150,y:K.height/2-25,dataColumn:t[0],fontSize:48,fontFamily:"Arial",color:"#000000",width:300,align:"center"};o(N=>[...N,A]),O(A),Q(!0)},nt=()=>{if(!W.current)return;const A={type:"image",id:new Date().toISOString(),x:K.width/2-100,y:K.height/2-75,width:200,height:150,dataSource:"excel",dataColumn:t.find(N=>N.toLowerCase().includes("image")||N.toLowerCase().includes("photo")||N.toLowerCase().includes("qr"))||t[0]};o(N=>[...N,A]),O(A),Q(!0)},ut=A=>{o(r.map(N=>N.id===A.id?A:N))},z=A=>{o(r.filter(N=>N.id!==A)),Q(!1)},x=(A,N)=>{A.dataTransfer.setData("placeholderId",N.id);const M=A.currentTarget.getBoundingClientRect(),I=A.clientX-M.left,bt=A.clientY-M.top;A.dataTransfer.setData("offsetX",I.toString()),A.dataTransfer.setData("offsetY",bt.toString())},w=ft.useCallback(A=>{A.preventDefault();const N=A.dataTransfer.getData("placeholderId"),M=parseFloat(A.dataTransfer.getData("offsetX")),I=parseFloat(A.dataTransfer.getData("offsetY")),bt=W.current.getBoundingClientRect(),Gt=K.width/bt.width,G=K.height/bt.height,rt=(A.clientX-bt.left-M)*Gt,lt=(A.clientY-bt.top-I)*G;o(wt=>wt.map(Dt=>Dt.id===N?{...Dt,x:rt,y:lt}:Dt))},[K,o]),C=A=>{A.preventDefault()};return b.jsxs("div",{children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h2",{className:"text-2xl font-semibold mb-2",children:" "}),b.jsx("p",{className:"text-gray-400",children:"        ."}),b.jsxs("div",{className:"flex flex-wrap justify-center gap-4 mt-4",children:[b.jsx("button",{onClick:et,className:"bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors",children:"  "}),b.jsx("button",{onClick:nt,className:"bg-purple-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-purple-700 transition-colors",children:"  "}),b.jsx("label",{htmlFor:"zip-upload",className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors cursor-pointer inline-flex items-center",children:T?" ...":"  ZIP "}),b.jsx("input",{id:"zip-upload",type:"file",className:"hidden",accept:"application/zip,.zip",onChange:st,disabled:T})]})]}),b.jsxs("div",{className:"relative w-full max-w-4xl mx-auto border-2 border-dashed border-gray-600 p-2",ref:W,onDrop:w,onDragOver:C,children:[b.jsx("img",{src:s,alt:"Certificate Template",className:"w-full h-auto"}),r.map(A=>{var Gt,G,rt;const N=(Gt=W.current)==null?void 0:Gt.getBoundingClientRect();if(!N||!K.width)return null;const M={left:`${A.x/K.width*100}%`,top:`${A.y/K.height*100}%`,width:`${A.width/K.width*100}%`};if(A.type==="image"){let lt=null;return A.dataSource==="zip"?lt=p.length>0?p[0]:null:lt=A.dataColumn&&((G=n==null?void 0:n[0])!=null&&G[A.dataColumn])?String(n[0][A.dataColumn]):null,b.jsx("div",{draggable:!0,onDragStart:wt=>x(wt,A),onClick:wt=>{wt.stopPropagation(),O(A),Q(!0)},className:"absolute p-0.5 border-2 border-dashed border-purple-500 cursor-move hover:bg-purple-500 hover:bg-opacity-20 flex items-center justify-center",style:{...M,height:`${A.height/K.height*100}%`},children:lt?b.jsx("img",{src:lt,className:"w-full h-full object-contain",alt:""}):b.jsxs("div",{className:"w-full h-full flex items-center justify-center bg-gray-500 bg-opacity-50 text-white text-center p-1",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),b.jsx("span",{className:"absolute bottom-1 text-xs",children:A.dataSource==="zip"?"ZIP":""})]})},A.id)}const I=N.width/K.width,bt=A.dataColumn&&((rt=n==null?void 0:n[0])!=null&&rt[A.dataColumn])?String(n[0][A.dataColumn]):`{${A.dataColumn}}`;return b.jsx("div",{draggable:!0,onDragStart:lt=>x(lt,A),onClick:lt=>{lt.stopPropagation(),O(A),Q(!0)},className:"absolute p-1 border border-dashed border-brand-primary cursor-move hover:bg-brand-primary hover:bg-opacity-20",style:{...M,fontSize:A.fontSize*I,fontFamily:A.fontFamily,color:A.color,textAlign:A.align},children:bt},A.id)})]}),b.jsx("div",{className:"mt-8 text-center",children:b.jsx("button",{onClick:u,disabled:f||r.length===0,className:"bg-gradient-to-r from-brand-primary to-brand-secondary text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:scale-105 transform transition-transform duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:f?" ...":" "})}),q&&R&&b.jsx(aS,{placeholder:R,excelHeaders:t,customFonts:g,zipImagesCount:p.length,onSave:ut,onDelete:z,onClose:()=>Q(!1)})]})},lS=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"})}),uS=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"})}),cS=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v1m0 14v1m8-9h-1M5 12H4m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"})}),hS=({certificates:s,excelData:t,onReset:n})=>{const[r,o]=ft.useState(0),[u,f]=ft.useState(1),[g,p]=ft.useState(!1),[_,T]=ft.useState(!1);ft.useEffect(()=>{if(s.length>0){const nt=parseInt(localStorage.getItem("generatedCertificatesCount")||"0",10);localStorage.setItem("generatedCertificatesCount",(nt+s.length).toString())}},[]);const R=()=>f(nt=>Math.min(nt*1.2,3)),O=()=>f(nt=>Math.max(nt/1.2,.5)),q=()=>f(1),Q=(nt,ut,z)=>{var A;const x=JSON.parse(localStorage.getItem("downloadHistory")||"[]");let w=`  (${ut})`;nt===1&&typeof z<"u"&&(w=`: ${((A=t[z])==null?void 0:A[Object.keys(t[z])[0]])||` ${z+1}`}`);const C={name:w,date:new Date().toLocaleString("ar-EG"),count:nt};localStorage.setItem("downloadHistory",JSON.stringify([C,...x]))},W=async()=>{if(!JSZip){alert(" ZIP  .   .");return}p(!0);try{const nt=new JSZip;s.forEach((x,w)=>{var N;const A=`${((N=t[w])==null?void 0:N[Object.keys(t[w])[0]])||`certificate-${w+1}`}.png`.replace(/[/\\?%*:|"<>]/g,"-");nt.file(A,x.split(",")[1],{base64:!0})});const ut=await nt.generateAsync({type:"blob"}),z=document.createElement("a");z.href=URL.createObjectURL(ut),z.download="certificates.zip",document.body.appendChild(z),z.click(),document.body.removeChild(z),Q(s.length,"ZIP")}catch(nt){console.error("Error creating ZIP file:",nt),alert("    ZIP.")}finally{p(!1)}},K=nt=>{var C;const ut=s[nt],x=`${((C=t[nt])==null?void 0:C[Object.keys(t[nt])[0]])||`certificate-${nt+1}`}.png`.replace(/[/\\?%*:|"<>]/g,"-"),w=document.createElement("a");w.href=ut,w.download=x,document.body.appendChild(w),w.click(),document.body.removeChild(w),Q(1,"ZIP",nt)},it=async()=>{if(!jspdf){alert(" PDF  .   .");return}T(!0);try{const{jsPDF:nt}=jspdf;if(s.length===0)return;const ut=s[0],z=new Image;z.src=ut,await new Promise(C=>{z.onload=C});const x=z.width>z.height?"l":"p",w=new nt({orientation:x,unit:"px",format:[z.width,z.height]});w.addImage(ut,"PNG",0,0,z.width,z.height);for(let C=1;C<s.length;C++)w.addPage([z.width,z.height],x),w.addImage(s[C],"PNG",0,0,z.width,z.height);w.save("certificates.pdf"),Q(s.length,"PDF")}catch(nt){console.error("Error creating PDF file:",nt),alert("    PDF.")}finally{T(!1)}},st=async nt=>{var ut;if(!jspdf){alert(" PDF  .   .");return}T(!0);try{const{jsPDF:z}=jspdf,x=s[nt],C=`${((ut=t[nt])==null?void 0:ut[Object.keys(t[nt])[0]])||`certificate-${nt+1}`}.pdf`.replace(/[/\\?%*:|"<>]/g,"-"),A=new Image;A.src=x,await new Promise(I=>{A.onload=I});const N=A.width>A.height?"l":"p",M=new z({orientation:N,unit:"px",format:[A.width,A.height]});M.addImage(x,"PNG",0,0,A.width,A.height),M.save(C),Q(1,"PDF",nt)}catch(z){console.error("Error creating single PDF:",z),alert("    PDF.")}finally{T(!1)}};if(s.length===0)return b.jsxs("div",{className:"text-center p-8",children:[b.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"    ."}),b.jsx("button",{onClick:n,className:"bg-gray-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-700 transition-colors",children:"  "})]});const et=g||_;return b.jsxs("div",{className:"flex flex-col h-full",children:[b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("h2",{className:"text-3xl font-bold",children:"   !"}),b.jsxs("p",{className:"text-gray-400 mt-2",children:["  ",s.length," .    ."]})]}),b.jsxs("div",{className:"flex-grow flex flex-col md:flex-row gap-6 overflow-hidden",children:[b.jsxs("div",{className:"flex-grow w-full md:w-3/4 bg-gray-900 rounded-lg p-4 flex flex-col items-center justify-center relative overflow-hidden",children:[b.jsxs("div",{className:"absolute top-2 right-2 z-10 flex items-center gap-2 bg-gray-800 p-2 rounded-lg",children:[b.jsx("button",{onClick:R,className:"p-2 hover:bg-gray-700 rounded-full",title:"",children:b.jsx(lS,{})}),b.jsx("button",{onClick:O,className:"p-2 hover:bg-gray-700 rounded-full",title:"",children:b.jsx(uS,{})}),b.jsx("button",{onClick:q,className:"p-2 hover:bg-gray-700 rounded-full",title:" ",children:b.jsx(cS,{})})]}),b.jsx("div",{className:"w-full h-full overflow-auto flex items-center justify-center",children:b.jsx("img",{src:s[r],alt:`Certificate ${r+1}`,className:"transition-transform duration-300 max-w-full max-h-full",style:{transform:`scale(${u})`}})})]}),b.jsxs("div",{className:"w-full md:w-1/4 h-48 md:h-auto flex flex-col bg-gray-900 rounded-lg p-2",children:[b.jsxs("h3",{className:"font-semibold text-center mb-2 p-2",children:[" (",r+1," / ",s.length,")"]}),b.jsx("div",{className:"flex-grow overflow-y-auto space-y-2 pr-2",children:s.map((nt,ut)=>b.jsx("div",{onClick:()=>o(ut),className:`cursor-pointer rounded-lg overflow-hidden border-2 ${r===ut?"border-brand-primary":"border-transparent"} hover:border-brand-secondary`,children:b.jsx("img",{src:nt,alt:`Thumbnail ${ut+1}`,className:"w-full h-auto"})},ut))})]})]}),b.jsxs("div",{className:"mt-8 flex flex-col items-center gap-6",children:[b.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[b.jsx("button",{onClick:W,disabled:et,className:"w-full sm:w-auto bg-gradient-to-r from-green-500 to-green-600 text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:scale-105 transform transition-transform duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:g?" ...":"   ZIP"}),b.jsx("button",{onClick:it,disabled:et,className:"w-full sm:w-auto bg-gradient-to-r from-red-500 to-red-600 text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:scale-105 transform transition-transform duration-300 disabled:opacity-50 disabled:cursor-not-allowed",children:_?" ...":"   PDF"})]}),b.jsx("div",{className:"border-t border-gray-700 w-full max-w-md"}),b.jsxs("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:[b.jsx("p",{className:"text-gray-400",children:" :"}),b.jsx("button",{onClick:()=>K(r),disabled:et,className:"w-full sm:w-auto bg-blue-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:" (PNG)"}),b.jsx("button",{onClick:()=>st(r),disabled:et,className:"w-full sm:w-auto bg-purple-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-purple-700 transition-colors disabled:opacity-50",children:" (PDF)"})]}),b.jsx("div",{className:"mt-4",children:b.jsx("button",{onClick:n,className:"w-full sm:w-auto bg-gray-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-700 transition-colors",children:"  "})})]})]})},fS="CertificateGeneratorDB",mr="fonts",dS=1;let Cc;const Am=()=>new Promise((s,t)=>{if(Cc)return s(Cc);const n=indexedDB.open(fS,dS);n.onerror=r=>{console.error("Database error:",n.error),t("Error opening database")},n.onsuccess=r=>{Cc=n.result,s(Cc)},n.onupgradeneeded=r=>{const o=r.target.result;o.objectStoreNames.contains(mr)||o.createObjectStore(mr,{keyPath:"name"})}}),mS=async s=>{const t=await Am();return new Promise((n,r)=>{const f=t.transaction([mr],"readwrite").objectStore(mr).put(s);f.onsuccess=()=>n(),f.onerror=()=>{console.error("Error saving font:",f.error),r(f.error)}})},Zd=async()=>{const s=await Am();return new Promise((t,n)=>{const u=s.transaction([mr],"readonly").objectStore(mr).getAll();u.onsuccess=()=>t(u.result),u.onerror=()=>{console.error("Error getting fonts:",u.error),n(u.error)}})},gS=async s=>{const t=await Am();return new Promise((n,r)=>{const f=t.transaction([mr],"readwrite").objectStore(mr).delete(s);f.onsuccess=()=>n(),f.onerror=()=>{console.error("Error deleting font:",f.error),r(f.error)}})},pS=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),Jd=({className:s="h-8 w-8"})=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:s,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.653-.125-1.274-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.653.125-1.274.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),Dv=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})}),Ov=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"})}),yS=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:1.5,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})}),Mv=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5.053a1 1 0 01.82-1.022l16-3.053a1 1 0 011.18.948v16.052a1 1 0 01-1.18.948l-16-3.053a1 1 0 01-.82-1.022V5.053zM10 12h4"})}),Ic=({title:s,value:t,icon:n,colorClass:r})=>b.jsxs("div",{className:"bg-gray-900 p-6 rounded-xl flex items-center space-x-4 space-x-reverse",children:[b.jsx("div",{className:`rounded-full p-4 ${r}`,children:n}),b.jsxs("div",{children:[b.jsx("p",{className:"text-4xl font-bold",children:t}),b.jsx("p",{className:"text-gray-400 text-sm",children:s})]})]}),_S=s=>{const{plan:t,expiresAt:n}=s;if(t==="free")return{text:" ",color:"bg-gray-500"};if(!n)return{text:" ",color:"bg-yellow-500 text-black"};const r=new Date(n);r.setHours(23,59,59,999);const o=new Date;return o.setHours(0,0,0,0),r<o?{text:" ",color:"bg-red-500"}:{text:"",color:"bg-green-500"}},vS=s=>{if(s.plan==="free"||!s.expiresAt)return!1;const t=new Date(s.expiresAt);t.setHours(23,59,59,999);const n=new Date;return n.setHours(0,0,0,0),t>=n},bS=({onClose:s,onFontsUpdate:t})=>{const[n,r]=ft.useState({users:1,certsGenerated:0,totalDownloads:0,customFonts:0}),[o,u]=ft.useState([]),[f,g]=ft.useState([]),[p,_]=ft.useState([]),[T,R]=ft.useState(""),[O,q]=ft.useState(!0),[Q,W]=ft.useState(!1),K=ft.useCallback(async()=>{try{const z=await Zd();g(z),r(x=>({...x,customFonts:z.length})),t()}catch(z){console.error("Failed to reload fonts:",z)}},[t]);ft.useEffect(()=>{(async()=>{q(!0);try{const x=parseInt(localStorage.getItem("generatedCertificatesCount")||"0",10),w=JSON.parse(localStorage.getItem("downloadHistory")||"[]");u(w);const C=w.reduce((I,bt)=>I+bt.count,0),A=await Zd();g(A);const N=A.length,M=JSON.parse(localStorage.getItem("users")||"[]");_(M),r({users:M.length,certsGenerated:x,totalDownloads:C,customFonts:N})}catch(x){console.error("Failed to load dashboard stats:",x)}finally{q(!1)}})()},[]);const it=(z,x)=>{const w=new Date,C=new Date(w);x==="monthly"?C.setDate(w.getDate()+30):C.setFullYear(w.getFullYear()+1);const A=C.toISOString().split("T")[0],N=p.map(M=>M.id===z?{...M,subscription:{plan:x,expiresAt:A}}:M);_(N);try{const I=JSON.parse(localStorage.getItem("users")||"[]").map(bt=>bt.id===z?{...bt,subscription:{plan:x,expiresAt:A}}:bt);localStorage.setItem("users",JSON.stringify(I)),alert("    .")}catch(M){console.error("Failed to save user subscription",M),alert("  .")}},st=z=>{const x=p.map(w=>w.id===z?{...w,subscription:{plan:"free",expiresAt:null}}:w);_(x);try{const C=JSON.parse(localStorage.getItem("users")||"[]").map(A=>A.id===z?{...A,subscription:{plan:"free",expiresAt:null}}:A);localStorage.setItem("users",JSON.stringify(C)),alert("    .")}catch(w){console.error("Failed to save user subscription",w),alert("  .")}},et=async z=>{var A;const x=(A=z.target.files)==null?void 0:A[0];if(!x)return;z.target.value="";const w=x.name.replace(/\.[^/.]+$/,"");if(f.some(N=>N.name===w)){alert(`  "${w}"  .`);return}W(!0);const C=new FileReader;C.onload=async N=>{var I;const M=(I=N.target)==null?void 0:I.result;if(M)try{await mS({name:w,data:M}),await K()}catch(bt){console.error(bt),alert("  .")}finally{W(!1)}else W(!1)},C.readAsArrayBuffer(x)},nt=async z=>{if(window.confirm(`      "${z}"`)){W(!0);try{await gS(z),await K()}catch(x){console.error(x),alert("  .")}finally{W(!1)}}},ut=p.filter(z=>z.name.toLowerCase().includes(T.toLowerCase())||z.phone.toLowerCase().includes(T.toLowerCase()));return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",onClick:s,children:b.jsxs("div",{className:"bg-gray-800 text-white rounded-lg shadow-xl p-4 sm:p-6 w-full max-w-4xl h-[90vh] overflow-y-auto",onClick:z=>z.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center mb-6 border-b border-gray-700 pb-4",children:[b.jsx("h3",{className:"text-2xl font-bold",children:"  "}),b.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white text-3xl",children:""})]}),O?b.jsx("div",{className:"text-center p-10",children:"  ..."}):b.jsxs("div",{className:"space-y-8",children:[b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[b.jsx(Ic,{title:" ",value:n.users,icon:b.jsx(Jd,{className:"h-8 w-8"}),colorClass:"bg-blue-500/20 text-blue-400"}),b.jsx(Ic,{title:" ",value:n.certsGenerated,icon:b.jsx(Dv,{}),colorClass:"bg-green-500/20 text-green-400"}),b.jsx(Ic,{title:" ",value:n.totalDownloads,icon:b.jsx(Ov,{}),colorClass:"bg-purple-500/20 text-purple-400"}),b.jsx(Ic,{title:" ",value:n.customFonts,icon:b.jsx(yS,{}),colorClass:"bg-yellow-500/20 text-yellow-400"})]}),b.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[b.jsxs("h4",{className:"flex items-center text-lg font-semibold mb-4",children:[b.jsx(Jd,{className:"h-5 w-5 text-gray-400"})," ",b.jsx("span",{className:"mr-2",children:"  "})]}),b.jsxs("div",{className:"relative mb-4",children:[b.jsx("input",{type:"text",placeholder:"    ...",value:T,onChange:z=>R(z.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 pr-10 focus:ring-brand-primary focus:border-brand-primary","aria-label":"Search users by name or phone"}),b.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none text-gray-400",children:b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),b.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto pr-2",children:p.length===0?b.jsx("p",{className:"text-gray-500 text-sm text-center py-2",children:"   ."}):ut.length===0?b.jsx("p",{className:"text-gray-500 text-sm text-center py-2",children:"    ."}):ut.map(z=>{const x=_S(z.subscription),w=vS(z.subscription);return b.jsxs("div",{className:"p-4 bg-gray-800 rounded-lg",children:[b.jsxs("div",{className:"flex justify-between items-start mb-3",children:[b.jsxs("div",{children:[b.jsxs("p",{className:"font-semibold",children:[z.name," ",b.jsxs("span",{className:"text-sm text-gray-400",children:["(",z.email,")"]})]}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[b.jsx("span",{children:z.country||"N/A"})," - ",b.jsx("span",{children:z.phone||"N/A"})]})]}),b.jsx("span",{className:`text-xs font-bold px-3 py-1 rounded-full text-white ${x.color}`,children:x.text})]}),b.jsx("div",{className:"mt-4 pt-4 border-t border-gray-700",children:w?b.jsxs("div",{className:"flex items-center justify-between",children:[b.jsxs("p",{className:"text-sm text-gray-300",children:[" : ",new Date(z.subscription.expiresAt).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"})]}),b.jsx("button",{onClick:()=>st(z.id),className:"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition-colors text-sm",children:" "})]}):b.jsxs("div",{className:"flex items-center justify-end gap-2",children:[b.jsx("p",{className:"text-sm text-gray-400 mr-auto",children:" :"}),b.jsx("button",{onClick:()=>it(z.id,"monthly"),className:"bg-green-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-green-700 transition-colors text-sm",children:" "}),b.jsx("button",{onClick:()=>it(z.id,"annual"),className:"bg-teal-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-teal-700 transition-colors text-sm",children:" "})]})})]},z.id)})})]}),b.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[b.jsxs("h4",{className:"flex items-center text-lg font-semibold mb-3",children:[b.jsx(Mv,{})," ",b.jsx("span",{className:"mr-2",children:" "})]}),b.jsx("p",{className:"text-xs text-gray-400 mb-3",children:"    ( )  .      ."}),b.jsx("label",{htmlFor:"admin-font-upload",className:`w-full text-center cursor-pointer bg-brand-primary text-white font-bold py-2 px-4 rounded-lg hover:bg-brand-secondary transition-colors inline-block ${Q?"opacity-50 cursor-not-allowed":""}`,children:Q?" ...":"  "}),b.jsx("input",{id:"admin-font-upload",type:"file",className:"hidden",accept:".ttf,.otf,.woff,.woff2",onChange:et,disabled:Q}),b.jsx("ul",{className:"space-y-2 mt-4 max-h-48 overflow-y-auto pr-2",children:f.length===0?b.jsx("p",{className:"text-gray-500 text-sm text-center py-2",children:"    ."}):f.map(z=>b.jsxs("li",{className:"flex justify-between items-center p-2 bg-gray-800 rounded text-sm",children:[b.jsx("span",{style:{fontFamily:z.name},children:z.name}),b.jsx("button",{onClick:()=>nt(z.name),className:"bg-red-600 text-white text-xs font-bold py-1 px-2 rounded hover:bg-red-700 disabled:opacity-50",disabled:Q,children:""})]},z.name))})]}),b.jsxs("div",{className:"bg-gray-900 p-6 rounded-lg",children:[b.jsxs("h4",{className:"flex items-center text-lg font-semibold mb-4",children:[b.jsx(pS,{}),b.jsx("span",{className:"mr-2",children:" "})]}),b.jsx("div",{className:"max-h-80 overflow-y-auto pr-2",children:o.length===0?b.jsx("p",{className:"text-gray-500 text-sm text-center py-4",children:"   ."}):b.jsx("ul",{className:"space-y-3",children:o.map((z,x)=>b.jsxs("li",{className:"text-sm p-3 bg-gray-800 rounded-md flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsx("p",{className:"font-semibold",children:z.name}),b.jsxs("p",{className:"text-gray-400 text-xs",children:[z.count," "]})]}),b.jsx("p",{className:"text-gray-500 text-xs",children:z.date})]},x))})})]})]}),b.jsx("div",{className:"mt-8 flex justify-end",children:b.jsx("button",{onClick:s,className:"bg-gray-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-700 transition-colors",children:""})})]})})},ES=()=>{};var W_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=function(s){const t=[];let n=0;for(let r=0;r<s.length;r++){let o=s.charCodeAt(r);o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=o&63|128):(o&64512)===55296&&r+1<s.length&&(s.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++r)&1023),t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=o&63|128):(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=o&63|128)}return t},TS=function(s){const t=[];let n=0,r=0;for(;n<s.length;){const o=s[n++];if(o<128)t[r++]=String.fromCharCode(o);else if(o>191&&o<224){const u=s[n++];t[r++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=s[n++],f=s[n++],g=s[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(p>>10)),t[r++]=String.fromCharCode(56320+(p&1023))}else{const u=s[n++],f=s[n++];t[r++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return t.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<s.length;o+=3){const u=s[o],f=o+1<s.length,g=f?s[o+1]:0,p=o+2<s.length,_=p?s[o+2]:0,T=u>>2,R=(u&3)<<4|g>>4;let O=(g&15)<<2|_>>6,q=_&63;p||(q=64,f||(O=64)),r.push(n[T],n[R],n[O],n[q])}return r.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(Vv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):TS(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<s.length;){const u=n[s.charAt(o++)],g=o<s.length?n[s.charAt(o)]:0;++o;const _=o<s.length?n[s.charAt(o)]:64;++o;const R=o<s.length?n[s.charAt(o)]:64;if(++o,u==null||g==null||_==null||R==null)throw new SS;const O=u<<2|g>>4;if(r.push(O),_!==64){const q=g<<4&240|_>>2;if(r.push(q),R!==64){const Q=_<<6&192|R;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class SS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wS=function(s){const t=Vv(s);return kv.encodeByteArray(t,!0)},Xc=function(s){return wS(s).replace(/\./g,"")},Uv=function(s){try{return kv.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS=()=>AS().__FIREBASE_DEFAULTS__,RS=()=>{if(typeof process>"u"||typeof W_>"u")return;const s=W_.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},CS=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&Uv(s[1]);return t&&JSON.parse(t)},mh=()=>{try{return ES()||xS()||RS()||CS()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},jv=s=>{var t,n;return(n=(t=mh())==null?void 0:t.emulatorHosts)==null?void 0:n[s]},Lv=s=>{const t=jv(s);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Pv=()=>{var s;return(s=mh())==null?void 0:s.config},zv=s=>{var t;return(t=mh())==null?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(s){try{return(s.startsWith("http://")||s.startsWith("https://")?new URL(s).hostname:s).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xm(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",o=s.iat||0,u=s.sub||s.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...s};return[Xc(JSON.stringify(n)),Xc(JSON.stringify(f)),""].join(".")}const Ol={};function NS(){const s={prod:[],emulator:[]};for(const t of Object.keys(Ol))Ol[t]?s.emulator.push(t):s.prod.push(t);return s}function DS(s){let t=document.getElementById(s),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),n=!0),{created:n,element:t}}let t0=!1;function Rm(s,t){if(typeof window>"u"||typeof document>"u"||!Tr(window.location.host)||Ol[s]===t||Ol[s]||t0)return;Ol[s]=t;function n(O){return`__firebase__banner__${O}`}const r="__firebase__banner",u=NS().prod.length>0;function f(){const O=document.getElementById(r);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function p(O,q){O.setAttribute("width","24"),O.setAttribute("id",q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{t0=!0,f()},O}function T(O,q){O.setAttribute("id",q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function R(){const O=DS(r),q=n("text"),Q=document.getElementById(q)||document.createElement("span"),W=n("learnmore"),K=document.getElementById(W)||document.createElement("a"),it=n("preprendIcon"),st=document.getElementById(it)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const et=O.element;g(et),T(K,W);const nt=_();p(st,it),et.append(st,Q,K,nt),document.body.appendChild(et)}u?(Q.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(dn())}function MS(){var t;const s=(t=mh())==null?void 0:t.forceEnvironment;if(s==="node")return!0;if(s==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function kS(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function US(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function jS(){const s=dn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function LS(){return!MS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PS(){try{return typeof indexedDB=="object"}catch{return!1}}function zS(){return new Promise((s,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),s(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;t(((u=o.error)==null?void 0:u.message)||"")}}catch(n){t(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="FirebaseError";class Yi extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=BS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xl.prototype.create)}}class Xl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},o=`${this.service}/${t}`,u=this.errors[t],f=u?qS(u,r):"Error",g=`${this.serviceName}: ${f} (${o}).`;return new Yi(o,g,r)}}function qS(s,t){return s.replace(HS,(n,r)=>{const o=t[r];return o!=null?String(o):`<${r}?>`})}const HS=/\{\$([^}]+)}/g;function FS(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function ea(s,t){if(s===t)return!0;const n=Object.keys(s),r=Object.keys(t);for(const o of n){if(!r.includes(o))return!1;const u=s[o],f=t[o];if(e0(u)&&e0(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function e0(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $l(s){const t=[];for(const[n,r]of Object.entries(s))Array.isArray(r)?r.forEach(o=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function GS(s,t){const n=new QS(s,t);return n.subscribe.bind(n)}class QS{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let o;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");KS(t,["next","error","complete"])?o=t:o={next:t,error:n,complete:r},o.next===void 0&&(o.next=Ud),o.error===void 0&&(o.error=Ud),o.complete===void 0&&(o.complete=Ud);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function KS(s,t){if(typeof s!="object"||s===null)return!1;for(const n of t)if(n in s&&typeof s[n]=="function")return!0;return!1}function Ud(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yn(s){return s&&s._delegate?s._delegate:s}class gr{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new IS;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){const n=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(t==null?void 0:t.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(r)return null;throw o}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if($S(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});r.resolve(u)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[u,f]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(u);r===g&&f.resolve(o)}return o}onInit(t,n){const r=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(r)??new Set;o.add(t),this.onInitCallbacks.set(r,o);const u=this.instances.get(r);return u&&t(u,r),()=>{o.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:XS(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XS(s){return s===Zr?void 0:s}function $S(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new YS(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Pt||(Pt={}));const JS={debug:Pt.DEBUG,verbose:Pt.VERBOSE,info:Pt.INFO,warn:Pt.WARN,error:Pt.ERROR,silent:Pt.SILENT},WS=Pt.INFO,tw={[Pt.DEBUG]:"log",[Pt.VERBOSE]:"log",[Pt.INFO]:"info",[Pt.WARN]:"warn",[Pt.ERROR]:"error"},ew=(s,t,...n)=>{if(t<s.logLevel)return;const r=new Date().toISOString(),o=tw[t];if(o)console[o](`[${r}]  ${s.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Cm{constructor(t){this.name=t,this._logLevel=WS,this._logHandler=ew,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Pt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?JS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Pt.DEBUG,...t),this._logHandler(this,Pt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Pt.VERBOSE,...t),this._logHandler(this,Pt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Pt.INFO,...t),this._logHandler(this,Pt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Pt.WARN,...t),this._logHandler(this,Pt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Pt.ERROR,...t),this._logHandler(this,Pt.ERROR,...t)}}const nw=(s,t)=>t.some(n=>s instanceof n);let n0,i0;function iw(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sw(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,Wd=new WeakMap,Hv=new WeakMap,jd=new WeakMap,Im=new WeakMap;function rw(s){const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("success",u),s.removeEventListener("error",f)},u=()=>{n(ur(s.result)),o()},f=()=>{r(s.error),o()};s.addEventListener("success",u),s.addEventListener("error",f)});return t.then(n=>{n instanceof IDBCursor&&qv.set(n,s)}).catch(()=>{}),Im.set(t,s),t}function aw(s){if(Wd.has(s))return;const t=new Promise((n,r)=>{const o=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",f),s.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{r(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",u),s.addEventListener("error",f),s.addEventListener("abort",f)});Wd.set(s,t)}let tm={get(s,t,n){if(s instanceof IDBTransaction){if(t==="done")return Wd.get(s);if(t==="objectStoreNames")return s.objectStoreNames||Hv.get(s);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ur(s[t])},set(s,t,n){return s[t]=n,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function ow(s){tm=s(tm)}function lw(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=s.call(Ld(this),t,...n);return Hv.set(r,t.sort?t.sort():[t]),ur(r)}:sw().includes(s)?function(...t){return s.apply(Ld(this),t),ur(qv.get(this))}:function(...t){return ur(s.apply(Ld(this),t))}}function uw(s){return typeof s=="function"?lw(s):(s instanceof IDBTransaction&&aw(s),nw(s,iw())?new Proxy(s,tm):s)}function ur(s){if(s instanceof IDBRequest)return rw(s);if(jd.has(s))return jd.get(s);const t=uw(s);return t!==s&&(jd.set(s,t),Im.set(t,s)),t}const Ld=s=>Im.get(s);function cw(s,t,{blocked:n,upgrade:r,blocking:o,terminated:u}={}){const f=indexedDB.open(s,t),g=ur(f);return r&&f.addEventListener("upgradeneeded",p=>{r(ur(f.result),p.oldVersion,p.newVersion,ur(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),g.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const hw=["get","getKey","getAll","getAllKeys","count"],fw=["put","add","delete","clear"],Pd=new Map;function s0(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Pd.get(t))return Pd.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=fw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||hw.includes(n)))return;const u=async function(f,...g){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[n](...g),o&&p.done]))[0]};return Pd.set(t,u),u}ow(s=>({...s,get:(t,n,r)=>s0(t,n)||s.get(t,n,r),has:(t,n)=>!!s0(t,n)||s.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function mw(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const em="@firebase/app",r0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s=new Cm("@firebase/app"),gw="@firebase/app-compat",pw="@firebase/analytics-compat",yw="@firebase/analytics",_w="@firebase/app-check-compat",vw="@firebase/app-check",bw="@firebase/auth",Ew="@firebase/auth-compat",Tw="@firebase/database",Sw="@firebase/data-connect",ww="@firebase/database-compat",Aw="@firebase/functions",xw="@firebase/functions-compat",Rw="@firebase/installations",Cw="@firebase/installations-compat",Iw="@firebase/messaging",Nw="@firebase/messaging-compat",Dw="@firebase/performance",Ow="@firebase/performance-compat",Mw="@firebase/remote-config",Vw="@firebase/remote-config-compat",kw="@firebase/storage",Uw="@firebase/storage-compat",jw="@firebase/firestore",Lw="@firebase/ai",Pw="@firebase/firestore-compat",zw="firebase",Bw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="[DEFAULT]",qw={[em]:"fire-core",[gw]:"fire-core-compat",[yw]:"fire-analytics",[pw]:"fire-analytics-compat",[vw]:"fire-app-check",[_w]:"fire-app-check-compat",[bw]:"fire-auth",[Ew]:"fire-auth-compat",[Tw]:"fire-rtdb",[Sw]:"fire-data-connect",[ww]:"fire-rtdb-compat",[Aw]:"fire-fn",[xw]:"fire-fn-compat",[Rw]:"fire-iid",[Cw]:"fire-iid-compat",[Iw]:"fire-fcm",[Nw]:"fire-fcm-compat",[Dw]:"fire-perf",[Ow]:"fire-perf-compat",[Mw]:"fire-rc",[Vw]:"fire-rc-compat",[kw]:"fire-gcs",[Uw]:"fire-gcs-compat",[jw]:"fire-fst",[Pw]:"fire-fst-compat",[Lw]:"fire-vertex","fire-js":"fire-js",[zw]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $c=new Map,Hw=new Map,im=new Map;function a0(s,t){try{s.container.addComponent(t)}catch(n){_s.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,n)}}function na(s){const t=s.name;if(im.has(t))return _s.debug(`There were multiple attempts to register component ${t}.`),!1;im.set(t,s);for(const n of $c.values())a0(n,s);for(const n of Hw.values())a0(n,s);return!0}function gh(s,t){const n=s.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),s.container.getProvider(t)}function ci(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Xl("app","Firebase",Fw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,n,r){this._isDeleted=!1,this._options={...t},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=Bw;function Fv(s,t={}){let n=s;typeof t!="object"&&(t={name:t});const r={name:nm,automaticDataCollectionEnabled:!0,...t},o=r.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(n||(n=Pv()),!n)throw cr.create("no-options");const u=$c.get(o);if(u){if(ea(n,u.options)&&ea(r,u.config))return u;throw cr.create("duplicate-app",{appName:o})}const f=new ZS(o);for(const p of im.values())f.addComponent(p);const g=new Gw(n,r,f);return $c.set(o,g),g}function Nm(s=nm){const t=$c.get(s);if(!t&&s===nm&&Pv())return Fv();if(!t)throw cr.create("no-app",{appName:s});return t}function Li(s,t,n){let r=qw[s]??s;n&&(r+=`-${n}`);const o=r.match(/\s|\//),u=t.match(/\s|\//);if(o||u){const f=[`Unable to register library "${r}" with version "${t}":`];o&&f.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_s.warn(f.join(" "));return}na(new gr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="firebase-heartbeat-database",Kw=1,Pl="firebase-heartbeat-store";let zd=null;function Gv(){return zd||(zd=cw(Qw,Kw,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Pl)}catch(n){console.warn(n)}}}}).catch(s=>{throw cr.create("idb-open",{originalErrorMessage:s.message})})),zd}async function Yw(s){try{const n=(await Gv()).transaction(Pl),r=await n.objectStore(Pl).get(Qv(s));return await n.done,r}catch(t){if(t instanceof Yi)_s.warn(t.message);else{const n=cr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_s.warn(n.message)}}}async function o0(s,t){try{const r=(await Gv()).transaction(Pl,"readwrite");await r.objectStore(Pl).put(t,Qv(s)),await r.done}catch(n){if(n instanceof Yi)_s.warn(n.message);else{const r=cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_s.warn(r.message)}}}function Qv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xw=1024,$w=30;class Zw{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ww(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var t,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=l0();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>$w){const f=tA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){_s.warn(r)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l0(),{heartbeatsToSend:r,unsentEntries:o}=Jw(this._heartbeatsCache.heartbeats),u=Xc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return _s.warn(n),""}}}function l0(){return new Date().toISOString().substring(0,10)}function Jw(s,t=Xw){const n=[];let r=s.slice();for(const o of s){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),u0(n)>t){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),u0(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ww{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PS()?zS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Yw(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return o0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return o0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function u0(s){return Xc(JSON.stringify({version:2,heartbeats:s})).length}function tA(s){if(s.length===0)return-1;let t=0,n=s[0].date;for(let r=1;r<s.length;r++)s[r].date<n&&(n=s[r].date,t=r);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eA(s){na(new gr("platform-logger",t=>new dw(t),"PRIVATE")),na(new gr("heartbeat",t=>new Zw(t),"PRIVATE")),Li(em,r0,s),Li(em,r0,"esm2020"),Li("fire-js","")}eA("");var nA="firebase",iA="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Li(nA,iA,"app");function Kv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sA=Kv,Yv=new Xl("auth","Firebase",Kv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Cm("@firebase/auth");function rA(s,...t){Zc.logLevel<=Pt.WARN&&Zc.warn(`Auth (${oa}): ${s}`,...t)}function Pc(s,...t){Zc.logLevel<=Pt.ERROR&&Zc.error(`Auth (${oa}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(s,...t){throw Dm(s,...t)}function Pi(s,...t){return Dm(s,...t)}function Xv(s,t,n){const r={...sA(),[t]:n};return new Xl("auth","Firebase",r).create(t,{appName:s.name})}function Wr(s){return Xv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Dm(s,...t){if(typeof s!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=s.name),s._errorFactory.create(n,...r)}return Yv.create(s,...t)}function Tt(s,t,...n){if(!s)throw Dm(t,...n)}function ps(s){const t="INTERNAL ASSERTION FAILED: "+s;throw Pc(t),new Error(t)}function bs(s,t){s||ps(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sm(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.href)||""}function aA(){return c0()==="http:"||c0()==="https:"}function c0(){var s;return typeof self<"u"&&((s=self.location)==null?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aA()||kS()||"connection"in navigator)?navigator.onLine:!0}function lA(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(t,n){this.shortDelay=t,this.longDelay=n,bs(n>t,"Short delay should be less than long delay!"),this.isMobile=OS()||US()}get(){return oA()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(s,t){bs(s.emulator,"Emulator should always be set here");const{url:n}=s.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uA={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],hA=new Zl(3e4,6e4);function Mm(s,t){return s.tenantId&&!t.tenantId?{...t,tenantId:s.tenantId}:t}async function Eo(s,t,n,r,o={}){return Zv(s,o,async()=>{let u={},f={};r&&(t==="GET"?f=r:u={body:JSON.stringify(r)});const g=$l({key:s.config.apiKey,...f}).slice(1),p=await s._getAdditionalHeaders();p["Content-Type"]="application/json",s.languageCode&&(p["X-Firebase-Locale"]=s.languageCode);const _={method:t,headers:p,...u};return VS()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&Tr(s.emulatorConfig.host)&&(_.credentials="include"),$v.fetch()(await Jv(s,s.config.apiHost,n,g),_)})}async function Zv(s,t,n){s._canInitEmulator=!1;const r={...uA,...t};try{const o=new dA(s),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Nc(s,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const g=u.ok?f.errorMessage:f.error.message,[p,_]=g.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(s,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Nc(s,"email-already-in-use",f);if(p==="USER_DISABLED")throw Nc(s,"user-disabled",f);const T=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Xv(s,T,_);vs(s,T)}}catch(o){if(o instanceof Yi)throw o;vs(s,"network-request-failed",{message:String(o)})}}async function fA(s,t,n,r,o={}){const u=await Eo(s,t,n,r,o);return"mfaPendingCredential"in u&&vs(s,"multi-factor-auth-required",{_serverResponse:u}),u}async function Jv(s,t,n,r){const o=`${t}${n}?${r}`,u=s,f=u.config.emulator?Om(s.config,o):`${s.config.apiScheme}://${o}`;return cA.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}class dA{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Pi(this.auth,"network-request-failed")),hA.get())})}}function Nc(s,t,n){const r={appName:s.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Pi(s,t,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mA(s,t){return Eo(s,"POST","/v1/accounts:delete",t)}async function Jc(s,t){return Eo(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ml(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function gA(s,t=!1){const n=yn(s),r=await n.getIdToken(t),o=Vm(r);Tt(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:r,authTime:Ml(Bd(o.auth_time)),issuedAtTime:Ml(Bd(o.iat)),expirationTime:Ml(Bd(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Bd(s){return Number(s)*1e3}function Vm(s){const[t,n,r]=s.split(".");if(t===void 0||n===void 0||r===void 0)return Pc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Uv(n);return o?JSON.parse(o):(Pc("Failed to decode base64 JWT payload"),null)}catch(o){return Pc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function h0(s){const t=Vm(s);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zl(s,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof Yi&&pA(r)&&s.auth.currentUser===s&&await s.auth.signOut(),r}}function pA({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rm{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wc(s){var R;const t=s.auth,n=await s.getIdToken(),r=await zl(s,Jc(t,{idToken:n}));Tt(r==null?void 0:r.users.length,t,"internal-error");const o=r.users[0];s._notifyReloadListener(o);const u=(R=o.providerUserInfo)!=null&&R.length?Wv(o.providerUserInfo):[],f=vA(s.providerData,u),g=s.isAnonymous,p=!(s.email&&o.passwordHash)&&!(f!=null&&f.length),_=g?p:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(s,T)}async function _A(s){const t=yn(s);await Wc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function vA(s,t){return[...s.filter(r=>!t.some(o=>o.providerId===r.providerId)),...t]}function Wv(s){return s.map(({providerId:t,...n})=>({providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bA(s,t){const n=await Zv(s,{},async()=>{const r=$l({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:u}=s.config,f=await Jv(s,o,"/v1/token",`key=${u}`),g=await s._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:g,body:r};return s.emulatorConfig&&Tr(s.emulatorConfig.host)&&(p.credentials="include"),$v.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EA(s,t){return Eo(s,"POST","/v2/accounts:revokeToken",Mm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const n=h0(t);this.updateTokensAndExpiration(t,null,n)}async getToken(t,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:o,expiresIn:u}=await bA(t,n);this.updateTokensAndExpiration(r,o,Number(u))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:o,expirationTime:u}=n,f=new oo;return r&&(Tt(typeof r=="string","internal-error",{appName:t}),f.refreshToken=r),o&&(Tt(typeof o=="string","internal-error",{appName:t}),f.accessToken=o),u&&(Tt(typeof u=="number","internal-error",{appName:t}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new oo,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nr(s,t){Tt(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:n,stsTokenManager:r,...o}){this.providerId="firebase",this.proactiveRefresh=new yA(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new rm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const n=await zl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return gA(this,t)}reload(){return _A(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>({...n})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await Wc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(Wr(this.auth));const t=await this.getIdToken();return await zl(this,mA(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){const r=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,g=n.tenantId??void 0,p=n._redirectEventId??void 0,_=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:R,emailVerified:O,isAnonymous:q,providerData:Q,stsTokenManager:W}=n;Tt(R&&W,t,"internal-error");const K=oo.fromJSON(this.name,W);Tt(typeof R=="string",t,"internal-error"),nr(r,t.name),nr(o,t.name),Tt(typeof O=="boolean",t,"internal-error"),Tt(typeof q=="boolean",t,"internal-error"),nr(u,t.name),nr(f,t.name),nr(g,t.name),nr(p,t.name),nr(_,t.name),nr(T,t.name);const it=new hi({uid:R,auth:t,email:o,emailVerified:O,displayName:r,isAnonymous:q,photoURL:f,phoneNumber:u,tenantId:g,stsTokenManager:K,createdAt:_,lastLoginAt:T});return Q&&Array.isArray(Q)&&(it.providerData=Q.map(st=>({...st}))),p&&(it._redirectEventId=p),it}static async _fromIdTokenResponse(t,n,r=!1){const o=new oo;o.updateFromServerResponse(n);const u=new hi({uid:n.localId,auth:t,stsTokenManager:o,isAnonymous:r});return await Wc(u),u}static async _fromGetAccountInfoResponse(t,n,r){const o=n.users[0];Tt(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?Wv(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),g=new oo;g.updateFromIdToken(r);const p=new hi({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new rm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f0=new Map;function ys(s){bs(s instanceof Function,"Expected a class definition");let t=f0.get(s);return t?(bs(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,f0.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}tb.type="NONE";const d0=tb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(s,t,n){return`firebase:${s}:${t}:${n}`}class lo{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:o,name:u}=this.auth;this.fullUserKey=zc(this.userKey,o.apiKey,u),this.fullPersistenceKey=zc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const n=await Jc(this.auth,{idToken:t}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new lo(ys(d0),t,r);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ys(d0);const f=zc(r,t.config.apiKey,t.name);let g=null;for(const _ of n)try{const T=await _._get(f);if(T){let R;if(typeof T=="string"){const O=await Jc(t,{idToken:T}).catch(()=>{});if(!O)break;R=await hi._fromGetAccountInfoResponse(t,O,T)}else R=hi._fromJSON(t,T);_!==u&&(g=R),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new lo(u,t,r):(u=p[0],g&&await u._set(f,g.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new lo(u,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m0(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(sb(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(eb(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ab(t))return"Blackberry";if(ob(t))return"Webos";if(nb(t))return"Safari";if((t.includes("chrome/")||ib(t))&&!t.includes("edge/"))return"Chrome";if(rb(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=s.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function eb(s=dn()){return/firefox\//i.test(s)}function nb(s=dn()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function ib(s=dn()){return/crios\//i.test(s)}function sb(s=dn()){return/iemobile/i.test(s)}function rb(s=dn()){return/android/i.test(s)}function ab(s=dn()){return/blackberry/i.test(s)}function ob(s=dn()){return/webos/i.test(s)}function km(s=dn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function TA(s=dn()){var t;return km(s)&&!!((t=window.navigator)!=null&&t.standalone)}function SA(){return jS()&&document.documentMode===10}function lb(s=dn()){return km(s)||rb(s)||ob(s)||ab(s)||/windows phone/i.test(s)||sb(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(s,t=[]){let n;switch(s){case"Browser":n=m0(dn());break;case"Worker":n=`${m0(dn())}-${s}`;break;default:n=s}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${oa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=u=>new Promise((f,g)=>{try{const p=t(u);f(p)}catch(p){g(p)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AA(s,t={}){return Eo(s,"GET","/v2/passwordPolicy",Mm(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xA=6;class RA{constructor(t){var r;const n=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??xA,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=t.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,n),this.validatePasswordCharacterOptions(t,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(t,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=t.length>=r),o&&(n.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<t.length;o++)r=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,n,r,o,u){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(t,n,r,o){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new wA(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Yv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=ys(n)),this._initializationPromise=this.queue(async()=>{var r,o,u;if(!this._deleted&&(this.persistenceManager=await lo.create(this,t),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((o=this._popupRedirectResolver)!=null&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)==null?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const n=await Jc(this,{idToken:t}),r=await hi._fromGetAccountInfoResponse(this,n,t);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var u;if(ci(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(g,g))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(u=this.redirectUser)==null?void 0:u._redirectEventId,g=r==null?void 0:r._redirectEventId,p=await this.tryRedirectSignIn(t);(!f||f===g)&&(p!=null&&p.user)&&(r=p.user,o=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(r)}catch(f){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await Wc(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=lA()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ci(this.app))return Promise.reject(Wr(this));const n=t?yn(t):null;return n&&Tt(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(Wr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ci(this.app)?Promise.reject(Wr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await AA(this),n=new RA(t);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}authStateReady(){return new Promise((t,n)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},n)}})}async revokeAccessToken(t){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EA(this,r)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)==null?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&ys(t)||this._popupRedirectResolver;Tt(n,this,"argument-error"),this.redirectPersistenceManager=await lo.create(this,[ys(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(g,this,"internal-error"),g.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=t.addObserver(n,r,o);return()=>{f=!0,p()}}else{const p=t.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ub(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var o;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((o=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:o.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var n;if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return t!=null&&t.error&&rA(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Um(s){return yn(s)}class g0{constructor(t){this.auth=t,this.observer=null,this.addObserver=GS(n=>this.observer=n)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IA(s){jm=s}function NA(s){return jm.loadJS(s)}function DA(){return jm.gapiScript}function OA(s){return`__${s}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(s,t){const n=gh(s,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,t??{}))return o;vs(o,"already-initialized")}return n.initialize({options:t})}function VA(s,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ys);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function kA(s,t,n){const r=Um(s);Tt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const o=!1,u=cb(t),{host:f,port:g}=UA(t),p=g===null?"":`:${g}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:g,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Tt(ea(_,r.config.emulator)&&ea(T,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=T,r.settings.appVerificationDisabledForTesting=!0,Tr(f)?(xm(`${u}//${f}${p}`),Rm("Auth",!0)):jA()}function cb(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function UA(s){const t=cb(s),n=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const u=o[1];return{host:u,port:p0(r.substr(u.length+1))}}else{const[u,f]=r.split(":");return{host:u,port:p0(f)}}}function p0(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function jA(){function s(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hb{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return ps("not implemented")}_getIdTokenResponse(t){return ps("not implemented")}_linkToIdToken(t,n){return ps("not implemented")}_getReauthenticationResolver(t){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uo(s,t){return fA(s,"POST","/v1/accounts:signInWithIdp",Mm(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LA="http://localhost";class ia extends hb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:o,...u}=n;if(!r||!o)return null;const f=new ia(r,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(t){const n=this.buildRequest();return uo(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,uo(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,uo(t,n)}buildRequest(){const t={requestUri:LA,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=$l(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl extends fb{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ir extends Jl{constructor(){super("facebook.com")}static credential(t){return ia._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ir.credential(t.oauthAccessToken)}catch{return null}}}ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ia._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return sr.credential(n,r)}catch{return null}}}sr.GOOGLE_SIGN_IN_METHOD="google.com";sr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rr extends Jl{constructor(){super("github.com")}static credential(t){return ia._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return rr.credential(t.oauthAccessToken)}catch{return null}}}rr.GITHUB_SIGN_IN_METHOD="github.com";rr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Jl{constructor(){super("twitter.com")}static credential(t,n){return ia._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return ar.credential(n,r)}catch{return null}}}ar.TWITTER_SIGN_IN_METHOD="twitter.com";ar.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,o=!1){const u=await hi._fromIdTokenResponse(t,r,o),f=y0(r);return new mo({user:u,providerId:f,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const o=y0(r);return new mo({user:t,providerId:o,_tokenResponse:r,operationType:n})}}function y0(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th extends Yi{constructor(t,n,r,o){super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,th.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,o){return new th(t,n,r,o)}}function db(s,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(s):n._getIdTokenResponse(s)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?th._fromErrorAndOperation(s,u,t,r):u})}async function PA(s,t,n=!1){const r=await zl(s,t._linkToIdToken(s.auth,await s.getIdToken()),n);return mo._forOperation(s,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zA(s,t,n=!1){const{auth:r}=s;if(ci(r.app))return Promise.reject(Wr(r));const o="reauthenticate";try{const u=await zl(s,db(r,o,t,s),n);Tt(u.idToken,r,"internal-error");const f=Vm(u.idToken);Tt(f,r,"internal-error");const{sub:g}=f;return Tt(s.uid===g,r,"user-mismatch"),mo._forOperation(s,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&vs(r,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BA(s,t,n=!1){if(ci(s.app))return Promise.reject(Wr(s));const r="signIn",o=await db(s,r,t),u=await mo._fromIdTokenResponse(s,r,o);return n||await s._updateCurrentUser(u.user),u}function qA(s,t,n,r){return yn(s).onIdTokenChanged(t,n,r)}function HA(s,t,n){return yn(s).beforeAuthStateChanged(t,n)}const eh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(eh,"1"),this.storage.removeItem(eh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=1e3,GA=10;class gb extends mb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lb(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&t(n,o,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((f,g,p)=>{this.notifyListeners(f,p)});return}const r=t.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(r);!n&&this.localCache[r]===f||this.notifyListeners(r,f)},u=this.storage.getItem(r);SA()&&u!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,GA):o()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},FA)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}gb.type="LOCAL";const QA=gb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb extends mb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}pb.type="SESSION";const yb=pb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(o=>o.isListeningto(t));if(n)return n;const r=new ph(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const g=Array.from(f).map(async _=>_(n.origin,u)),p=await KA(g);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:p})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ph.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(s="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return s+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((g,p)=>{const _=Lm("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},r);f={messageChannel:o,onMessage(R){const O=R;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),g(O.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:t,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zi(){return window}function XA(s){zi().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _b(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function $A(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ZA(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)==null?void 0:s.controller)||null}function JA(){return _b()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb="firebaseLocalStorageDb",WA=1,nh="firebaseLocalStorage",bb="fbase_key";class Wl{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yh(s,t){return s.transaction([nh],t?"readwrite":"readonly").objectStore(nh)}function t2(){const s=indexedDB.deleteDatabase(vb);return new Wl(s).toPromise()}function am(){const s=indexedDB.open(vb,WA);return new Promise((t,n)=>{s.addEventListener("error",()=>{n(s.error)}),s.addEventListener("upgradeneeded",()=>{const r=s.result;try{r.createObjectStore(nh,{keyPath:bb})}catch(o){n(o)}}),s.addEventListener("success",async()=>{const r=s.result;r.objectStoreNames.contains(nh)?t(r):(r.close(),await t2(),t(await am()))})})}async function _0(s,t,n){const r=yh(s,!0).put({[bb]:t,value:n});return new Wl(r).toPromise()}async function e2(s,t){const n=yh(s,!1).get(t),r=await new Wl(n).toPromise();return r===void 0?null:r.value}function v0(s,t){const n=yh(s,!0).delete(t);return new Wl(n).toPromise()}const n2=800,i2=3;class Eb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await am(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>i2)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _b()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ph._getInstance(JA()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await $A(),!this.activeServiceWorker)return;this.sender=new YA(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&(n=t[0])!=null&&n.fulfilled&&(r=t[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||ZA()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await am();return await _0(t,eh,"1"),await v0(t,eh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>_0(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>e2(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>v0(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const u=yh(o,!1).getAll();return new Wl(u).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(t.length!==0)for(const{fbase_key:o,value:u}of t)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),n2)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Eb.type="LOCAL";const s2=Eb;new Zl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(s,t){return t?ys(t):(Tt(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends hb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return uo(t,this._buildIdpRequest())}_linkToIdToken(t,n){return uo(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return uo(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function a2(s){return BA(s.auth,new Pm(s),s.bypassAuthState)}function o2(s){const{auth:t,user:n}=s;return Tt(n,t,"internal-error"),zA(n,new Pm(s),s.bypassAuthState)}async function l2(s){const{auth:t,user:n}=s;return Tt(n,t,"internal-error"),PA(n,new Pm(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(t,n,r,o,u=!1){this.auth=t,this.resolver=r,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:o,tenantId:u,error:f,type:g}=t;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:r,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(p))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return a2;case"linkViaPopup":case"linkViaRedirect":return l2;case"reauthViaPopup":case"reauthViaRedirect":return o2;default:vs(this.auth,"internal-error")}}resolve(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=new Zl(2e3,1e4);class ao extends Tb{constructor(t,n,r,o,u){super(t,n,o,u),this.provider=r,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const t=Lm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)==null?void 0:t.associatedEvent)||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,u2.get())};t()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="pendingRedirect",Bc=new Map;class h2 extends Tb{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const r=await f2(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function f2(s,t){const n=g2(t),r=m2(s);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function d2(s,t){Bc.set(s._key(),t)}function m2(s){return ys(s._redirectPersistence)}function g2(s){return zc(c2,s.config.apiKey,s.name)}async function p2(s,t,n=!1){if(ci(s.app))return Promise.reject(Wr(s));const r=Um(s),o=r2(r,t),f=await new h2(r,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await r._persistUserIfCurrent(f.user),await r._setRedirectUser(null,t)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=600*1e3;class _2{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!v2(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Sb(t)){const o=((r=t.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Pi(this.auth,o))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=y2&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(t))}saveEventToCache(t){this.cachedEventUids.add(b0(t)),this.lastProcessedEventTime=Date.now()}}function b0(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function Sb({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function v2(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Sb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b2(s,t={}){return Eo(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,T2=/^https?/;async function S2(s){if(s.config.emulator)return;const{authorizedDomains:t}=await b2(s);for(const n of t)try{if(w2(n))return}catch{}vs(s,"unauthorized-domain")}function w2(s){const t=sm(),{protocol:n,hostname:r}=new URL(t);if(s.startsWith("chrome-extension://")){const f=new URL(s);return f.hostname===""&&r===""?n==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===r}if(!T2.test(n))return!1;if(E2.test(s))return r===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2=new Zl(3e4,6e4);function E0(){const s=zi().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let n=0;n<s.CP.length;n++)s.CP[n]=null}}function x2(s){return new Promise((t,n)=>{var o,u,f;function r(){E0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{E0(),n(Pi(s,"network-request-failed"))},timeout:A2.get()})}if((u=(o=zi().gapi)==null?void 0:o.iframes)!=null&&u.Iframe)t(gapi.iframes.getContext());else if((f=zi().gapi)!=null&&f.load)r();else{const g=OA("iframefcb");return zi()[g]=()=>{gapi.load?r():n(Pi(s,"network-request-failed"))},NA(`${DA()}?onload=${g}`).catch(p=>n(p))}}).catch(t=>{throw qc=null,t})}let qc=null;function R2(s){return qc=qc||x2(s),qc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2=new Zl(5e3,15e3),I2="__/auth/iframe",N2="emulator/auth/iframe",D2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function M2(s){const t=s.config;Tt(t.authDomain,s,"auth-domain-config-required");const n=t.emulator?Om(t,N2):`https://${s.config.authDomain}/${I2}`,r={apiKey:t.apiKey,appName:s.name,v:oa},o=O2.get(s.config.apiHost);o&&(r.eid=o);const u=s._getFrameworks();return u.length&&(r.fw=u.join(",")),`${n}?${$l(r).slice(1)}`}async function V2(s){const t=await R2(s),n=zi().gapi;return Tt(n,s,"internal-error"),t.open({where:document.body,url:M2(s),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:D2,dontclear:!0},r=>new Promise(async(o,u)=>{await r.restyle({setHideOnLeave:!1});const f=Pi(s,"network-request-failed"),g=zi().setTimeout(()=>{u(f)},C2.get());function p(){zi().clearTimeout(g),o(r)}r.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},U2=500,j2=600,L2="_blank",P2="http://localhost";class T0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function z2(s,t,n,r=U2,o=j2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const p={...k2,width:r.toString(),height:o.toString(),top:u,left:f},_=dn().toLowerCase();n&&(g=ib(_)?L2:n),eb(_)&&(t=t||P2,p.scrollbars="yes");const T=Object.entries(p).reduce((O,[q,Q])=>`${O}${q}=${Q},`,"");if(TA(_)&&g!=="_self")return B2(t||"",g),new T0(null);const R=window.open(t||"",g,T);Tt(R,s,"popup-blocked");try{R.focus()}catch{}return new T0(R)}function B2(s,t){const n=document.createElement("a");n.href=s,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2="__/auth/handler",H2="emulator/auth/handler",F2=encodeURIComponent("fac");async function S0(s,t,n,r,o,u){Tt(s.config.authDomain,s,"auth-domain-config-required"),Tt(s.config.apiKey,s,"invalid-api-key");const f={apiKey:s.config.apiKey,appName:s.name,authType:n,redirectUrl:r,v:oa,eventId:o};if(t instanceof fb){t.setDefaultLanguage(s.languageCode),f.providerId=t.providerId||"",FS(t.getCustomParameters())||(f.customParameters=JSON.stringify(t.getCustomParameters()));for(const[T,R]of Object.entries({}))f[T]=R}if(t instanceof Jl){const T=t.getScopes().filter(R=>R!=="");T.length>0&&(f.scopes=T.join(","))}s.tenantId&&(f.tid=s.tenantId);const g=f;for(const T of Object.keys(g))g[T]===void 0&&delete g[T];const p=await s._getAppCheckToken(),_=p?`#${F2}=${encodeURIComponent(p)}`:"";return`${G2(s)}?${$l(g).slice(1)}${_}`}function G2({config:s}){return s.emulator?Om(s,H2):`https://${s.authDomain}/${q2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="webStorageSupport";class Q2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yb,this._completeRedirectFn=p2,this._overrideRedirectResult=d2}async _openPopup(t,n,r,o){var f;bs((f=this.eventManagers[t._key()])==null?void 0:f.manager,"_initialize() not called before _openPopup()");const u=await S0(t,n,r,sm(),o);return z2(t,u,Lm())}async _openRedirect(t,n,r,o){await this._originValidation(t);const u=await S0(t,n,r,sm(),o);return XA(u),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(bs(u,"If manager is not set, promise should be"),u)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await V2(t),r=new _2(t);return n.register("authEvent",o=>(Tt(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(qd,{type:qd},o=>{var f;const u=(f=o==null?void 0:o[0])==null?void 0:f[qd];u!==void 0&&n(!!u),vs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=S2(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return lb()||nb()||km()}}const K2=Q2;var w0="@firebase/auth",A0="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)==null?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X2(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $2(s){na(new gr("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),u=t.getProvider("app-check-internal"),{apiKey:f,authDomain:g}=r.options;Tt(f&&!f.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:f,authDomain:g,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ub(s)},_=new CA(r,o,u,p);return VA(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),na(new gr("auth-internal",t=>{const n=Um(t.getProvider("auth").getImmediate());return(r=>new Y2(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Li(w0,A0,X2(s)),Li(w0,A0,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=300,J2=zv("authIdTokenMaxAge")||Z2;let x0=null;const W2=s=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>J2)return;const o=n==null?void 0:n.token;x0!==o&&(x0=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function tx(s=Nm()){const t=gh(s,"auth");if(t.isInitialized())return t.getImmediate();const n=MA(s,{popupRedirectResolver:K2,persistence:[s2,QA,yb]}),r=zv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(r,location.origin);if(location.origin===u.origin){const f=W2(u.toString());HA(n,f,()=>f(n.currentUser)),qA(n,g=>f(g))}}const o=jv("auth");return o&&kA(n,`http://${o}`),n}function ex(){var s;return((s=document.getElementsByTagName("head"))==null?void 0:s[0])??document}IA({loadJS(s){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",s),r.onload=t,r.onerror=o=>{const u=Pi("internal-error");u.customData=o,n(u)},r.type="text/javascript",r.charset="UTF-8",ex().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$2("Browser");var R0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hr,wb;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(x,w){function C(){}C.prototype=w.prototype,x.F=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(A,N,M){for(var I=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)I[bt-2]=arguments[bt];return w.prototype[N].apply(A,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(x,w,C){C||(C=0);const A=Array(16);if(typeof w=="string")for(var N=0;N<16;++N)A[N]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(N=0;N<16;++N)A[N]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],N=x.g[2];let M=x.g[3],I;I=w+(M^C&(N^M))+A[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=M+(N^w&(C^N))+A[1]+3905402710&4294967295,M=w+(I<<12&4294967295|I>>>20),I=N+(C^M&(w^C))+A[2]+606105819&4294967295,N=M+(I<<17&4294967295|I>>>15),I=C+(w^N&(M^w))+A[3]+3250441966&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(M^C&(N^M))+A[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=M+(N^w&(C^N))+A[5]+1200080426&4294967295,M=w+(I<<12&4294967295|I>>>20),I=N+(C^M&(w^C))+A[6]+2821735955&4294967295,N=M+(I<<17&4294967295|I>>>15),I=C+(w^N&(M^w))+A[7]+4249261313&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(M^C&(N^M))+A[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=M+(N^w&(C^N))+A[9]+2336552879&4294967295,M=w+(I<<12&4294967295|I>>>20),I=N+(C^M&(w^C))+A[10]+4294925233&4294967295,N=M+(I<<17&4294967295|I>>>15),I=C+(w^N&(M^w))+A[11]+2304563134&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(M^C&(N^M))+A[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=M+(N^w&(C^N))+A[13]+4254626195&4294967295,M=w+(I<<12&4294967295|I>>>20),I=N+(C^M&(w^C))+A[14]+2792965006&4294967295,N=M+(I<<17&4294967295|I>>>15),I=C+(w^N&(M^w))+A[15]+1236535329&4294967295,C=N+(I<<22&4294967295|I>>>10),I=w+(N^M&(C^N))+A[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=M+(C^N&(w^C))+A[6]+3225465664&4294967295,M=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(M^w))+A[11]+643717713&4294967295,N=M+(I<<14&4294967295|I>>>18),I=C+(M^w&(N^M))+A[0]+3921069994&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(N^M&(C^N))+A[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=M+(C^N&(w^C))+A[10]+38016083&4294967295,M=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(M^w))+A[15]+3634488961&4294967295,N=M+(I<<14&4294967295|I>>>18),I=C+(M^w&(N^M))+A[4]+3889429448&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(N^M&(C^N))+A[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=M+(C^N&(w^C))+A[14]+3275163606&4294967295,M=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(M^w))+A[3]+4107603335&4294967295,N=M+(I<<14&4294967295|I>>>18),I=C+(M^w&(N^M))+A[8]+1163531501&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(N^M&(C^N))+A[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=M+(C^N&(w^C))+A[2]+4243563512&4294967295,M=w+(I<<9&4294967295|I>>>23),I=N+(w^C&(M^w))+A[7]+1735328473&4294967295,N=M+(I<<14&4294967295|I>>>18),I=C+(M^w&(N^M))+A[12]+2368359562&4294967295,C=N+(I<<20&4294967295|I>>>12),I=w+(C^N^M)+A[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=M+(w^C^N)+A[8]+2272392833&4294967295,M=w+(I<<11&4294967295|I>>>21),I=N+(M^w^C)+A[11]+1839030562&4294967295,N=M+(I<<16&4294967295|I>>>16),I=C+(N^M^w)+A[14]+4259657740&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(C^N^M)+A[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=M+(w^C^N)+A[4]+1272893353&4294967295,M=w+(I<<11&4294967295|I>>>21),I=N+(M^w^C)+A[7]+4139469664&4294967295,N=M+(I<<16&4294967295|I>>>16),I=C+(N^M^w)+A[10]+3200236656&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(C^N^M)+A[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=M+(w^C^N)+A[0]+3936430074&4294967295,M=w+(I<<11&4294967295|I>>>21),I=N+(M^w^C)+A[3]+3572445317&4294967295,N=M+(I<<16&4294967295|I>>>16),I=C+(N^M^w)+A[6]+76029189&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(C^N^M)+A[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=M+(w^C^N)+A[12]+3873151461&4294967295,M=w+(I<<11&4294967295|I>>>21),I=N+(M^w^C)+A[15]+530742520&4294967295,N=M+(I<<16&4294967295|I>>>16),I=C+(N^M^w)+A[2]+3299628645&4294967295,C=N+(I<<23&4294967295|I>>>9),I=w+(N^(C|~M))+A[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=M+(C^(w|~N))+A[7]+1126891415&4294967295,M=w+(I<<10&4294967295|I>>>22),I=N+(w^(M|~C))+A[14]+2878612391&4294967295,N=M+(I<<15&4294967295|I>>>17),I=C+(M^(N|~w))+A[5]+4237533241&4294967295,C=N+(I<<21&4294967295|I>>>11),I=w+(N^(C|~M))+A[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=M+(C^(w|~N))+A[3]+2399980690&4294967295,M=w+(I<<10&4294967295|I>>>22),I=N+(w^(M|~C))+A[10]+4293915773&4294967295,N=M+(I<<15&4294967295|I>>>17),I=C+(M^(N|~w))+A[1]+2240044497&4294967295,C=N+(I<<21&4294967295|I>>>11),I=w+(N^(C|~M))+A[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=M+(C^(w|~N))+A[15]+4264355552&4294967295,M=w+(I<<10&4294967295|I>>>22),I=N+(w^(M|~C))+A[6]+2734768916&4294967295,N=M+(I<<15&4294967295|I>>>17),I=C+(M^(N|~w))+A[13]+1309151649&4294967295,C=N+(I<<21&4294967295|I>>>11),I=w+(N^(C|~M))+A[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=M+(C^(w|~N))+A[11]+3174756917&4294967295,M=w+(I<<10&4294967295|I>>>22),I=N+(w^(M|~C))+A[2]+718787259&4294967295,N=M+(I<<15&4294967295|I>>>17),I=C+(M^(N|~w))+A[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(N+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+N&4294967295,x.g[3]=x.g[3]+M&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const C=w-this.blockSize,A=this.C;let N=this.h,M=0;for(;M<w;){if(N==0)for(;M<=C;)o(this,x,M),M+=this.blockSize;if(typeof x=="string"){for(;M<w;)if(A[N++]=x.charCodeAt(M++),N==this.blockSize){o(this,A),N=0;break}}else for(;M<w;)if(A[N++]=x[M++],N==this.blockSize){o(this,A),N=0;break}}this.h=N,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,C=0;C<4;++C)for(let A=0;A<32;A+=8)x[w++]=this.g[C]>>>A&255;return x};function u(x,w){var C=g;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function f(x,w){this.h=w;const C=[];let A=!0;for(let N=x.length-1;N>=0;N--){const M=x[N]|0;A&&M==w||(C[N]=M,A=!1)}this.g=C}var g={};function p(x){return-128<=x&&x<128?u(x,function(w){return new f([w|0],w<0?-1:0)}):new f([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return R;if(x<0)return K(_(-x));const w=[];let C=1;for(let A=0;x>=C;A++)w[A]=x/C|0,C*=4294967296;return new f(w,0)}function T(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return K(T(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let A=R;for(let M=0;M<x.length;M+=8){var N=Math.min(8,x.length-M);const I=parseInt(x.substring(M,M+N),w);N<8?(N=_(Math.pow(w,N)),A=A.j(N).add(_(I))):(A=A.j(C),A=A.add(_(I)))}return A}var R=p(0),O=p(1),q=p(16777216);s=f.prototype,s.m=function(){if(W(this))return-K(this).m();let x=0,w=1;for(let C=0;C<this.g.length;C++){const A=this.i(C);x+=(A>=0?A:4294967296+A)*w,w*=4294967296}return x},s.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Q(this))return"0";if(W(this))return"-"+K(this).toString(x);const w=_(Math.pow(x,6));var C=this;let A="";for(;;){const N=nt(C,w).g;C=it(C,N.j(w));let M=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=N,Q(C))return M+A;for(;M.length<6;)M="0"+M;A=M+A}},s.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Q(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function W(x){return x.h==-1}s.l=function(x){return x=it(this,x),W(x)?-1:Q(x)?0:1};function K(x){const w=x.g.length,C=[];for(let A=0;A<w;A++)C[A]=~x.g[A];return new f(C,~x.h).add(O)}s.abs=function(){return W(this)?K(this):this},s.add=function(x){const w=Math.max(this.g.length,x.g.length),C=[];let A=0;for(let N=0;N<=w;N++){let M=A+(this.i(N)&65535)+(x.i(N)&65535),I=(M>>>16)+(this.i(N)>>>16)+(x.i(N)>>>16);A=I>>>16,M&=65535,I&=65535,C[N]=I<<16|M}return new f(C,C[C.length-1]&-2147483648?-1:0)};function it(x,w){return x.add(K(w))}s.j=function(x){if(Q(this)||Q(x))return R;if(W(this))return W(x)?K(this).j(K(x)):K(K(this).j(x));if(W(x))return K(this.j(K(x)));if(this.l(q)<0&&x.l(q)<0)return _(this.m()*x.m());const w=this.g.length+x.g.length,C=[];for(var A=0;A<2*w;A++)C[A]=0;for(A=0;A<this.g.length;A++)for(let N=0;N<x.g.length;N++){const M=this.i(A)>>>16,I=this.i(A)&65535,bt=x.i(N)>>>16,Gt=x.i(N)&65535;C[2*A+2*N]+=I*Gt,st(C,2*A+2*N),C[2*A+2*N+1]+=M*Gt,st(C,2*A+2*N+1),C[2*A+2*N+1]+=I*bt,st(C,2*A+2*N+1),C[2*A+2*N+2]+=M*bt,st(C,2*A+2*N+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new f(C,0)};function st(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function et(x,w){this.g=x,this.h=w}function nt(x,w){if(Q(w))throw Error("division by zero");if(Q(x))return new et(R,R);if(W(x))return w=nt(K(x),w),new et(K(w.g),K(w.h));if(W(w))return w=nt(x,K(w)),new et(K(w.g),w.h);if(x.g.length>30){if(W(x)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var C=O,A=w;A.l(x)<=0;)C=ut(C),A=ut(A);var N=z(C,1),M=z(A,1);for(A=z(A,2),C=z(C,2);!Q(A);){var I=M.add(A);I.l(x)<=0&&(N=N.add(C),M=I),A=z(A,1),C=z(C,1)}return w=it(x,N.j(w)),new et(N,w)}for(N=R;x.l(w)>=0;){for(C=Math.max(1,Math.floor(x.m()/w.m())),A=Math.ceil(Math.log(C)/Math.LN2),A=A<=48?1:Math.pow(2,A-48),M=_(C),I=M.j(w);W(I)||I.l(x)>0;)C-=A,M=_(C),I=M.j(w);Q(M)&&(M=O),N=N.add(M),x=it(x,I)}return new et(N,x)}s.B=function(x){return nt(this,x).h},s.and=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let A=0;A<w;A++)C[A]=this.i(A)&x.i(A);return new f(C,this.h&x.h)},s.or=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let A=0;A<w;A++)C[A]=this.i(A)|x.i(A);return new f(C,this.h|x.h)},s.xor=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let A=0;A<w;A++)C[A]=this.i(A)^x.i(A);return new f(C,this.h^x.h)};function ut(x){const w=x.g.length+1,C=[];for(let A=0;A<w;A++)C[A]=x.i(A)<<1|x.i(A-1)>>>31;return new f(C,x.h)}function z(x,w){const C=w>>5;w%=32;const A=x.g.length-C,N=[];for(let M=0;M<A;M++)N[M]=w>0?x.i(M+C)>>>w|x.i(M+C+1)<<32-w:x.i(M+C);return new f(N,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,wb=r,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,hr=f}).apply(typeof R0<"u"?R0:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ab,Cl,xb,Hc,om,Rb,Cb,Ib;(function(){var s,t=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var m=0;m<c.length;++m){var v=c[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=n(this);function o(c,m){if(m)t:{var v=r;c=c.split(".");for(var S=0;S<c.length-1;S++){var j=c[S];if(!(j in v))break t;v=v[j]}c=c[c.length-1],S=v[c],m=m(S),m!=S&&m!=null&&t(v,c,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(m){var v=[],S;for(S in m)Object.prototype.hasOwnProperty.call(m,S)&&v.push([S,m[S]]);return v}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function g(c){var m=typeof c;return m=="object"&&c!=null||m=="function"}function p(c,m,v){return c.call.apply(c.bind,arguments)}function _(c,m,v){return _=p,_.apply(null,arguments)}function T(c,m){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function R(c,m){function v(){}v.prototype=m.prototype,c.Z=m.prototype,c.prototype=new v,c.prototype.constructor=c,c.Ob=function(S,j,H){for(var at=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)at[Ct-2]=arguments[Ct];return m.prototype[j].apply(S,at)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function q(c){const m=c.length;if(m>0){const v=Array(m);for(let S=0;S<m;S++)v[S]=c[S];return v}return[]}function Q(c,m){for(let S=1;S<arguments.length;S++){const j=arguments[S];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=c.length||0;const H=j.length||0;c.length=v+H;for(let at=0;at<H;at++)c[v+at]=j[at]}else c.push(j)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function K(c){f.setTimeout(()=>{throw c},0)}function it(){var c=x;let m=null;return c.g&&(m=c.g,c.g=c.g.next,c.g||(c.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const S=et.get();S.set(m,v),this.h?this.h.next=S:this.g=S,this.h=S}}var et=new W(()=>new nt,c=>c.reset());class nt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ut,z=!1,x=new st,w=()=>{const c=Promise.resolve(void 0);ut=()=>{c.then(C)}};function C(){for(var c;c=it();){try{c.h.call(c.g)}catch(v){K(v)}var m=et;m.j(c),m.h<100&&(m.h++,c.next=m.g,m.g=c)}z=!1}function A(){this.u=this.u,this.C=this.C}A.prototype.u=!1,A.prototype.dispose=function(){this.u||(this.u=!0,this.N())},A.prototype[Symbol.dispose]=function(){this.dispose()},A.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(c,m){this.type=c,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,m=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return c})();function I(c){return/^[\s\xa0]*$/.test(c)}function bt(c,m){N.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,m)}R(bt,N),bt.prototype.init=function(c,m){const v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=m,m=c.relatedTarget,m||(v=="mouseover"?m=c.fromElement:v=="mouseout"&&(m=c.toElement)),this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&bt.Z.h.call(this)},bt.prototype.h=function(){bt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Gt="closure_listenable_"+(Math.random()*1e6|0),G=0;function rt(c,m,v,S,j){this.listener=c,this.proxy=null,this.src=m,this.type=v,this.capture=!!S,this.ha=j,this.key=++G,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wt(c,m,v){for(const S in c)m.call(v,c[S],S,c)}function Dt(c,m){for(const v in c)m.call(void 0,c[v],v,c)}function k(c){const m={};for(const v in c)m[v]=c[v];return m}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ot(c,m){let v,S;for(let j=1;j<arguments.length;j++){S=arguments[j];for(v in S)c[v]=S[v];for(let H=0;H<$.length;H++)v=$[H],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function ct(c){this.src=c,this.g={},this.h=0}ct.prototype.add=function(c,m,v,S,j){const H=c.toString();c=this.g[H],c||(c=this.g[H]=[],this.h++);const at=Rt(c,m,S,j);return at>-1?(m=c[at],v||(m.fa=!1)):(m=new rt(m,this.src,H,!!S,j),m.fa=v,c.push(m)),m};function Et(c,m){const v=m.type;if(v in c.g){var S=c.g[v],j=Array.prototype.indexOf.call(S,m,void 0),H;(H=j>=0)&&Array.prototype.splice.call(S,j,1),H&&(lt(m),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Rt(c,m,v,S){for(let j=0;j<c.length;++j){const H=c[j];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==S)return j}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),xe={};function he(c,m,v,S,j){if(Array.isArray(m)){for(let H=0;H<m.length;H++)he(c,m[H],v,S,j);return null}return v=Jt(v),c&&c[Gt]?c.J(m,v,g(S)?!!S.capture:!1,j):Xi(c,m,v,!1,S,j)}function Xi(c,m,v,S,j,H){if(!m)throw Error("Invalid event type");const at=g(j)?!!j.capture:!!j;let Ct=te(c);if(Ct||(c[kt]=Ct=new ct(c)),v=Ct.add(m,v,S,at,H),v.proxy)return v;if(S=Ss(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)M||(j=at),j===void 0&&(j=!1),c.addEventListener(m.toString(),S,j);else if(c.attachEvent)c.attachEvent(se(m.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ss(){function c(v){return m.call(c.src,c.listener,v)}const m=fe;return c}function Ut(c,m,v,S,j){if(Array.isArray(m))for(var H=0;H<m.length;H++)Ut(c,m[H],v,S,j);else S=g(S)?!!S.capture:!!S,v=Jt(v),c&&c[Gt]?(c=c.i,H=String(m).toString(),H in c.g&&(m=c.g[H],v=Rt(m,v,S,j),v>-1&&(lt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete c.g[H],c.h--)))):c&&(c=te(c))&&(m=c.g[m.toString()],c=-1,m&&(c=Rt(m,v,S,j)),(v=c>-1?m[c]:null)&&Ot(v))}function Ot(c){if(typeof c!="number"&&c&&!c.da){var m=c.src;if(m&&m[Gt])Et(m.i,c);else{var v=c.type,S=c.proxy;m.removeEventListener?m.removeEventListener(v,S,c.capture):m.detachEvent?m.detachEvent(se(v),S):m.addListener&&m.removeListener&&m.removeListener(S),(v=te(m))?(Et(v,c),v.h==0&&(v.src=null,m[kt]=null)):lt(c)}}}function se(c){return c in xe?xe[c]:xe[c]="on"+c}function fe(c,m){if(c.da)c=!0;else{m=new bt(m,this);const v=c.listener,S=c.ha||c.src;c.fa&&Ot(c),c=v.call(S,m)}return c}function te(c){return c=c[kt],c instanceof ct?c:null}var de="__closure_events_fn_"+(Math.random()*1e9>>>0);function Jt(c){return typeof c=="function"?c:(c[de]||(c[de]=function(m){return c.handleEvent(m)}),c[de])}function Qt(){A.call(this),this.i=new ct(this),this.M=this,this.G=null}R(Qt,A),Qt.prototype[Gt]=!0,Qt.prototype.removeEventListener=function(c,m,v,S){Ut(this,c,m,v,S)};function Ht(c,m){var v,S=c.G;if(S)for(v=[];S;S=S.G)v.push(S);if(c=c.M,S=m.type||m,typeof m=="string")m=new N(m,c);else if(m instanceof N)m.target=m.target||c;else{var j=m;m=new N(S,c),ot(m,j)}j=!0;let H,at;if(v)for(at=v.length-1;at>=0;at--)H=m.g=v[at],j=Xt(H,S,!0,m)&&j;if(H=m.g=c,j=Xt(H,S,!0,m)&&j,j=Xt(H,S,!1,m)&&j,v)for(at=0;at<v.length;at++)H=m.g=v[at],j=Xt(H,S,!1,m)&&j}Qt.prototype.N=function(){if(Qt.Z.N.call(this),this.i){var c=this.i;for(const m in c.g){const v=c.g[m];for(let S=0;S<v.length;S++)lt(v[S]);delete c.g[m],c.h--}}this.G=null},Qt.prototype.J=function(c,m,v,S){return this.i.add(String(c),m,!1,v,S)},Qt.prototype.K=function(c,m,v,S){return this.i.add(String(c),m,!0,v,S)};function Xt(c,m,v,S){if(m=c.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let H=0;H<m.length;++H){const at=m[H];if(at&&!at.da&&at.capture==v){const Ct=at.listener,Ce=at.ha||at.src;at.fa&&Et(c.i,at),j=Ct.call(Ce,S)!==!1&&j}}return j&&!S.defaultPrevented}function qe(c,m){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:f.setTimeout(c,m||0)}function $i(c){c.g=qe(()=>{c.g=null,c.i&&(c.i=!1,$i(c))},c.l);const m=c.h;c.h=null,c.m.apply(null,m)}class ln extends A{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$i(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function be(c){A.call(this),this.h=c,this.g={}}R(be,A);var Ze=[];function Rn(c){wt(c.g,function(m,v){this.g.hasOwnProperty(v)&&Ot(m)},c),c.g={}}be.prototype.N=function(){be.Z.N.call(this),Rn(this)},be.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qe=f.JSON.stringify,di=f.JSON.parse,fa=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function da(){}function ma(){}var Cn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Re(){N.call(this,"d")}R(Re,N);function _n(){N.call(this,"c")}R(_n,N);var ue={},mi=null;function ws(){return mi=mi||new Qt}ue.Ia="serverreachability";function ga(c){N.call(this,ue.Ia,c)}R(ga,N);function gi(c){const m=ws();Ht(m,new ga(m))}ue.STAT_EVENT="statevent";function Sr(c,m){N.call(this,ue.STAT_EVENT,c),this.stat=m}R(Sr,N);function Oe(c){const m=ws();Ht(m,new Sr(m,c))}ue.Ja="timingevent";function pi(c,m){N.call(this,ue.Ja,c),this.size=m}R(pi,N);function yi(c,m){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Mh(c,m,v,S,j,H){c.info(function(){if(c.g)if(H){var at="",Ct=H.split("&");for(let $t=0;$t<Ct.length;$t++){var Ce=Ct[$t].split("=");if(Ce.length>1){const _e=Ce[0];Ce=Ce[1];const qn=_e.split("_");at=qn.length>=2&&qn[1]=="type"?at+(_e+"="+Ce+"&"):at+(_e+"=redacted&")}}}else at=null;else at=H;return"XMLHTTP REQ ("+S+") [attempt "+j+"]: "+m+`
`+v+`
`+at})}function ru(c,m,v,S,j,H,at){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+j+"]: "+m+`
`+v+`
`+H+" "+at})}function _i(c,m,v,S){c.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(c,v)+(S?" "+S:"")})}function wr(c,m){c.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function Vh(c,m){if(!c.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(c=0;c<H.length;c++)if(Array.isArray(H[c])){var v=H[c];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var j=S[0];if(j!="noop"&&j!="stop"&&j!="close")for(let at=1;at<S.length;at++)S[at]=""}}}}return Qe(H)}catch{return m}}var Ar={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function xr(){}R(xr,da),xr.prototype.g=function(){return new XMLHttpRequest},Ro=new xr;function Zi(c){return encodeURIComponent(String(c))}function au(c){var m=1;c=c.split(":");const v=[];for(;m>0&&c.length;)v.push(c.shift()),m--;return c.length&&v.push(c.join(":")),v}function ti(c,m,v,S){this.j=c,this.i=m,this.l=v,this.S=S||1,this.V=new be(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Me={},Ke={};function vi(c,m,v){c.M=1,c.A=Rr(ke(m)),c.u=v,c.R=!0,pa(c,null)}function pa(c,m){c.F=Date.now(),bi(c),c.B=ke(c.A);var v=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),ba(v.i,"t",S),c.C=0,v=c.j.L,c.h=new ei,c.g=Eu(c.j,v?m:null,!c.u),c.P>0&&(c.O=new ln(_(c.Y,c,c.g),c.P)),m=c.V,v=c.g,S=c.ba;var j="readystatechange";Array.isArray(j)||(j&&(Ze[0]=j.toString()),j=Ze);for(let H=0;H<j.length;H++){const at=he(v,j[H],S||m.handleEvent,!1,m.h||m);if(!at)break;m.g[at.key]=at}m=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,m)):(c.v="GET",c.g.ea(c.B,c.v,null,m)),gi(),Mh(c.i,c.v,c.B,c.l,c.S,c.u)}ti.prototype.ba=function(c){c=c.target;const m=this.O;m&&si(c)==3?m.j():this.Y(c)},ti.prototype.Y=function(c){try{if(c==this.g)t:{const Ct=si(this.g),Ce=this.g.ya(),$t=this.g.ca();if(!(Ct<3)&&(Ct!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||Ct!=4||Ce==7||(Ce==8||$t<=0?gi(3):gi(2)),Ei(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,Ct,m),this.o){if(this.U&&!this.L){e:{if(this.g){var S,j=this.g;if((S=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(S)){var H=S;break e}}H=null}if(c=H)_i(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ti(this,c);else{this.o=!1,this.m=3,Oe(12),In(this),Pn(this);break t}}if(this.R){c=!0;let _e;for(;!this.K&&this.C<v.length;)if(_e=lu(this,v),_e==Ke){Ct==4&&(this.m=4,Oe(14),c=!1),_i(this.i,this.l,null,"[Incomplete Response]");break}else if(_e==Me){this.m=4,Oe(15),_i(this.i,this.l,v,"[Invalid Chunk]"),c=!1;break}else _i(this.i,this.l,_e,null),Ti(this,_e);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||v.length!=0||this.h.h||(this.m=1,Oe(16),c=!1),this.o=this.o&&c,!c)_i(this.i,this.l,v,"[Invalid Chunked Response]"),In(this),Pn(this);else if(v.length>0&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.aa&&!at.P&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(at),at.P=!0,Oe(11))}}else _i(this.i,this.l,v,null),Ti(this,v);Ct==4&&In(this),this.o&&!this.K&&(Ct==4?yu(this.j,this):(this.o=!1,bi(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Oe(12)):(this.m=0,Oe(13)),In(this),Pn(this)}}}catch{}finally{}};function kh(c){if(!ou(c))return c.g.la();const m=Je(c.g);if(m==="")return"";let v="";const S=m.length,j=si(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return In(c),Pn(c),"";c.h.i=new f.TextDecoder}for(let H=0;H<S;H++)c.h.h=!0,v+=c.h.i.decode(m[H],{stream:!(j&&H==S-1)});return m.length=0,c.h.g+=v,c.C=0,c.h.g}function ou(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function lu(c,m){var v=c.C,S=m.indexOf(`
`,v);return S==-1?Ke:(v=Number(m.substring(v,S)),isNaN(v)?Me:(S+=1,S+v>m.length?Ke:(m=m.slice(S,S+v),c.C=S+v,m)))}ti.prototype.cancel=function(){this.K=!0,In(this)};function bi(c){c.T=Date.now()+c.H,ya(c,c.H)}function ya(c,m){if(c.D!=null)throw Error("WatchDog timer not null");c.D=yi(_(c.aa,c),m)}function Ei(c){c.D&&(f.clearTimeout(c.D),c.D=null)}ti.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(wr(this.i,this.B),this.M!=2&&(gi(),Oe(17)),In(this),this.m=2,Pn(this)):ya(this,this.T-c)};function Pn(c){c.j.I==0||c.K||yu(c.j,c)}function In(c){Ei(c);var m=c.O;m&&typeof m.dispose=="function"&&m.dispose(),c.O=null,Rn(c.V),c.g&&(m=c.g,c.g=null,m.abort(),m.dispose())}function Ti(c,m){try{var v=c.j;if(v.I!=0&&(v.g==c||wi(v.h,c))){if(!c.L&&wi(v.h,c)&&v.I==3){try{var S=v.Ba.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var j=S;if(j[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<c.F)Aa(v),Os(v);else break t;Vr(v),Oe(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=yi(_(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Ni(v,11)}else if((c.L||v.g==c)&&Aa(v),!I(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let $t=j[m];const _e=$t[0];if(!(_e<=v.K))if(v.K=_e,$t=$t[1],v.I==2)if($t[0]=="c"){v.M=$t[1],v.ba=$t[2];const qn=$t[3];qn!=null&&(v.ka=qn,v.j.info("VER="+v.ka));const Di=$t[4];Di!=null&&(v.za=Di,v.j.info("SVER="+v.za));const ri=$t[5];ri!=null&&typeof ri=="number"&&ri>0&&(S=1.5*ri,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const ai=c.g;if(ai){const kr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var H=S.h;H.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(No(H,H.h),H.h=null))}if(S.G){const xa=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;xa&&(S.wa=xa,ee(S.J,S.G,xa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-c.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var at=c;if(S.na=bu(S,S.L?S.ba:null,S.W),at.L){Do(S.h,at);var Ct=at,Ce=S.O;Ce&&(Ct.H=Ce),Ct.D&&(Ei(Ct),bi(Ct)),S.g=at}else gu(S);v.i.length>0&&Ii(v)}else $t[0]!="stop"&&$t[0]!="close"||Ni(v,7);else v.I==3&&($t[0]=="stop"||$t[0]=="close"?$t[0]=="stop"?Ni(v,7):zo(v):$t[0]!="noop"&&v.l&&v.l.qa($t),v.A=0)}}gi(4)}catch{}}var Ve=class{constructor(c,m){this.g=c,this.map=m}};function Co(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Si(c){return c.h?1:c.g?c.g.size:0}function wi(c,m){return c.h?c.h==m:c.g?c.g.has(m):!1}function No(c,m){c.g?c.g.add(m):c.h=m}function Do(c,m){c.h&&c.h==m?c.h=null:c.g&&c.g.has(m)&&c.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let m=c.i;for(const v of c.g.values())m=m.concat(v.G);return m}return q(c.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(c,m){if(c){c=c.split("&");for(let v=0;v<c.length;v++){const S=c[v].indexOf("=");let j,H=null;S>=0?(j=c[v].substring(0,S),H=c[v].substring(S+1)):j=c[v],m(j,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Nn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;c instanceof Nn?(this.l=c.l,Ye(this,c.j),this.o=c.o,this.g=c.g,As(this,c.u),this.h=c.h,Mo(this,du(c.i)),this.m=c.m):c&&(m=String(c).match(uu))?(this.l=!1,Ye(this,m[1]||"",!0),this.o=Ai(m[2]||""),this.g=Ai(m[3]||"",!0),As(this,m[4]),this.h=Ai(m[5]||"",!0),Mo(this,m[6]||"",!0),this.m=Ai(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Nn.prototype.toString=function(){const c=[];var m=this.j;m&&c.push(Cr(m,va,!0),":");var v=this.g;return(v||m=="file")&&(c.push("//"),(m=this.o)&&c.push(Cr(m,va,!0),"@"),c.push(Zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&c.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Cr(v,v.charAt(0)=="/"?Vo:cu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Cr(v,hu)),c.join("")},Nn.prototype.resolve=function(c){const m=ke(this);let v=!!c.j;v?Ye(m,c.j):v=!!c.o,v?m.o=c.o:v=!!c.g,v?m.g=c.g:v=c.u!=null;var S=c.h;if(v)As(m,c.u);else if(v=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var j=m.h.lastIndexOf("/");j!=-1&&(S=m.h.slice(0,j+1)+S)}if(j=S,j==".."||j==".")S="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){S=j.lastIndexOf("/",0)==0,j=j.split("/");const H=[];for(let at=0;at<j.length;){const Ct=j[at++];Ct=="."?S&&at==j.length&&H.push(""):Ct==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&at==j.length&&H.push("")):(H.push(Ct),S=!0)}S=H.join("/")}else S=j}return v?m.h=S:v=c.i.toString()!=="",v?Mo(m,du(c.i)):v=!!c.m,v&&(m.m=c.m),m};function ke(c){return new Nn(c)}function Ye(c,m,v){c.j=v?Ai(m,!0):m,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);c.u=m}else c.u=null}function Mo(c,m,v){m instanceof Rs?(c.i=m,Ea(c.i,c.l)):(v||(m=Cr(m,xs)),c.i=new Rs(m,c.l))}function ee(c,m,v){c.i.set(m,v)}function Rr(c){return ee(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ai(c,m){return c?m?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cr(c,m,v){return typeof c=="string"?(c=encodeURI(c).replace(m,vn),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function vn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var va=/[#\/\?@]/g,cu=/[#\?:]/g,Vo=/[#\?]/g,xs=/[#\?@]/g,hu=/#/g;function Rs(c,m){this.h=this.g=null,this.i=c||null,this.j=!!m}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&_a(c.i,function(m,v){c.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}s=Rs.prototype,s.add=function(c,m){bn(this),this.i=null,c=Cs(this,c);let v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(m),this.h+=1,this};function fu(c,m){bn(c),m=Cs(c,m),c.g.has(m)&&(c.i=null,c.h-=c.g.get(m).length,c.g.delete(m))}function ko(c,m){return bn(c),m=Cs(c,m),c.g.has(m)}s.forEach=function(c,m){bn(this),this.g.forEach(function(v,S){v.forEach(function(j){c.call(m,j,S,this)},this)},this)};function Uo(c,m){bn(c);let v=[];if(typeof m=="string")ko(c,m)&&(v=v.concat(c.g.get(Cs(c,m))));else for(c=Array.from(c.g.values()),m=0;m<c.length;m++)v=v.concat(c[m]);return v}s.set=function(c,m){return bn(this),this.i=null,c=Cs(this,c),ko(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[m]),this.h+=1,this},s.get=function(c,m){return c?(c=Uo(this,c),c.length>0?String(c[0]):m):m};function ba(c,m,v){fu(c,m),v.length>0&&(c.i=null,c.g.set(Cs(c,m),q(v)),c.h+=v.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],m=Array.from(this.g.keys());for(let S=0;S<m.length;S++){var v=m[S];const j=Zi(v);v=Uo(this,v);for(let H=0;H<v.length;H++){let at=j;v[H]!==""&&(at+="="+Zi(v[H])),c.push(at)}}return this.i=c.join("&")};function du(c){const m=new Rs;return m.i=c.i,c.g&&(m.g=new Map(c.g),m.h=c.h),m}function Cs(c,m){return m=String(m),c.j&&(m=m.toLowerCase()),m}function Ea(c,m){m&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(v,S){const j=S.toLowerCase();S!=j&&(fu(this,S),ba(this,j,v))},c)),c.j=m}function ni(c,m){const v=new Wn;if(f.Image){const S=new Image;S.onload=T(zn,v,"TestLoadImage: loaded",!0,m,S),S.onerror=T(zn,v,"TestLoadImage: error",!1,m,S),S.onabort=T(zn,v,"TestLoadImage: abort",!1,m,S),S.ontimeout=T(zn,v,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else m(!1)}function jo(c,m){const v=new Wn,S=new AbortController,j=setTimeout(()=>{S.abort(),zn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(c,{signal:S.signal}).then(H=>{clearTimeout(j),H.ok?zn(v,"TestPingServer: ok",!0,m):zn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),zn(v,"TestPingServer: error",!1,m)})}function zn(c,m,v,S,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),S(v)}catch{}}function Is(){this.g=new fa}function xi(c){this.i=c.Sb||null,this.h=c.ab||!1}R(xi,da),xi.prototype.g=function(){return new Ir(this.i,this.h)};function Ir(c,m){Qt.call(this),this.H=c,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(Ir,Qt),s=Ir.prototype,s.open=function(c,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=m,this.readyState=1,ii(this)},s.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(m.body=c),(this.H||f).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},s.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}s.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var m=c.value?c.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!c.done}))&&(this.response=this.responseText+=m)}c.done?Ns(this):ii(this),this.readyState==3&&Ta(this)}},s.Oa=function(c){this.g&&(this.response=this.responseText=c,Ns(this))},s.Na=function(c){this.g&&(this.response=c,Ns(this))},s.ga=function(){this.g&&Ns(this)};function Ns(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ii(c)}s.setRequestHeader=function(c,m){this.A.append(c,m)},s.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=m.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ir.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bn(c){let m="";return wt(c,function(v,S){m+=S,m+=":",m+=v,m+=`\r
`}),m}function Nr(c,m,v){t:{for(S in v){var S=!1;break t}S=!0}S||(v=Bn(v),typeof c=="string"?v!=null&&Zi(v):ee(c,m,v))}function re(c){Qt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(re,Qt);var Ri=/^https?$/i,Lo=["POST","PUT"];s=re.prototype,s.Fa=function(c){this.H=c},s.ea=function(c,m,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);m=m?m.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(c),!0),this.B=!1}catch(H){Dr(this,H);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var j in S)v.set(j,S[j]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),j=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Lo,m,void 0)>=0)||S||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,at]of v)this.g.setRequestHeader(H,at);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(H){Dr(this,H)}};function Dr(c,m){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=m,c.o=5,Po(c),Ji(c)}function Po(c){c.A||(c.A=!0,Ht(c,"complete"),Ht(c,"error"))}s.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ht(this,"complete"),Ht(this,"abort"),Ji(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),re.Z.N.call(this)},s.Ca=function(){this.u||(this.B||this.v||this.j?Or(this):this.Xa())},s.Xa=function(){Or(this)};function Or(c){if(c.h&&typeof u<"u"){if(c.v&&si(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ht(c,"readystatechange"),si(c)==4){c.h=!1;try{const H=c.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var S;if(S=H===0){let at=String(c.D).match(uu)[1]||null;!at&&f.self&&f.self.location&&(at=f.self.location.protocol.slice(0,-1)),S=!Ri.test(at?at.toLowerCase():"")}v=S}if(v)Ht(c,"complete"),Ht(c,"success");else{c.o=6;try{var j=si(c)>2?c.g.statusText:""}catch{j=""}c.l=j+" ["+c.ca()+"]",Po(c)}}finally{Ji(c)}}}}function Ji(c,m){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const v=c.g;c.g=null,m||Ht(c,"ready");try{v.onreadystatechange=null}catch{}}}s.isActive=function(){return!!this.g};function si(c){return c.g?c.g.readyState:0}s.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},s.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.La=function(c){if(this.g){var m=this.g.responseText;return c&&m.indexOf(c)==0&&(m=m.substring(c.length)),di(m)}};function Je(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(c){const m={};c=(c.g&&si(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(I(c[S]))continue;var v=au(c[S]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[j]||[];m[j]=H,H.push(v)}Dt(m,function(S){return S.join(", ")})}s.ya=function(){return this.o},s.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ci(c,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||m}function Ds(c){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ci("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ci("baseRetryDelayMs",5e3,c),this.Za=Ci("retryDelaySeedMs",1e4,c),this.Ta=Ci("forwardChannelMaxRetries",2,c),this.va=Ci("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(c&&c.concurrentRequestLimit),this.Ba=new Is,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}s=Ds.prototype,s.ka=8,s.I=1,s.connect=function(c,m,v,S){Oe(0),this.W=c,this.H=m||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=bu(this,null,this.W),Ii(this)};function zo(c){if(Sa(c),c.I==3){var m=c.V++,v=ke(c.J);if(ee(v,"SID",c.M),ee(v,"RID",m),ee(v,"TYPE","terminate"),Mr(c,v),m=new ti(c,c.j,m),m.M=2,m.A=Rr(ke(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),bi(m)}vu(c)}function Os(c){c.g&&(qo(c),c.g.cancel(),c.g=null)}function Sa(c){Os(c),c.v&&(f.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Ii(c){if(!Io(c.h)&&!c.m){c.m=!0;var m=c.Ea;ut||w(),z||(ut(),z=!0),x.add(m,c),c.D=0}}function wa(c,m){return Si(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=m.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=yi(_(c.Ea,c,m),_u(c,c.D)),c.D++,!0)}s.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const j=new ti(this,this.j,c);let H=this.o;if(this.U&&(H?(H=k(H),ot(H,this.U)):H=this.U),this.u!==null||this.R||(j.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break e}S=void 0}if(S===void 0)break;if(m+=S,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,j,m),v=ke(this.J),ee(v,"RID",c),ee(v,"CVER",22),this.G&&ee(v,"X-HTTP-Session-Id",this.G),Mr(this,v),H&&(this.R?m="headers="+Zi(Bn(H))+"&"+m:this.u&&Nr(v,this.u,H)),No(this.h,j),this.Ra&&ee(v,"TYPE","init"),this.S?(ee(v,"$req",m),ee(v,"SID","null"),j.U=!0,vi(j,v,null)):vi(j,v,m),this.I=2}}else this.I==3&&(c?Bo(this,c):this.i.length==0||Io(this.h)||Bo(this))};function Bo(c,m){var v;m?v=m.l:v=c.V++;const S=ke(c.J);ee(S,"SID",c.M),ee(S,"RID",v),ee(S,"AID",c.K),Mr(c,S),c.u&&c.o&&Nr(S,c.u,c.o),v=new ti(c,c.j,v,c.D+1),c.u===null&&(v.J=c.o),m&&(c.i=m.G.concat(c.i)),m=mu(c,v,1e3),v.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),No(c.h,v),vi(v,S,m)}function Mr(c,m){c.H&&wt(c.H,function(v,S){ee(m,S,v)}),c.l&&wt({},function(v,S){ee(m,S,v)})}function mu(c,m,v){v=Math.min(c.i.length,v);const S=c.l?_(c.l.Ka,c.l,c):null;t:{var j=c.i;let Ct=-1;for(;;){const Ce=["count="+v];Ct==-1?v>0?(Ct=j[0].g,Ce.push("ofs="+Ct)):Ct=0:Ce.push("ofs="+Ct);let $t=!0;for(let _e=0;_e<v;_e++){var H=j[_e].g;const qn=j[_e].map;if(H-=Ct,H<0)Ct=Math.max(0,j[_e].g-100),$t=!1;else try{H="req"+H+"_"||"";try{var at=qn instanceof Map?qn:Object.entries(qn);for(const[Di,ri]of at){let ai=ri;g(ri)&&(ai=Qe(ri)),Ce.push(H+Di+"="+encodeURIComponent(ai))}}catch(Di){throw Ce.push(H+"type="+encodeURIComponent("_badmap")),Di}}catch{S&&S(qn)}}if($t){at=Ce.join("&");break t}}at=void 0}return c=c.i.splice(0,v),m.G=c,at}function gu(c){if(!c.g&&!c.v){c.Y=1;var m=c.Da;ut||w(),z||(ut(),z=!0),x.add(m,c),c.A=0}}function Vr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=yi(_(c.Da,c),_u(c,c.A)),c.A++,!0)}s.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=yi(_(this.Wa,this),c)}},s.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Oe(10),Os(this),pu(this))};function qo(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function pu(c){c.g=new ti(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var m=ke(c.na);ee(m,"RID","rpc"),ee(m,"SID",c.M),ee(m,"AID",c.K),ee(m,"CI",c.F?"0":"1"),!c.F&&c.ia&&ee(m,"TO",c.ia),ee(m,"TYPE","xmlhttp"),Mr(c,m),c.u&&c.o&&Nr(m,c.u,c.o),c.O&&(c.g.H=c.O);var v=c.g;c=c.ba,v.M=1,v.A=Rr(ke(m)),v.u=null,v.R=!0,pa(v,c)}s.Va=function(){this.C!=null&&(this.C=null,Os(this),Vr(this),Oe(19))};function Aa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function yu(c,m){var v=null;if(c.g==m){Aa(c),qo(c),c.g=null;var S=2}else if(wi(c.h,m))v=m.G,Do(c.h,m),S=1;else return;if(c.I!=0){if(m.o)if(S==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=c.D;S=ws(),Ht(S,new pi(S,v)),Ii(c)}else gu(c);else if(j=m.m,j==3||j==0&&m.X>0||!(S==1&&wa(c,m)||S==2&&Vr(c)))switch(v&&v.length>0&&(m=c.h,m.i=m.i.concat(v)),j){case 1:Ni(c,5);break;case 4:Ni(c,10);break;case 3:Ni(c,6);break;default:Ni(c,2)}}}function _u(c,m){let v=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(v*=2),v*m}function Ni(c,m){if(c.j.info("Error code "+m),m==2){var v=_(c.bb,c),S=c.Ua;const j=!S;S=new Nn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Ye(S,"https"),Rr(S),j?ni(S.toString(),v):jo(S.toString(),v)}else Oe(2);c.I=0,c.l&&c.l.pa(m),vu(c),Sa(c)}s.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Oe(2)):(this.j.info("Failed to ping google.com"),Oe(1))};function vu(c){if(c.I=0,c.ja=[],c.l){const m=Oo(c.h);(m.length!=0||c.i.length!=0)&&(Q(c.ja,m),Q(c.ja,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.oa()}}function bu(c,m,v){var S=v instanceof Nn?ke(v):new Nn(v);if(S.g!="")m&&(S.g=m+"."+S.g),As(S,S.u);else{var j=f.location;S=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const H=new Nn(null);S&&Ye(H,S),m&&(H.g=m),j&&As(H,j),v&&(H.h=v),S=H}return v=c.G,m=c.wa,v&&m&&ee(S,v,m),ee(S,"VER",c.ka),Mr(c,S),S}function Eu(c,m,v){if(m&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=c.Aa&&!c.ma?new re(new xi({ab:v})):new re(c.ma),m.Fa(c.L),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}s=Tu.prototype,s.ra=function(){},s.qa=function(){},s.pa=function(){},s.oa=function(){},s.isActive=function(){return!0},s.Ka=function(){};function Ms(){}Ms.prototype.g=function(c,m){return new mn(c,m)};function mn(c,m){Qt.call(this),this.g=new Ds(m),this.l=c,this.h=m&&m.messageUrlParams||null,c=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(c?c["X-WebChannel-Content-Type"]=m.messageContentType:c={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(c?c["X-WebChannel-Client-Profile"]=m.sa:c={"X-WebChannel-Client-Profile":m.sa}),this.g.U=c,(c=m&&m.Qb)&&!I(c)&&(this.g.u=c),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,c=this.h,c!==null&&m in c&&(c=this.h,m in c&&delete c[m])),this.j=new ts(this)}R(mn,Qt),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){zo(this.g)},mn.prototype.o=function(c){var m=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.v&&(v={},v.__data__=Qe(c),c=v);m.i.push(new Ve(m.Ya++,c)),m.I==3&&Ii(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,mn.Z.N.call(this)};function Su(c){Re.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var m=c.__sm__;if(m){t:{for(const v in m){c=v;break t}c=void 0}(this.i=c)&&(c=this.i,m=m!==null&&c in m?m[c]:void 0),this.data=m}else this.data=c}R(Su,Re);function wu(){_n.call(this),this.status=1}R(wu,_n);function ts(c){this.g=c}R(ts,Tu),ts.prototype.ra=function(){Ht(this.g,"a")},ts.prototype.qa=function(c){Ht(this.g,new Su(c))},ts.prototype.pa=function(c){Ht(this.g,new wu)},ts.prototype.oa=function(){Ht(this.g,"b")},Ms.prototype.createWebChannel=Ms.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Ib=function(){return new Ms},Cb=function(){return ws()},Rb=ue,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ar.NO_ERROR=0,Ar.TIMEOUT=8,Ar.HTTP_ERROR=6,Hc=Ar,xo.COMPLETE="complete",xb=xo,ma.EventType=Cn,Cn.OPEN="a",Cn.CLOSE="b",Cn.ERROR="c",Cn.MESSAGE="d",Qt.prototype.listen=Qt.prototype.J,Cl=ma,re.prototype.listenOnce=re.prototype.K,re.prototype.getLastError=re.prototype.Ha,re.prototype.getLastErrorCode=re.prototype.ya,re.prototype.getStatus=re.prototype.ca,re.prototype.getResponseJson=re.prototype.La,re.prototype.getResponseText=re.prototype.la,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Fa,Ab=re}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const C0="@firebase/firestore",I0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Cm("@firebase/firestore");function no(){return sa.logLevel}function ht(s,...t){if(sa.logLevel<=Pt.DEBUG){const n=t.map(zm);sa.debug(`Firestore (${To}): ${s}`,...n)}}function Es(s,...t){if(sa.logLevel<=Pt.ERROR){const n=t.map(zm);sa.error(`Firestore (${To}): ${s}`,...n)}}function go(s,...t){if(sa.logLevel<=Pt.WARN){const n=t.map(zm);sa.warn(`Firestore (${To}): ${s}`,...n)}}function zm(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(s,t,n){let r="Unexpected state";typeof t=="string"?r=t:n=t,Nb(s,r,n)}function Nb(s,t,n){let r=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: ${t} (ID: ${s.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Es(r),new Error(r)}function Wt(s,t,n,r){let o="Unexpected state";typeof n=="string"?o=n:r=n,s||Nb(t,o,r)}function xt(s,t){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Yi{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise(((t,n)=>{this.resolve=t,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable((()=>n(hn.UNAUTHENTICATED)))}shutdown(){}}class ix{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class sx{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){Wt(this.o===void 0,42304);let r=this.i;const o=p=>this.i!==r?(r=this.i,n(p)):Promise.resolve();let u=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new fr,t.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const p=u;t.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},g=p=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>g(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?g(p):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new fr)}}),0),f()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==t?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Wt(typeof r.accessToken=="string",31837,{l:r}),new Db(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new hn(t)}}class rx{constructor(t,n,r){this.P=t,this.T=n,this.I=r,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class ax{constructor(t,n,r){this.P=t,this.T=n,this.I=r}getToken(){return Promise.resolve(new rx(this.P,this.T,this.I))}start(t,n){t.enqueueRetryable((()=>n(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class N0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ox{constructor(t,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,n){Wt(this.o===void 0,3512);const r=u=>{u.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ht("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{t.enqueueRetryable((()=>r(u)))};const o=u=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new N0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((n=>n?(Wt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new N0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(s){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(s);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<s;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const o=lx(40);for(let u=0;u<o.length;++u)r.length<20&&o[u]<n&&(r+=t.charAt(o[u]%62))}return r}}function zt(s,t){return s<t?-1:s>t?1:0}function lm(s,t){const n=Math.min(s.length,t.length);for(let r=0;r<n;r++){const o=s.charAt(r),u=t.charAt(r);if(o!==u)return Hd(o)===Hd(u)?zt(o,u):Hd(o)?1:-1}return zt(s.length,t.length)}const ux=55296,cx=57343;function Hd(s){const t=s.charCodeAt(0);return t>=ux&&t<=cx}function po(s,t,n){return s.length===t.length&&s.every(((r,o)=>n(r,t[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0="__name__";class Ui{constructor(t,n,r){n===void 0?n=0:n>t.length&&vt(637,{offset:n,range:t.length}),r===void 0?r=t.length-n:r>t.length-n&&vt(1746,{length:r,range:t.length-n}),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Ui.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Ui?t.forEach((r=>{n.push(r)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let o=0;o<r;o++){const u=Ui.compareSegments(t.get(o),n.get(o));if(u!==0)return u}return zt(t.length,n.length)}static compareSegments(t,n){const r=Ui.isNumericId(t),o=Ui.isNumericId(n);return r&&!o?-1:!r&&o?1:r&&o?Ui.extractNumericId(t).compare(Ui.extractNumericId(n)):lm(t,n)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return hr.fromString(t.substring(4,t.length-2))}}class pe extends Ui{construct(t,n,r){return new pe(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new gt(tt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((o=>o.length>0)))}return new pe(n)}static emptyPath(){return new pe([])}}const hx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Ui{construct(t,n,r){return new rn(t,n,r)}static isValidIdentifier(t){return hx.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===D0}static keyField(){return new rn([D0])}static fromServerFormat(t){const n=[];let r="",o=0;const u=()=>{if(r.length===0)throw new gt(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let f=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new gt(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const p=t[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new gt(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=p,o+=2}else g==="`"?(f=!f,o++):g!=="."||f?(r+=g,o++):(u(),o++)}if(u(),f)throw new gt(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(n)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t){this.path=t}static fromPath(t){return new yt(pe.fromString(t))}static fromName(t){return new yt(pe.fromString(t).popFirst(5))}static empty(){return new yt(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return pe.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new pe(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ob(s,t,n){if(!n)throw new gt(tt.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${t}.`)}function fx(s,t,n,r){if(t===!0&&r===!0)throw new gt(tt.INVALID_ARGUMENT,`${s} and ${n} cannot be used together.`)}function O0(s){if(!yt.isDocumentKey(s))throw new gt(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function M0(s){if(yt.isDocumentKey(s))throw new gt(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Mb(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}function qm(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(s);return t?`a custom ${t} object`:"an object"}}return typeof s=="function"?"a function":vt(12329,{type:typeof s})}function Bl(s,t){if("_delegate"in s&&(s=s._delegate),!(s instanceof t)){if(t.name===s.constructor.name)throw new gt(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=qm(s);throw new gt(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return s}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(s,t){const n={typeString:s};return t&&(n.value=t),n}function tu(s,t){if(!Mb(s))throw new gt(tt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in t)if(t[r]){const o=t[r].typeString,u="value"in t[r]?{value:t[r].value}:void 0;if(!(r in s)){n=`JSON missing required field: '${r}'`;break}const f=s[r];if(o&&typeof f!==o){n=`JSON field '${r}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${r}' field to equal '${u.value}'`;break}}if(n)throw new gt(tt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=-62135596800,k0=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(t){return ye.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor((t-1e3*n)*k0);return new ye(n,r)}constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new gt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new gt(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<V0)throw new gt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/k0}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(tu(t,ye._jsonSchema))return new ye(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-V0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Be("string",ye._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ye(0,0))}static max(){return new St(new ye(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ql=-1;function dx(s,t){const n=s.toTimestamp().seconds,r=s.toTimestamp().nanoseconds+1,o=St.fromTimestamp(r===1e9?new ye(n+1,0):new ye(n,r));return new pr(o,yt.empty(),t)}function mx(s){return new pr(s.readTime,s.key,ql)}class pr{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new pr(St.min(),yt.empty(),ql)}static max(){return new pr(St.max(),yt.empty(),ql)}}function gx(s,t){let n=s.readTime.compareTo(t.readTime);return n!==0?n:(n=yt.comparator(s.documentKey,t.documentKey),n!==0?n:zt(s.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(s){if(s.code!==tt.FAILED_PRECONDITION||s.message!==px)throw s;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new J(((r,o)=>{this.nextCallback=u=>{this.wrapSuccess(t,u).next(r,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(r,o)}}))}toPromise(){return new Promise(((t,n)=>{this.next(t,n)}))}wrapUserFunction(t){try{const n=t();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):J.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):J.reject(n)}static resolve(t){return new J(((n,r)=>{n(t)}))}static reject(t){return new J(((n,r)=>{r(t)}))}static waitFor(t){return new J(((n,r)=>{let o=0,u=0,f=!1;t.forEach((g=>{++o,g.next((()=>{++u,f&&u===o&&n()}),(p=>r(p)))})),f=!0,u===o&&n()}))}static or(t){let n=J.resolve(!1);for(const r of t)n=n.next((o=>o?J.resolve(o):r()));return n}static forEach(t,n){const r=[];return t.forEach(((o,u)=>{r.push(n.call(this,o,u))})),this.waitFor(r)}static mapArray(t,n){return new J(((r,o)=>{const u=t.length,f=new Array(u);let g=0;for(let p=0;p<u;p++){const _=p;n(t[_]).next((T=>{f[_]=T,++g,g===u&&r(f)}),(T=>o(T)))}}))}static doWhile(t,n){return new J(((r,o)=>{const u=()=>{t()===!0?n().next((()=>{u()}),o):r()};u()}))}}function _x(s){const t=s.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function wo(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_h.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=-1;function vh(s){return s==null}function ih(s){return s===0&&1/s==-1/0}function vx(s){return typeof s=="number"&&Number.isInteger(s)&&!ih(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="";function bx(s){let t="";for(let n=0;n<s.length;n++)t.length>0&&(t=U0(t)),t=Ex(s.get(n),t);return U0(t)}function Ex(s,t){let n=t;const r=s.length;for(let o=0;o<r;o++){const u=s.charAt(o);switch(u){case"\0":n+="";break;case Vb:n+="";break;default:n+=u}}return n}function U0(s){return s+Vb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(s){let t=0;for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t++;return t}function la(s,t){for(const n in s)Object.prototype.hasOwnProperty.call(s,n)&&t(n,s[n])}function kb(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(t,n){this.comparator=t,this.root=n||sn.EMPTY}insert(t,n){return new Ee(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,sn.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,sn.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(t,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((n,r)=>(t(n,r),!1)))}toString(){const t=[];return this.inorderTraversal(((n,r)=>(t.push(`${n}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,n,r,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!t.isEmpty();)if(u=n?r(t.key,n):1,n&&o&&(u*=-1),u<0)t=this.isReverse?t.left:t.right;else{if(u===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class sn{constructor(t,n,r,o,u){this.key=t,this.value=n,this.color=r??sn.RED,this.left=o??sn.EMPTY,this.right=u??sn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,o,u){return new sn(t??this.key,n??this.value,r??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let o=this;const u=r(t,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(t,n,r),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(t,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return sn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,o=this;if(n(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(t,o.key)===0){if(o.right.isEmpty())return sn.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,sn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,sn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}sn.EMPTY=null,sn.RED=!0,sn.BLACK=!1;sn.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,n,r,o,u){return this}insert(t,n,r){return new sn(t,n)}remove(t,n){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((n,r)=>(t(n),!1)))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,t[1])>=0)return;n(o.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(t){return new L0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach((r=>{n=n.add(r)})),n}isEqual(t){if(!(t instanceof Ge)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((n=>{t.push(n)})),t}toString(){const t=[];return this.forEach((n=>t.push(n))),"SortedSet("+t.toString()+")"}copy(t){const n=new Ge(this.comparator);return n.data=t,n}}class L0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new fi([])}unionWith(t){let n=new Ge(rn.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new fi(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return po(this.fields,t.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.binaryString=t}static fromBase64String(t){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ub("Invalid base64 string: "+u):u}})(t);return new on(n)}static fromUint8Array(t){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(t);return new on(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}on.EMPTY_BYTE_STRING=new on("");const Tx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(s){if(Wt(!!s,39018),typeof s=="string"){let t=0;const n=Tx.exec(s);if(Wt(!!n,46558,{timestamp:s}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),t=Number(o)}const r=new Date(s);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:De(s.seconds),nanos:De(s.nanos)}}function De(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function _r(s){return typeof s=="string"?on.fromBase64String(s):on.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="server_timestamp",Lb="__type__",Pb="__previous_value__",zb="__local_write_time__";function Fm(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[Lb])==null?void 0:r.stringValue)===jb}function bh(s){const t=s.mapValue.fields[Pb];return Fm(t)?bh(t):t}function Hl(s){const t=yr(s.mapValue.fields[zb].timestampValue);return new ye(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(t,n,r,o,u,f,g,p,_,T){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=g,this.longPollingOptions=p,this.useFetchStreams=_,this.isUsingEmulator=T}}const sh="(default)";class Fl{constructor(t,n){this.projectId=t,this.database=n||sh}static empty(){return new Fl("","")}get isDefaultDatabase(){return this.database===sh}isEqual(t){return t instanceof Fl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb="__type__",wx="__max__",Mc={mapValue:{}},qb="__vector__",rh="value";function vr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?Fm(s)?4:xx(s)?9007199254740991:Ax(s)?10:11:vt(28295,{value:s})}function Qi(s,t){if(s===t)return!0;const n=vr(s);if(n!==vr(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===t.booleanValue;case 4:return Hl(s).isEqual(Hl(t));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=yr(o.timestampValue),g=yr(u.timestampValue);return f.seconds===g.seconds&&f.nanos===g.nanos})(s,t);case 5:return s.stringValue===t.stringValue;case 6:return(function(o,u){return _r(o.bytesValue).isEqual(_r(u.bytesValue))})(s,t);case 7:return s.referenceValue===t.referenceValue;case 8:return(function(o,u){return De(o.geoPointValue.latitude)===De(u.geoPointValue.latitude)&&De(o.geoPointValue.longitude)===De(u.geoPointValue.longitude)})(s,t);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return De(o.integerValue)===De(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=De(o.doubleValue),g=De(u.doubleValue);return f===g?ih(f)===ih(g):isNaN(f)&&isNaN(g)}return!1})(s,t);case 9:return po(s.arrayValue.values||[],t.arrayValue.values||[],Qi);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},g=u.mapValue.fields||{};if(j0(f)!==j0(g))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(g[p]===void 0||!Qi(f[p],g[p])))return!1;return!0})(s,t);default:return vt(52216,{left:s})}}function Gl(s,t){return(s.values||[]).find((n=>Qi(n,t)))!==void 0}function yo(s,t){if(s===t)return 0;const n=vr(s),r=vr(t);if(n!==r)return zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(s.booleanValue,t.booleanValue);case 2:return(function(u,f){const g=De(u.integerValue||u.doubleValue),p=De(f.integerValue||f.doubleValue);return g<p?-1:g>p?1:g===p?0:isNaN(g)?isNaN(p)?0:-1:1})(s,t);case 3:return P0(s.timestampValue,t.timestampValue);case 4:return P0(Hl(s),Hl(t));case 5:return lm(s.stringValue,t.stringValue);case 6:return(function(u,f){const g=_r(u),p=_r(f);return g.compareTo(p)})(s.bytesValue,t.bytesValue);case 7:return(function(u,f){const g=u.split("/"),p=f.split("/");for(let _=0;_<g.length&&_<p.length;_++){const T=zt(g[_],p[_]);if(T!==0)return T}return zt(g.length,p.length)})(s.referenceValue,t.referenceValue);case 8:return(function(u,f){const g=zt(De(u.latitude),De(f.latitude));return g!==0?g:zt(De(u.longitude),De(f.longitude))})(s.geoPointValue,t.geoPointValue);case 9:return z0(s.arrayValue,t.arrayValue);case 10:return(function(u,f){var O,q,Q,W;const g=u.fields||{},p=f.fields||{},_=(O=g[rh])==null?void 0:O.arrayValue,T=(q=p[rh])==null?void 0:q.arrayValue,R=zt(((Q=_==null?void 0:_.values)==null?void 0:Q.length)||0,((W=T==null?void 0:T.values)==null?void 0:W.length)||0);return R!==0?R:z0(_,T)})(s.mapValue,t.mapValue);case 11:return(function(u,f){if(u===Mc.mapValue&&f===Mc.mapValue)return 0;if(u===Mc.mapValue)return 1;if(f===Mc.mapValue)return-1;const g=u.fields||{},p=Object.keys(g),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let R=0;R<p.length&&R<T.length;++R){const O=lm(p[R],T[R]);if(O!==0)return O;const q=yo(g[p[R]],_[T[R]]);if(q!==0)return q}return zt(p.length,T.length)})(s.mapValue,t.mapValue);default:throw vt(23264,{he:n})}}function P0(s,t){if(typeof s=="string"&&typeof t=="string"&&s.length===t.length)return zt(s,t);const n=yr(s),r=yr(t),o=zt(n.seconds,r.seconds);return o!==0?o:zt(n.nanos,r.nanos)}function z0(s,t){const n=s.values||[],r=t.values||[];for(let o=0;o<n.length&&o<r.length;++o){const u=yo(n[o],r[o]);if(u)return u}return zt(n.length,r.length)}function _o(s){return um(s)}function um(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?(function(n){const r=yr(n);return`time(${r.seconds},${r.nanos})`})(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?(function(n){return _r(n).toBase64()})(s.bytesValue):"referenceValue"in s?(function(n){return yt.fromName(n).toString()})(s.referenceValue):"geoPointValue"in s?(function(n){return`geo(${n.latitude},${n.longitude})`})(s.geoPointValue):"arrayValue"in s?(function(n){let r="[",o=!0;for(const u of n.values||[])o?o=!1:r+=",",r+=um(u);return r+"]"})(s.arrayValue):"mapValue"in s?(function(n){const r=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of r)u?u=!1:o+=",",o+=`${f}:${um(n.fields[f])}`;return o+"}"})(s.mapValue):vt(61005,{value:s})}function Fc(s){switch(vr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=bh(s);return t?16+Fc(t):16;case 5:return 2*s.stringValue.length;case 6:return _r(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((o,u)=>o+Fc(u)),0)})(s.arrayValue);case 10:case 11:return(function(r){let o=0;return la(r.fields,((u,f)=>{o+=u.length+Fc(f)})),o})(s.mapValue);default:throw vt(13486,{value:s})}}function cm(s){return!!s&&"integerValue"in s}function Gm(s){return!!s&&"arrayValue"in s}function B0(s){return!!s&&"nullValue"in s}function q0(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Gc(s){return!!s&&"mapValue"in s}function Ax(s){var n,r;return((r=(((n=s==null?void 0:s.mapValue)==null?void 0:n.fields)||{})[Bb])==null?void 0:r.stringValue)===qb}function Vl(s){if(s.geoPointValue)return{geoPointValue:{...s.geoPointValue}};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:{...s.timestampValue}};if(s.mapValue){const t={mapValue:{fields:{}}};return la(s.mapValue.fields,((n,r)=>t.mapValue.fields[n]=Vl(r))),t}if(s.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(s.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Vl(s.arrayValue.values[n]);return t}return{...s}}function xx(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===wx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(t){this.value=t}static empty(){return new Zn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!Gc(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vl(n)}setAll(t){let n=rn.emptyPath(),r={},o=[];t.forEach(((f,g)=>{if(!n.isImmediateParentOf(g)){const p=this.getFieldsMap(n);this.applyChanges(p,r,o),r={},o=[],n=g.popLast()}f?r[g.lastSegment()]=Vl(f):o.push(g.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,r,o)}delete(t){const n=this.field(t.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return Qi(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let o=n.mapValue.fields[t.get(r)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(t,n,r){la(n,((o,u)=>t[o]=u));for(const o of r)delete t[o]}clone(){return new Zn(Vl(this.value))}}function Hb(s){const t=[];return la(s.fields,((n,r)=>{const o=new rn([n]);if(Gc(r)){const u=Hb(r.mapValue).fields;if(u.length===0)t.push(o);else for(const f of u)t.push(o.child(f))}else t.push(o)})),new fi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(t,n,r,o,u,f,g){this.key=t,this.documentType=n,this.version=r,this.readTime=o,this.createTime=u,this.data=f,this.documentState=g}static newInvalidDocument(t){return new fn(t,0,St.min(),St.min(),St.min(),Zn.empty(),0)}static newFoundDocument(t,n,r,o){return new fn(t,1,n,St.min(),r,o,0)}static newNoDocument(t,n){return new fn(t,2,n,St.min(),St.min(),Zn.empty(),0)}static newUnknownDocument(t,n){return new fn(t,3,n,St.min(),St.min(),Zn.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Zn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof fn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new fn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(t,n){this.position=t,this.inclusive=n}}function H0(s,t,n){let r=0;for(let o=0;o<s.position.length;o++){const u=t[o],f=s.position[o];if(u.field.isKeyField()?r=yt.comparator(yt.fromName(f.referenceValue),n.key):r=yo(f,n.data.field(u.field)),u.dir==="desc"&&(r*=-1),r!==0)break}return r}function F0(s,t){if(s===null)return t===null;if(t===null||s.inclusive!==t.inclusive||s.position.length!==t.position.length)return!1;for(let n=0;n<s.position.length;n++)if(!Qi(s.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(t,n="asc"){this.field=t,this.dir=n}}function Rx(s,t){return s.dir===t.dir&&s.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{}class Fe extends Fb{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new Ix(t,n,r):n==="array-contains"?new Ox(t,r):n==="in"?new Mx(t,r):n==="not-in"?new Vx(t,r):n==="array-contains-any"?new kx(t,r):new Fe(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new Nx(t,r):new Dx(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(yo(n,this.value)):n!==null&&vr(this.value)===vr(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends Fb{constructor(t,n){super(),this.filters=t,this.op=n,this.Pe=null}static create(t,n){return new Ki(t,n)}matches(t){return Gb(this)?this.filters.find((n=>!n.matches(t)))===void 0:this.filters.find((n=>n.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,n)=>t.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Gb(s){return s.op==="and"}function Qb(s){return Cx(s)&&Gb(s)}function Cx(s){for(const t of s.filters)if(t instanceof Ki)return!1;return!0}function hm(s){if(s instanceof Fe)return s.field.canonicalString()+s.op.toString()+_o(s.value);if(Qb(s))return s.filters.map((t=>hm(t))).join(",");{const t=s.filters.map((n=>hm(n))).join(",");return`${s.op}(${t})`}}function Kb(s,t){return s instanceof Fe?(function(r,o){return o instanceof Fe&&r.op===o.op&&r.field.isEqual(o.field)&&Qi(r.value,o.value)})(s,t):s instanceof Ki?(function(r,o){return o instanceof Ki&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce(((u,f,g)=>u&&Kb(f,o.filters[g])),!0):!1})(s,t):void vt(19439)}function Yb(s){return s instanceof Fe?(function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`})(s):s instanceof Ki?(function(n){return n.op.toString()+" {"+n.getFilters().map(Yb).join(" ,")+"}"})(s):"Filter"}class Ix extends Fe{constructor(t,n,r){super(t,n,r),this.key=yt.fromName(r.referenceValue)}matches(t){const n=yt.comparator(t.key,this.key);return this.matchesComparison(n)}}class Nx extends Fe{constructor(t,n){super(t,"in",n),this.keys=Xb("in",n)}matches(t){return this.keys.some((n=>n.isEqual(t.key)))}}class Dx extends Fe{constructor(t,n){super(t,"not-in",n),this.keys=Xb("not-in",n)}matches(t){return!this.keys.some((n=>n.isEqual(t.key)))}}function Xb(s,t){var n;return(((n=t.arrayValue)==null?void 0:n.values)||[]).map((r=>yt.fromName(r.referenceValue)))}class Ox extends Fe{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return Gm(n)&&Gl(n.arrayValue,this.value)}}class Mx extends Fe{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&Gl(this.value.arrayValue,n)}}class Vx extends Fe{constructor(t,n){super(t,"not-in",n)}matches(t){if(Gl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Gl(this.value.arrayValue,n)}}class kx extends Fe{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!Gm(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>Gl(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(t,n=null,r=[],o=[],u=null,f=null,g=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=u,this.startAt=f,this.endAt=g,this.Te=null}}function G0(s,t=null,n=[],r=[],o=null,u=null,f=null){return new Ux(s,t,n,r,o,u,f)}function Qm(s){const t=xt(s);if(t.Te===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((r=>hm(r))).join(","),n+="|ob:",n+=t.orderBy.map((r=>(function(u){return u.field.canonicalString()+u.dir})(r))).join(","),vh(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((r=>_o(r))).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((r=>_o(r))).join(",")),t.Te=n}return t.Te}function Km(s,t){if(s.limit!==t.limit||s.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<s.orderBy.length;n++)if(!Rx(s.orderBy[n],t.orderBy[n]))return!1;if(s.filters.length!==t.filters.length)return!1;for(let n=0;n<s.filters.length;n++)if(!Kb(s.filters[n],t.filters[n]))return!1;return s.collectionGroup===t.collectionGroup&&!!s.path.isEqual(t.path)&&!!F0(s.startAt,t.startAt)&&F0(s.endAt,t.endAt)}function fm(s){return yt.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(t,n=null,r=[],o=[],u=null,f="F",g=null,p=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=u,this.limitType=f,this.startAt=g,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jx(s,t,n,r,o,u,f,g){return new Eh(s,t,n,r,o,u,f,g)}function $b(s){return new Eh(s)}function Q0(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function Lx(s){return s.collectionGroup!==null}function kl(s){const t=xt(s);if(t.Ie===null){t.Ie=[];const n=new Set;for(const u of t.explicitOrderBy)t.Ie.push(u),n.add(u.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(f){let g=new Ge(rn.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||t.Ie.push(new oh(u,r))})),n.has(rn.keyField().canonicalString())||t.Ie.push(new oh(rn.keyField(),r))}return t.Ie}function Bi(s){const t=xt(s);return t.Ee||(t.Ee=Px(t,kl(s))),t.Ee}function Px(s,t){if(s.limitType==="F")return G0(s.path,s.collectionGroup,t,s.filters,s.limit,s.startAt,s.endAt);{t=t.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)}));const n=s.endAt?new ah(s.endAt.position,s.endAt.inclusive):null,r=s.startAt?new ah(s.startAt.position,s.startAt.inclusive):null;return G0(s.path,s.collectionGroup,t,s.filters,s.limit,n,r)}}function dm(s,t,n){return new Eh(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),t,n,s.startAt,s.endAt)}function Th(s,t){return Km(Bi(s),Bi(t))&&s.limitType===t.limitType}function Zb(s){return`${Qm(Bi(s))}|lt:${s.limitType}`}function io(s){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((o=>Yb(o))).join(", ")}]`),vh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((o=>_o(o))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((o=>_o(o))).join(",")),`Target(${r})`})(Bi(s))}; limitType=${s.limitType})`}function Sh(s,t){return t.isFoundDocument()&&(function(r,o){const u=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(u):yt.isDocumentKey(r.path)?r.path.isEqual(u):r.path.isImmediateParentOf(u)})(s,t)&&(function(r,o){for(const u of kl(r))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(s,t)&&(function(r,o){for(const u of r.filters)if(!u.matches(o))return!1;return!0})(s,t)&&(function(r,o){return!(r.startAt&&!(function(f,g,p){const _=H0(f,g,p);return f.inclusive?_<=0:_<0})(r.startAt,kl(r),o)||r.endAt&&!(function(f,g,p){const _=H0(f,g,p);return f.inclusive?_>=0:_>0})(r.endAt,kl(r),o))})(s,t)}function zx(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Jb(s){return(t,n)=>{let r=!1;for(const o of kl(s)){const u=Bx(o,t,n);if(u!==0)return u;r=r||o.field.isKeyField()}return 0}}function Bx(s,t,n){const r=s.field.isKeyField()?yt.comparator(t.key,n.key):(function(u,f,g){const p=f.data.field(u),_=g.data.field(u);return p!==null&&_!==null?yo(p,_):vt(42886)})(s.field,t,n);switch(s.dir){case"asc":return r;case"desc":return-1*r;default:return vt(19790,{direction:s.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[o,u]of r)if(this.equalsFn(o,t))return u}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),o=this.inner[r];if(o===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return void(o[u]=[t,n]);o.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(t){la(this.inner,((n,r)=>{for(const[o,u]of r)t(o,u)}))}isEmpty(){return kb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qx=new Ee(yt.comparator);function Ts(){return qx}const Wb=new Ee(yt.comparator);function Il(...s){let t=Wb;for(const n of s)t=t.insert(n.key,n);return t}function tE(s){let t=Wb;return s.forEach(((n,r)=>t=t.insert(n,r.overlayedDocument))),t}function Jr(){return Ul()}function eE(){return Ul()}function Ul(){return new ua((s=>s.toString()),((s,t)=>s.isEqual(t)))}const Hx=new Ee(yt.comparator),Fx=new Ge(yt.comparator);function Bt(...s){let t=Fx;for(const n of s)t=t.add(n);return t}const Gx=new Ge(zt);function Qx(){return Gx}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ym(s,t){if(s.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(t)?"-0":t}}function nE(s){return{integerValue:""+s}}function Kx(s,t){return vx(t)?nE(t):Ym(s,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh{constructor(){this._=void 0}}function Yx(s,t,n){return s instanceof Ql?(function(o,u){const f={fields:{[Lb]:{stringValue:jb},[zb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Fm(u)&&(u=bh(u)),u&&(f.fields[Pb]=u),{mapValue:f}})(n,t):s instanceof Kl?sE(s,t):s instanceof Yl?rE(s,t):(function(o,u){const f=iE(o,u),g=K0(f)+K0(o.Ae);return cm(f)&&cm(o.Ae)?nE(g):Ym(o.serializer,g)})(s,t)}function Xx(s,t,n){return s instanceof Kl?sE(s,t):s instanceof Yl?rE(s,t):n}function iE(s,t){return s instanceof lh?(function(r){return cm(r)||(function(u){return!!u&&"doubleValue"in u})(r)})(t)?t:{integerValue:0}:null}class Ql extends wh{}class Kl extends wh{constructor(t){super(),this.elements=t}}function sE(s,t){const n=aE(t);for(const r of s.elements)n.some((o=>Qi(o,r)))||n.push(r);return{arrayValue:{values:n}}}class Yl extends wh{constructor(t){super(),this.elements=t}}function rE(s,t){let n=aE(t);for(const r of s.elements)n=n.filter((o=>!Qi(o,r)));return{arrayValue:{values:n}}}class lh extends wh{constructor(t,n){super(),this.serializer=t,this.Ae=n}}function K0(s){return De(s.integerValue||s.doubleValue)}function aE(s){return Gm(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(t,n){this.field=t,this.transform=n}}function Zx(s,t){return s.field.isEqual(t.field)&&(function(r,o){return r instanceof Kl&&o instanceof Kl||r instanceof Yl&&o instanceof Yl?po(r.elements,o.elements,Qi):r instanceof lh&&o instanceof lh?Qi(r.Ae,o.Ae):r instanceof Ql&&o instanceof Ql})(s.transform,t.transform)}class Jx{constructor(t,n){this.version=t,this.transformResults=n}}class qi{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new qi}static exists(t){return new qi(void 0,t)}static updateTime(t){return new qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qc(s,t){return s.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(s.updateTime):s.exists===void 0||s.exists===t.isFoundDocument()}class Ah{}function oE(s,t){if(!s.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return s.isNoDocument()?new Xm(s.key,qi.none()):new eu(s.key,s.data,qi.none());{const n=s.data,r=Zn.empty();let o=new Ge(rn.comparator);for(let u of t.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?r.delete(u):r.set(u,f),o=o.add(u)}return new ca(s.key,r,new fi(o.toArray()),qi.none())}}function Wx(s,t,n){s instanceof eu?(function(o,u,f){const g=o.value.clone(),p=X0(o.fieldTransforms,u,f.transformResults);g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(s,t,n):s instanceof ca?(function(o,u,f){if(!Qc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const g=X0(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(lE(o)),p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(s,t,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,t,n)}function jl(s,t,n,r){return s instanceof eu?(function(u,f,g,p){if(!Qc(u.precondition,f))return g;const _=u.value.clone(),T=$0(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null})(s,t,n,r):s instanceof ca?(function(u,f,g,p){if(!Qc(u.precondition,f))return g;const _=$0(u.fieldTransforms,p,f),T=f.data;return T.setAll(lE(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),g===null?null:g.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((R=>R.field)))})(s,t,n,r):(function(u,f,g){return Qc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):g})(s,t,n)}function tR(s,t){let n=null;for(const r of s.fieldTransforms){const o=t.data.field(r.field),u=iE(r.transform,o||null);u!=null&&(n===null&&(n=Zn.empty()),n.set(r.field,u))}return n||null}function Y0(s,t){return s.type===t.type&&!!s.key.isEqual(t.key)&&!!s.precondition.isEqual(t.precondition)&&!!(function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&po(r,o,((u,f)=>Zx(u,f)))})(s.fieldTransforms,t.fieldTransforms)&&(s.type===0?s.value.isEqual(t.value):s.type!==1||s.data.isEqual(t.data)&&s.fieldMask.isEqual(t.fieldMask))}class eu extends Ah{constructor(t,n,r,o=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ca extends Ah{constructor(t,n,r,o,u=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function lE(s){const t=new Map;return s.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=s.data.field(n);t.set(n,r)}})),t}function X0(s,t,n){const r=new Map;Wt(s.length===n.length,32656,{Re:n.length,Ve:s.length});for(let o=0;o<n.length;o++){const u=s[o],f=u.transform,g=t.data.field(u.field);r.set(u.field,Xx(f,g,n[o]))}return r}function $0(s,t,n){const r=new Map;for(const o of s){const u=o.transform,f=n.data.field(o.field);r.set(o.field,Yx(u,f,t))}return r}class Xm extends Ah{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class eR extends Ah{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(t,n,r,o){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(t.key)&&Wx(u,t,r[o])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=jl(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=jl(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=eE();return this.mutations.forEach((o=>{const u=t.get(o.key),f=u.overlayedDocument;let g=this.applyToLocalView(f,u.mutatedFields);g=n.has(o.key)?null:g;const p=oE(f,g);p!==null&&r.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(St.min())})),r}keys(){return this.mutations.reduce(((t,n)=>t.add(n.key)),Bt())}isEqual(t){return this.batchId===t.batchId&&po(this.mutations,t.mutations,((n,r)=>Y0(n,r)))&&po(this.baseMutations,t.baseMutations,((n,r)=>Y0(n,r)))}}class $m{constructor(t,n,r,o){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(t,n,r){Wt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let o=(function(){return Hx})();const u=t.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,r[f].version);return new $m(t,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,n){this.count=t,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,Ft;function rR(s){switch(s){case tt.OK:return vt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return vt(15467,{code:s})}}function uE(s){if(s===void 0)return Es("GRPC error has no .code"),tt.UNKNOWN;switch(s){case ze.OK:return tt.OK;case ze.CANCELLED:return tt.CANCELLED;case ze.UNKNOWN:return tt.UNKNOWN;case ze.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case ze.INTERNAL:return tt.INTERNAL;case ze.UNAVAILABLE:return tt.UNAVAILABLE;case ze.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case ze.NOT_FOUND:return tt.NOT_FOUND;case ze.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case ze.ABORTED:return tt.ABORTED;case ze.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case ze.DATA_LOSS:return tt.DATA_LOSS;default:return vt(39323,{code:s})}}(Ft=ze||(ze={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oR=new hr([4294967295,4294967295],0);function Z0(s){const t=aR().encode(s),n=new wb;return n.update(t),new Uint8Array(n.digest())}function J0(s){const t=new DataView(s.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),o=t.getUint32(8,!0),u=t.getUint32(12,!0);return[new hr([n,r],0),new hr([o,u],0)]}class Zm{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Nl(`Invalid padding: ${n}`);if(r<0)throw new Nl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*t.length-n,this.pe=hr.fromNumber(this.ge)}ye(t,n,r){let o=t.add(n.multiply(hr.fromNumber(r)));return o.compare(oR)===1&&(o=new hr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const n=Z0(t),[r,o]=J0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);if(!this.we(f))return!1}return!0}static create(t,n,r){const o=t%8==0?0:8-t%8,u=new Uint8Array(Math.ceil(t/8)),f=new Zm(u,o,n);return r.forEach((g=>f.insert(g))),f}insert(t){if(this.ge===0)return;const n=Z0(t),[r,o]=J0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(r,o,u);this.Se(f)}}Se(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(t,n,r,o,u){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const o=new Map;return o.set(t,nu.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new xh(St.min(),o,new Ee(zt),Ts(),Bt())}}class nu{constructor(t,n,r,o,u){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new nu(r,n,Bt(),Bt(),Bt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(t,n,r,o){this.be=t,this.removedTargetIds=n,this.key=r,this.De=o}}class cE{constructor(t,n){this.targetId=t,this.Ce=n}}class hE{constructor(t,n,r=on.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=o}}class W0{constructor(){this.ve=0,this.Fe=tv(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Bt(),n=Bt(),r=Bt();return this.Fe.forEach(((o,u)=>{switch(u){case 0:t=t.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:vt(38017,{changeType:u})}})),new nu(this.Me,this.xe,t,n,r)}qe(){this.Oe=!1,this.Fe=tv()}Qe(t,n){this.Oe=!0,this.Fe=this.Fe.insert(t,n)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class lR{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ts(),this.Je=Vc(),this.He=Vc(),this.Ye=new Ee(zt)}Ze(t){for(const n of t.be)t.De&&t.De.isFoundDocument()?this.Xe(n,t.De):this.et(n,t.key,t.De);for(const n of t.removedTargetIds)this.et(n,t.key,t.De)}tt(t){this.forEachTarget(t,(n=>{const r=this.nt(n);switch(t.state){case 0:this.rt(n)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.ze.forEach(((r,o)=>{this.rt(o)&&n(o)}))}st(t){const n=t.targetId,r=t.Ce.count,o=this.ot(n);if(o){const u=o.target;if(fm(u))if(r===0){const f=new yt(u.path);this.et(n,f,fn.newNoDocument(f,St.min()))}else Wt(r===1,20013,{expectedCount:r});else{const f=this._t(n);if(f!==r){const g=this.ut(t),p=g?this.ct(g,t,f):1;if(p!==0){this.it(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,_)}}}}}ut(t){const n=t.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:u=0}=n;let f,g;try{f=_r(r).toUint8Array()}catch(p){if(p instanceof Ub)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{g=new Zm(f,o,u)}catch(p){return go(p instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return g.ge===0?null:g}ct(t,n,r){return n.Ce.count===r-this.Pt(t,n.targetId)?0:2}Pt(t,n){const r=this.Ge.getRemoteKeysForTarget(n);let o=0;return r.forEach((u=>{const f=this.Ge.ht(),g=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;t.mightContain(g)||(this.et(n,u,null),o++)})),o}Tt(t){const n=new Map;this.ze.forEach(((u,f)=>{const g=this.ot(f);if(g){if(u.current&&fm(g.target)){const p=new yt(g.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,fn.newNoDocument(p,t))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let r=Bt();this.He.forEach(((u,f)=>{let g=!0;f.forEachWhile((p=>{const _=this.ot(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(t)));const o=new xh(t,n,this.Ye,this.je,r);return this.je=Ts(),this.Je=Vc(),this.He=Vc(),this.Ye=new Ee(zt),o}Xe(t,n){if(!this.rt(t))return;const r=this.Et(t,n.key)?2:0;this.nt(t).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(t)),this.He=this.He.insert(n.key,this.dt(n.key).add(t))}et(t,n,r){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(t)),this.He=this.He.insert(n,this.dt(n).add(t)),r&&(this.je=this.je.insert(n,r))}removeTarget(t){this.ze.delete(t)}_t(t){const n=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let n=this.ze.get(t);return n||(n=new W0,this.ze.set(t,n)),n}dt(t){let n=this.He.get(t);return n||(n=new Ge(zt),this.He=this.He.insert(t,n)),n}It(t){let n=this.Je.get(t);return n||(n=new Ge(zt),this.Je=this.Je.insert(t,n)),n}rt(t){const n=this.ot(t)!==null;return n||ht("WatchChangeAggregator","Detected inactive target",t),n}ot(t){const n=this.ze.get(t);return n&&n.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new W0),this.Ge.getRemoteKeysForTarget(t).forEach((n=>{this.et(t,n,null)}))}Et(t,n){return this.Ge.getRemoteKeysForTarget(t).has(n)}}function Vc(){return new Ee(yt.comparator)}function tv(){return new Ee(yt.comparator)}const uR={asc:"ASCENDING",desc:"DESCENDING"},cR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hR={and:"AND",or:"OR"};class fR{constructor(t,n){this.databaseId=t,this.useProto3Json=n}}function mm(s,t){return s.useProto3Json||vh(t)?t:{value:t}}function uh(s,t){return s.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fE(s,t){return s.useProto3Json?t.toBase64():t.toUint8Array()}function dR(s,t){return uh(s,t.toTimestamp())}function Hi(s){return Wt(!!s,49232),St.fromTimestamp((function(n){const r=yr(n);return new ye(r.seconds,r.nanos)})(s))}function Jm(s,t){return gm(s,t).canonicalString()}function gm(s,t){const n=(function(o){return new pe(["projects",o.projectId,"databases",o.database])})(s).child("documents");return t===void 0?n:n.child(t)}function dE(s){const t=pe.fromString(s);return Wt(_E(t),10190,{key:t.toString()}),t}function pm(s,t){return Jm(s.databaseId,t.path)}function Fd(s,t){const n=dE(t);if(n.get(1)!==s.databaseId.projectId)throw new gt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+s.databaseId.projectId);if(n.get(3)!==s.databaseId.database)throw new gt(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+s.databaseId.database);return new yt(gE(n))}function mE(s,t){return Jm(s.databaseId,t)}function mR(s){const t=dE(s);return t.length===4?pe.emptyPath():gE(t)}function ym(s){return new pe(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function gE(s){return Wt(s.length>4&&s.get(4)==="documents",29091,{key:s.toString()}),s.popFirst(5)}function ev(s,t,n){return{name:pm(s,t),fields:n.value.mapValue.fields}}function gR(s,t){let n;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],u=(function(_,T){return _.useProto3Json?(Wt(T===void 0||typeof T=="string",58123),on.fromBase64String(T||"")):(Wt(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),on.fromUint8Array(T||new Uint8Array))})(s,t.targetChange.resumeToken),f=t.targetChange.cause,g=f&&(function(_){const T=_.code===void 0?tt.UNKNOWN:uE(_.code);return new gt(T,_.message||"")})(f);n=new hE(r,o,u,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const o=Fd(s,r.document.name),u=Hi(r.document.updateTime),f=r.document.createTime?Hi(r.document.createTime):St.min(),g=new Zn({mapValue:{fields:r.document.fields}}),p=fn.newFoundDocument(o,u,f,g),_=r.targetIds||[],T=r.removedTargetIds||[];n=new Kc(_,T,p.key,p)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const o=Fd(s,r.document),u=r.readTime?Hi(r.readTime):St.min(),f=fn.newNoDocument(o,u),g=r.removedTargetIds||[];n=new Kc([],g,f.key,f)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const o=Fd(s,r.document),u=r.removedTargetIds||[];n=new Kc([],u,o,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:o=0,unchangedNames:u}=r,f=new sR(o,u),g=r.targetId;n=new cE(g,f)}}return n}function pR(s,t){let n;if(t instanceof eu)n={update:ev(s,t.key,t.value)};else if(t instanceof Xm)n={delete:pm(s,t.key)};else if(t instanceof ca)n={update:ev(s,t.key,t.data),updateMask:AR(t.fieldMask)};else{if(!(t instanceof eR))return vt(16599,{Vt:t.type});n={verify:pm(s,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((r=>(function(u,f){const g=f.transform;if(g instanceof Ql)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Kl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Yl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof lh)return{fieldPath:f.field.canonicalString(),increment:g.Ae};throw vt(20930,{transform:f.transform})})(0,r)))),t.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:dR(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:vt(27497)})(s,t.precondition)),n}function yR(s,t){return s&&s.length>0?(Wt(t!==void 0,14353),s.map((n=>(function(o,u){let f=o.updateTime?Hi(o.updateTime):Hi(u);return f.isEqual(St.min())&&(f=Hi(u)),new Jx(f,o.transformResults||[])})(n,t)))):[]}function _R(s,t){return{documents:[mE(s,t.path)]}}function vR(s,t){const n={structuredQuery:{}},r=t.path;let o;t.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=mE(s,o);const u=(function(_){if(_.length!==0)return yE(Ki.create(_,"and"))})(t.filters);u&&(n.structuredQuery.where=u);const f=(function(_){if(_.length!==0)return _.map((T=>(function(O){return{field:so(O.field),direction:TR(O.dir)}})(T)))})(t.orderBy);f&&(n.structuredQuery.orderBy=f);const g=mm(s,t.limit);return g!==null&&(n.structuredQuery.limit=g),t.startAt&&(n.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(n.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:n,parent:o}}function bR(s){let t=mR(s.parent);const n=s.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){Wt(r===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:t=t.child(T.collectionId)}let u=[];n.where&&(u=(function(R){const O=pE(R);return O instanceof Ki&&Qb(O)?O.getFilters():[O]})(n.where));let f=[];n.orderBy&&(f=(function(R){return R.map((O=>(function(Q){return new oh(ro(Q.field),(function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(O)))})(n.orderBy));let g=null;n.limit&&(g=(function(R){let O;return O=typeof R=="object"?R.value:R,vh(O)?null:O})(n.limit));let p=null;n.startAt&&(p=(function(R){const O=!!R.before,q=R.values||[];return new ah(q,O)})(n.startAt));let _=null;return n.endAt&&(_=(function(R){const O=!R.before,q=R.values||[];return new ah(q,O)})(n.endAt)),jx(t,o,f,u,g,"F",p,_)}function ER(s,t){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:o})}})(t.purpose);return n==null?null:{"goog-listen-tags":n}}function pE(s){return s.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ro(n.unaryFilter.field);return Fe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=ro(n.unaryFilter.field);return Fe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ro(n.unaryFilter.field);return Fe.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ro(n.unaryFilter.field);return Fe.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(s):s.fieldFilter!==void 0?(function(n){return Fe.create(ro(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(s):s.compositeFilter!==void 0?(function(n){return Ki.create(n.compositeFilter.filters.map((r=>pE(r))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(n.compositeFilter.op))})(s):vt(30097,{filter:s})}function TR(s){return uR[s]}function SR(s){return cR[s]}function wR(s){return hR[s]}function so(s){return{fieldPath:s.canonicalString()}}function ro(s){return rn.fromServerFormat(s.fieldPath)}function yE(s){return s instanceof Fe?(function(n){if(n.op==="=="){if(q0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(B0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(q0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(B0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:SR(n.op),value:n.value}}})(s):s instanceof Ki?(function(n){const r=n.getFilters().map((o=>yE(o)));return r.length===1?r[0]:{compositeFilter:{op:wR(n.op),filters:r}}})(s):vt(54877,{filter:s})}function AR(s){const t=[];return s.fields.forEach((n=>t.push(n.canonicalString()))),{fieldPaths:t}}function _E(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(t,n,r,o,u=St.min(),f=St.min(),g=on.EMPTY_BYTE_STRING,p=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=g,this.expectedCount=p}withSequenceNumber(t){return new lr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(t){this.yt=t}}function RR(s){const t=bR({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?dm(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(){this.Cn=new IR}addToCollectionParentIndex(t,n){return this.Cn.add(n),J.resolve()}getCollectionParents(t,n){return J.resolve(this.Cn.getEntries(n))}addFieldIndex(t,n){return J.resolve()}deleteFieldIndex(t,n){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,n){return J.resolve()}getDocumentsMatchingTarget(t,n){return J.resolve(null)}getIndexType(t,n){return J.resolve(0)}getFieldIndexes(t,n){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,n){return J.resolve(pr.min())}getMinOffsetFromCollectionGroup(t,n){return J.resolve(pr.min())}updateCollectionGroup(t,n,r){return J.resolve()}updateIndexEntries(t,n){return J.resolve()}}class IR{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n]||new Ge(pe.comparator),u=!o.has(r);return this.index[n]=o.add(r),u}has(t){const n=t.lastSegment(),r=t.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(t){return(this.index[t]||new Ge(pe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vE=41943040;class xn{static withCacheSize(t){return new xn(t,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,n,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */xn.DEFAULT_COLLECTION_PERCENTILE=10,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xn.DEFAULT=new xn(vE,xn.DEFAULT_COLLECTION_PERCENTILE,xn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xn.DISABLED=new xn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new vo(0)}static cr(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iv="LruGarbageCollector",NR=1048576;function sv([s,t],[n,r]){const o=zt(s,n);return o===0?zt(t,r):o}class DR{constructor(t){this.Ir=t,this.buffer=new Ge(sv),this.Er=0}dr(){return++this.Er}Ar(t){const n=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();sv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class OR{constructor(t,n,r){this.garbageCollector=t,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ht(iv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){wo(n)?ht(iv,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.Vr(3e5)}))}}class MR{constructor(t,n){this.mr=t,this.params=n}calculateTargetCount(t,n){return this.mr.gr(t).next((r=>Math.floor(n/100*r)))}nthSequenceNumber(t,n){if(n===0)return J.resolve(_h.ce);const r=new DR(n);return this.mr.forEachTarget(t,(o=>r.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>r.Ar(o))))).next((()=>r.maxValue))}removeTargets(t,n,r){return this.mr.removeTargets(t,n,r)}removeOrphanedDocuments(t,n){return this.mr.removeOrphanedDocuments(t,n)}collect(t,n){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(nv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nv):this.yr(t,n)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,n){let r,o,u,f,g,p,_;const T=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),o=this.params.maximumSequenceNumbersToCollect):o=R,f=Date.now(),this.nthSequenceNumber(t,o)))).next((R=>(r=R,g=Date.now(),this.removeTargets(t,r,n)))).next((R=>(u=R,p=Date.now(),this.removeOrphanedDocuments(t,r)))).next((R=>(_=Date.now(),no()<=Pt.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(g-f)+`ms
	Removed ${u} targets in `+(p-g)+`ms
	Removed ${R} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:R}))))}}function VR(s,t){return new MR(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(){this.changes=new ua((t=>t.toString()),((t,n)=>t.isEqual(n))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,fn.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?J.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,n,r,o){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next((o=>(r=o,this.remoteDocumentCache.getEntry(t,n)))).next((o=>(r!==null&&jl(r.mutation,o,fi.empty(),ye.now()),o)))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.getLocalViewOfDocuments(t,r,Bt()).next((()=>r))))}getLocalViewOfDocuments(t,n,r=Bt()){const o=Jr();return this.populateOverlays(t,o,n).next((()=>this.computeViews(t,n,o,r).next((u=>{let f=Il();return u.forEach(((g,p)=>{f=f.insert(g,p.overlayedDocument)})),f}))))}getOverlayedDocuments(t,n){const r=Jr();return this.populateOverlays(t,r,n).next((()=>this.computeViews(t,n,r,Bt())))}populateOverlays(t,n,r){const o=[];return r.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(t,o).next((u=>{u.forEach(((f,g)=>{n.set(f,g)}))}))}computeViews(t,n,r,o){let u=Ts();const f=Ul(),g=(function(){return Ul()})();return n.forEach(((p,_)=>{const T=r.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof ca)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),jl(T.mutation,_,T.mutation.getFieldMask(),ye.now())):f.set(_.key,fi.empty())})),this.recalculateAndSaveOverlays(t,u).next((p=>(p.forEach(((_,T)=>f.set(_,T))),n.forEach(((_,T)=>g.set(_,new UR(T,f.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,n){const r=Ul();let o=new Ee(((f,g)=>f-g)),u=Bt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next((f=>{for(const g of f)g.keys().forEach((p=>{const _=n.get(p);if(_===null)return;let T=r.get(p)||fi.empty();T=g.applyToLocalView(_,T),r.set(p,T);const R=(o.get(g.batchId)||Bt()).add(p);o=o.insert(g.batchId,R)}))})).next((()=>{const f=[],g=o.getReverseIterator();for(;g.hasNext();){const p=g.getNext(),_=p.key,T=p.value,R=eE();T.forEach((O=>{if(!u.has(O)){const q=oE(n.get(O),r.get(O));q!==null&&R.set(O,q),u=u.add(O)}})),f.push(this.documentOverlayCache.saveOverlays(t,_,R))}return J.waitFor(f)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,n,r,o){return(function(f){return yt.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):Lx(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r,o):this.getDocumentsMatchingCollectionQuery(t,n,r,o)}getNextDocuments(t,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,o-u.size):J.resolve(Jr());let g=ql,p=u;return f.next((_=>J.forEach(_,((T,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),u.get(T)?J.resolve():this.remoteDocumentCache.getEntry(t,T).next((O=>{p=p.insert(T,O)}))))).next((()=>this.populateOverlays(t,_,u))).next((()=>this.computeViews(t,p,_,Bt()))).next((T=>({batchId:g,changes:tE(T)})))))}))}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new yt(n)).next((r=>{let o=Il();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o}))}getDocumentsMatchingCollectionGroupQuery(t,n,r,o){const u=n.collectionGroup;let f=Il();return this.indexManager.getCollectionParents(t,u).next((g=>J.forEach(g,(p=>{const _=(function(R,O){return new Eh(O,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(t,_,r,o).next((T=>{T.forEach(((R,O)=>{f=f.insert(R,O)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(t,n,r,o){let u;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,u,o)))).next((f=>{u.forEach(((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,fn.newInvalidDocument(T)))}));let g=Il();return f.forEach(((p,_)=>{const T=u.get(p);T!==void 0&&jl(T.mutation,_,fi.empty(),ye.now()),Sh(n,_)&&(g=g.insert(p,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,n){return J.resolve(this.Lr.get(n))}saveBundleMetadata(t,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:Hi(o.createTime)}})(n)),J.resolve()}getNamedQuery(t,n){return J.resolve(this.kr.get(n))}saveNamedQuery(t,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:RR(o.bundledQuery),readTime:Hi(o.readTime)}})(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.overlays=new Ee(yt.comparator),this.qr=new Map}getOverlay(t,n){return J.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Jr();return J.forEach(n,(o=>this.getOverlay(t,o).next((u=>{u!==null&&r.set(o,u)})))).next((()=>r))}saveOverlays(t,n,r){return r.forEach(((o,u)=>{this.St(t,n,u)})),J.resolve()}removeOverlaysForBatchId(t,n,r){const o=this.qr.get(r);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(r)),J.resolve()}getOverlaysForCollection(t,n,r){const o=Jr(),u=n.length+1,f=new yt(n.child("")),g=this.overlays.getIteratorFrom(f);for(;g.hasNext();){const p=g.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>r&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(t,n,r,o){let u=new Ee(((_,T)=>_-T));const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>r){let T=u.get(_.largestBatchId);T===null&&(T=Jr(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const g=Jr(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((_,T)=>g.set(_,T))),!(g.size()>=o)););return J.resolve(g)}St(t,n,r){const o=this.overlays.get(r.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(r.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(r.key,new iR(n,r));let u=this.qr.get(n);u===void 0&&(u=Bt(),this.qr.set(n,u)),this.qr.set(n,u.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Qr=new Ge($e.$r),this.Ur=new Ge($e.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,n){const r=new $e(t,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,n){t.forEach((r=>this.addReference(r,n)))}removeReference(t,n){this.Gr(new $e(t,n))}zr(t,n){t.forEach((r=>this.removeReference(r,n)))}jr(t){const n=new yt(new pe([])),r=new $e(n,t),o=new $e(n,t+1),u=[];return this.Ur.forEachInRange([r,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const n=new yt(new pe([])),r=new $e(n,t),o=new $e(n,t+1);let u=Bt();return this.Ur.forEachInRange([r,o],(f=>{u=u.add(f.key)})),u}containsKey(t){const n=new $e(t,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}}class $e{constructor(t,n){this.key=t,this.Yr=n}static $r(t,n){return yt.comparator(t.key,n.key)||zt(t.Yr,n.Yr)}static Kr(t,n){return zt(t.Yr,n.Yr)||yt.comparator(t.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ge($e.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new nR(u,n,r,o);this.mutationQueue.push(f);for(const g of o)this.Zr=this.Zr.add(new $e(g.key,u)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(f)}lookupMutationBatch(t,n){return J.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,o=this.ei(r),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new $e(n,0),o=new $e(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([r,o],(f=>{const g=this.Xr(f.Yr);u.push(g)})),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Ge(zt);return n.forEach((o=>{const u=new $e(o,0),f=new $e(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(g=>{r=r.add(g.Yr)}))})),J.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,o=r.length+1;let u=r;yt.isDocumentKey(u)||(u=u.child(""));const f=new $e(new yt(u),0);let g=new Ge(zt);return this.Zr.forEachWhile((p=>{const _=p.key.path;return!!r.isPrefixOf(_)&&(_.length===o&&(g=g.add(p.Yr)),!0)}),f),J.resolve(this.ti(g))}ti(t){const n=[];return t.forEach((r=>{const o=this.Xr(r);o!==null&&n.push(o)})),n}removeMutationBatch(t,n){Wt(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return J.forEach(n.mutations,(o=>{const u=new $e(o.key,n.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,n){const r=new $e(n,0),o=this.Zr.firstAfterOrEqual(r);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,n){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const n=this.ei(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(t){this.ri=t,this.docs=(function(){return new Ee(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,o=this.docs.get(r),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return J.resolve(r?r.document.mutableCopy():fn.newInvalidDocument(n))}getEntries(t,n){let r=Ts();return n.forEach((o=>{const u=this.docs.get(o);r=r.insert(o,u?u.document.mutableCopy():fn.newInvalidDocument(o))})),J.resolve(r)}getDocumentsMatchingQuery(t,n,r,o){let u=Ts();const f=n.path,g=new yt(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(g);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||gx(mx(T),r)<=0||(o.has(T.key)||Sh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(t,n,r,o){vt(9500)}ii(t,n){return J.forEach(this.docs,(r=>n(r)))}newChangeBuffer(t){return new HR(this)}getSize(t){return J.resolve(this.size)}}class HR extends kR{constructor(t){super(),this.Nr=t}applyChanges(t){const n=[];return this.changes.forEach(((r,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(r)})),J.waitFor(n)}getFromCache(t,n){return this.Nr.getEntry(t,n)}getAllFromCache(t,n){return this.Nr.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(t){this.persistence=t,this.si=new ua((n=>Qm(n)),Km),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=vo.ur()}forEachTarget(t,n){return this.si.forEach(((r,o)=>n(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),J.resolve()}Pr(t){this.si.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.ai=new vo(n),this.highestTargetId=n),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,n){return this.Pr(n),this.targetCount+=1,J.resolve()}updateTargetData(t,n){return this.Pr(n),J.resolve()}removeTargetData(t,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,n,r){let o=0;const u=[];return this.si.forEach(((f,g)=>{g.sequenceNumber<=n&&r.get(g.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),J.waitFor(u).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,n){const r=this.si.get(n)||null;return J.resolve(r)}addMatchingKeys(t,n,r){return this._i.Wr(n,r),J.resolve()}removeMatchingKeys(t,n,r){this._i.zr(n,r);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(t,f))})),J.waitFor(u)}removeMatchingKeysForTargetId(t,n){return this._i.jr(n),J.resolve()}getMatchingKeysForTargetId(t,n){const r=this._i.Hr(n);return J.resolve(r)}containsKey(t,n){return J.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(t,n){this.ui={},this.overlays={},this.ci=new _h(0),this.li=!1,this.li=!0,this.hi=new zR,this.referenceDelegate=t(this),this.Pi=new FR(this),this.indexManager=new CR,this.remoteDocumentCache=(function(o){return new qR(o)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new xR(n),this.Ii=new LR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new PR,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.ui[t.toKey()];return r||(r=new BR(n,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,n,r){ht("MemoryPersistence","Starting transaction:",t);const o=new GR(this.ci.next());return this.referenceDelegate.Ei(),r(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(t,n){return J.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,n))))}}class GR extends yx{constructor(t){super(),this.currentSequenceNumber=t}}class tg{constructor(t){this.persistence=t,this.Ri=new Wm,this.Vi=null}static mi(t){return new tg(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),J.resolve()}removeReference(t,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),J.resolve()}markPotentiallyOrphaned(t,n){return this.fi.add(n.toString()),J.resolve()}removeTarget(t,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>r.removeTargetData(t,n)))}Ei(){this.Vi=new Set}di(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(r=>{const o=yt.fromPath(r);return this.gi(t,o).next((u=>{u||n.removeEntry(o,St.min())}))})).next((()=>(this.Vi=null,n.apply(t))))}updateLimboDocument(t,n){return this.gi(t,n).next((r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(t){return 0}gi(t,n){return J.or([()=>J.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Ai(t,n)])}}class ch{constructor(t,n){this.persistence=t,this.pi=new ua((r=>bx(r.path)),((r,o)=>r.isEqual(o))),this.garbageCollector=VR(this,n)}static mi(t,n){return new ch(t,n)}Ei(){}di(t){return J.resolve()}forEachTarget(t,n){return this.persistence.getTargetCache().forEachTarget(t,n)}gr(t){const n=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>n.next((o=>r+o))))}wr(t){let n=0;return this.pr(t,(r=>{n++})).next((()=>n))}pr(t,n){return J.forEach(this.pi,((r,o)=>this.br(t,r,o).next((u=>u?J.resolve():n(o)))))}removeTargets(t,n,r){return this.persistence.getTargetCache().removeTargets(t,n,r)}removeOrphanedDocuments(t,n){let r=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(t,(f=>this.br(t,f,n).next((g=>{g||(r++,u.removeEntry(f,St.min()))})))).next((()=>u.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}removeTarget(t,n){const r=n.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}removeReference(t,n,r){return this.pi.set(r,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,n){return this.pi.set(n,t.currentSequenceNumber),J.resolve()}Ti(t){let n=t.key.toString().length;return t.isFoundDocument()&&(n+=Fc(t.data.value)),n}br(t,n,r){return J.or([()=>this.persistence.Ai(t,n),()=>this.persistence.getTargetCache().containsKey(t,n),()=>{const o=this.pi.get(n);return J.resolve(o!==void 0&&o>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(t,n,r,o){this.targetId=t,this.fromCache=n,this.Es=r,this.ds=o}static As(t,n){let r=Bt(),o=Bt();for(const u of n.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(t,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return LS()?8:_x(dn())>0?6:4})()}initialize(t,n){this.ps=t,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(t,n,r,o){const u={result:null};return this.ys(t,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(t,n,o,r).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new QR;return this.Ss(t,n,f).next((g=>{if(u.result=g,this.Vs)return this.bs(t,n,f,g.size)}))})).next((()=>u.result))}bs(t,n,r,o){return r.documentReadCount<this.fs?(no()<=Pt.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(no()<=Pt.DEBUG&&ht("QueryEngine","Query:",io(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.gs*o?(no()<=Pt.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Bi(n))):J.resolve())}ys(t,n){if(Q0(n))return J.resolve(null);let r=Bi(n);return this.indexManager.getIndexType(t,r).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=dm(n,null,"F"),r=Bi(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next((u=>{const f=Bt(...u);return this.ps.getDocuments(t,f).next((g=>this.indexManager.getMinOffset(t,r).next((p=>{const _=this.Ds(n,g);return this.Cs(n,_,f,p.readTime)?this.ys(t,dm(n,null,"F")):this.vs(t,_,n,p)}))))})))))}ws(t,n,r,o){return Q0(n)||o.isEqual(St.min())?J.resolve(null):this.ps.getDocuments(t,r).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,r,o)?J.resolve(null):(no()<=Pt.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.vs(t,f,n,dx(o,ql)).next((g=>g)))}))}Ds(t,n){let r=new Ge(Jb(t));return n.forEach(((o,u)=>{Sh(t,u)&&(r=r.add(u))})),r}Cs(t,n,r,o){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const u=t.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(t,n,r){return no()<=Pt.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",io(n)),this.ps.getDocumentsMatchingQuery(t,n,pr.min(),r)}vs(t,n,r,o){return this.ps.getDocumentsMatchingQuery(t,r,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ng="LocalStore",YR=3e8;class XR{constructor(t,n,r,o){this.persistence=t,this.Fs=n,this.serializer=o,this.Ms=new Ee(zt),this.xs=new ua((u=>Qm(u)),Km),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new jR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>t.collect(n,this.Ms)))}}function $R(s,t,n,r){return new XR(s,t,n,r)}async function EE(s,t){const n=xt(s);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next((u=>(o=u,n.Bs(t),n.mutationQueue.getAllMutationBatches(r)))).next((u=>{const f=[],g=[];let p=Bt();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){g.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(r,p).next((_=>({Ls:_,removedBatchIds:f,addedBatchIds:g})))}))}))}function ZR(s,t){const n=xt(s);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const o=t.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,p,_,T){const R=_.batch,O=R.keys();let q=J.resolve();return O.forEach((Q=>{q=q.next((()=>T.getEntry(p,Q))).next((W=>{const K=_.docVersions.get(Q);Wt(K!==null,48541),W.version.compareTo(K)<0&&(R.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),T.addEntry(W)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(p,R)))})(n,r,t,u).next((()=>u.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let p=Bt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(p=p.add(g.batch.mutations[_].key));return p})(t)))).next((()=>n.localDocuments.getDocuments(r,o)))}))}function TE(s){const t=xt(s);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>t.Pi.getLastRemoteSnapshotVersion(n)))}function JR(s,t){const n=xt(s),r=t.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const g=[];t.targetChanges.forEach(((T,R)=>{const O=o.get(R);if(!O)return;g.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,R).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,R))));let q=O.withSequenceNumber(u.currentSequenceNumber);t.targetMismatches.get(R)!==null?q=q.withResumeToken(on.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):T.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(T.resumeToken,r)),o=o.insert(R,q),(function(W,K,it){return W.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=YR?!0:it.addedDocuments.size+it.modifiedDocuments.size+it.removedDocuments.size>0})(O,q,T)&&g.push(n.Pi.updateTargetData(u,q))}));let p=Ts(),_=Bt();if(t.documentUpdates.forEach((T=>{t.resolvedLimboDocuments.has(T)&&g.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),g.push(WR(u,f,t.documentUpdates).next((T=>{p=T.ks,_=T.qs}))),!r.isEqual(St.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((R=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,r)));g.push(T)}return J.waitFor(g).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,_))).next((()=>p))})).then((u=>(n.Ms=o,u)))}function WR(s,t,n){let r=Bt(),o=Bt();return n.forEach((u=>r=r.add(u))),t.getEntries(s,r).next((u=>{let f=Ts();return n.forEach(((g,p)=>{const _=u.get(g);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),p.isNoDocument()&&p.version.isEqual(St.min())?(t.removeEntry(g,p.readTime),f=f.insert(g,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(p),f=f.insert(g,p)):ht(ng,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",p.version)})),{ks:f,qs:o}}))}function tC(s,t){const n=xt(s);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Hm),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function eC(s,t){const n=xt(s);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let o;return n.Pi.getTargetData(r,t).next((u=>u?(o=u,J.resolve(o)):n.Pi.allocateTargetId(r).next((f=>(o=new lr(t,f,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,o).next((()=>o)))))))})).then((r=>{const o=n.Ms.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(t,r.targetId)),r}))}async function _m(s,t,n){const r=xt(s),o=r.Ms.get(t),u=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",u,(f=>r.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!wo(f))throw f;ht(ng,`Failed to update sequence numbers for target ${t}: ${f}`)}r.Ms=r.Ms.remove(t),r.xs.delete(o.target)}function rv(s,t,n){const r=xt(s);let o=St.min(),u=Bt();return r.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,_,T){const R=xt(p),O=R.xs.get(T);return O!==void 0?J.resolve(R.Ms.get(O)):R.Pi.getTargetData(_,T)})(r,f,Bi(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(f,g.targetId).next((p=>{u=p}))})).next((()=>r.Fs.getDocumentsMatchingQuery(f,t,n?o:St.min(),n?u:Bt()))).next((g=>(nC(r,zx(t),g),{documents:g,Qs:u})))))}function nC(s,t,n){let r=s.Os.get(t)||St.min();n.forEach(((o,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)})),s.Os.set(t,r)}class av{constructor(){this.activeTargetIds=Qx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class iC{constructor(){this.Mo=new av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t,n=!0){return n&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,n,r){this.xo[t]=n}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new av,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov="ConnectivityMonitor";class lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(ov,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ht(ov,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function vm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="RestConnection",rC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+t.host,this.Ko=`projects/${r}/databases/${o}`,this.Wo=this.databaseId.database===sh?`project_id=${r}`:`project_id=${r}&database_id=${o}`}Go(t,n,r,o,u){const f=vm(),g=this.zo(t,n.toUriEncodedString());ht(Gd,`Sending RPC '${t}' ${f}:`,g,r);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,o,u);const{host:_}=new URL(g),T=Tr(_);return this.Jo(t,g,p,r,T).then((R=>(ht(Gd,`Received RPC '${t}' ${f}: `,R),R)),(R=>{throw go(Gd,`RPC '${t}' ${f} failed with error: `,R,"url: ",g,"request:",r),R}))}Ho(t,n,r,o,u,f){return this.Go(t,n,r,o,u)}jo(t,n,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+To})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>t[u]=o)),r&&r.headers.forEach(((o,u)=>t[u]=o))}zo(t,n){const r=rC[t];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class lC extends aC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,n,r,o,u){const f=vm();return new Promise(((g,p)=>{const _=new Ab;_.setWithCredentials(!0),_.listenOnce(xb.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const R=_.getResponseJson();ht(cn,`XHR for RPC '${t}' ${f} received:`,JSON.stringify(R)),g(R);break;case Hc.TIMEOUT:ht(cn,`RPC '${t}' ${f} timed out`),p(new gt(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const O=_.getStatus();if(ht(cn,`RPC '${t}' ${f} failed with status:`,O,"response text:",_.getResponseText()),O>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const Q=q==null?void 0:q.error;if(Q&&Q.status&&Q.message){const W=(function(it){const st=it.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(st)>=0?st:tt.UNKNOWN})(Q.status);p(new gt(W,Q.message))}else p(new gt(tt.UNKNOWN,"Server responded with status "+_.getStatus()))}else p(new gt(tt.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:f,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ht(cn,`RPC '${t}' ${f} completed.`)}}));const T=JSON.stringify(o);ht(cn,`RPC '${t}' ${f} sending request:`,o),_.send(n,"POST",T,r,15)}))}T_(t,n,r){const o=vm(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],f=Ib(),g=Cb(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,r),p.encodeInitMessageHeaders=!0;const T=u.join("");ht(cn,`Creating RPC '${t}' stream ${o}: ${T}`,p);const R=f.createWebChannel(T,p);this.I_(R);let O=!1,q=!1;const Q=new oC({Yo:K=>{q?ht(cn,`Not sending because RPC '${t}' stream ${o} is closed:`,K):(O||(ht(cn,`Opening RPC '${t}' stream ${o} transport.`),R.open(),O=!0),ht(cn,`RPC '${t}' stream ${o} sending:`,K),R.send(K))},Zo:()=>R.close()}),W=(K,it,st)=>{K.listen(it,(et=>{try{st(et)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return W(R,Cl.EventType.OPEN,(()=>{q||(ht(cn,`RPC '${t}' stream ${o} transport opened.`),Q.o_())})),W(R,Cl.EventType.CLOSE,(()=>{q||(q=!0,ht(cn,`RPC '${t}' stream ${o} transport closed`),Q.a_(),this.E_(R))})),W(R,Cl.EventType.ERROR,(K=>{q||(q=!0,go(cn,`RPC '${t}' stream ${o} transport errored. Name:`,K.name,"Message:",K.message),Q.a_(new gt(tt.UNAVAILABLE,"The operation could not be completed")))})),W(R,Cl.EventType.MESSAGE,(K=>{var it;if(!q){const st=K.data[0];Wt(!!st,16349);const et=st,nt=(et==null?void 0:et.error)||((it=et[0])==null?void 0:it.error);if(nt){ht(cn,`RPC '${t}' stream ${o} received error:`,nt);const ut=nt.status;let z=(function(C){const A=ze[C];if(A!==void 0)return uE(A)})(ut),x=nt.message;z===void 0&&(z=tt.INTERNAL,x="Unknown error status: "+ut+" with message "+nt.message),q=!0,Q.a_(new gt(z,x)),R.close()}else ht(cn,`RPC '${t}' stream ${o} received:`,st),Q.u_(st)}})),W(g,Rb.STAT_EVENT,(K=>{K.stat===om.PROXY?ht(cn,`RPC '${t}' stream ${o} detected buffering proxy`):K.stat===om.NOPROXY&&ht(cn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{Q.__()}),0),Q}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((n=>n===t))}}function Qd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rh(s){return new fR(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,n,r=1e3,o=1.5,u=6e4){this.Mi=t,this.timerId=n,this.d_=r,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-r);o>0&&ht("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="PersistentStream";class wE{constructor(t,n,r,o,u,f,g,p){this.Mi=t,this.S_=r,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=g,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SE(t,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():n&&n.code===tt.RESOURCE_EXHAUSTED?(Es(n.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(n)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,o])=>{this.D_===n&&this.G_(r,o)}),(r=>{t((()=>{const o=new gt(tt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(o)}))}))}G_(t,n){const r=this.W_(this.D_);this.stream=this.j_(t,n),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{r((()=>this.z_(o)))})),this.stream.onMessage((o=>{r((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ht(uv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return n=>{this.Mi.enqueueAndForget((()=>this.D_===t?n():(ht(uv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uC extends wE{constructor(t,n,r,o,u,f){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}j_(t,n){return this.connection.T_("Listen",t,n)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const n=gR(this.serializer,t),r=(function(u){if(!("targetChange"in u))return St.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?St.min():f.readTime?Hi(f.readTime):St.min()})(t);return this.listener.H_(n,r)}Y_(t){const n={};n.database=ym(this.serializer),n.addTarget=(function(u,f){let g;const p=f.target;if(g=fm(p)?{documents:_R(u,p)}:{query:vR(u,p).ft},g.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){g.resumeToken=fE(u,f.resumeToken);const _=mm(u,f.expectedCount);_!==null&&(g.expectedCount=_)}else if(f.snapshotVersion.compareTo(St.min())>0){g.readTime=uh(u,f.snapshotVersion.toTimestamp());const _=mm(u,f.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=ER(this.serializer,t);r&&(n.labels=r),this.q_(n)}Z_(t){const n={};n.database=ym(this.serializer),n.removeTarget=t,this.q_(n)}}class cC extends wE{constructor(t,n,r,o,u,f){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,n){return this.connection.T_("Write",t,n)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const n=yR(t.writeResults,t.commitTime),r=Hi(t.commitTime);return this.listener.na(r,n)}ra(){const t={};t.database=ym(this.serializer),this.q_(t)}ea(t){const n={streamToken:this.lastStreamToken,writes:t.map((r=>pR(this.serializer,r)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{}class fC extends hC{constructor(t,n,r,o){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new gt(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,n,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(t,gm(n,r),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new gt(tt.UNKNOWN,u.toString())}))}Ho(t,n,r,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,g])=>this.connection.Ho(t,gm(n,r),o,f,g,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new gt(tt.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dC{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(n),this.aa=!1):ht("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="RemoteStore";class mC{constructor(t,n,r,o,u){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{r.enqueueAndForget((async()=>{ha(this)&&(ht(ra,"Restarting streams for network reachability change."),await(async function(p){const _=xt(p);_.Ea.add(4),await iu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new dC(r,o)}}async function Ch(s){if(ha(s))for(const t of s.da)await t(!0)}async function iu(s){for(const t of s.da)await t(!1)}function AE(s,t){const n=xt(s);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),ag(n)?rg(n):Ao(n).O_()&&sg(n,t))}function ig(s,t){const n=xt(s),r=Ao(n);n.Ia.delete(t),r.O_()&&xE(n,t),n.Ia.size===0&&(r.O_()?r.L_():ha(n)&&n.Ra.set("Unknown"))}function sg(s,t){if(s.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const n=s.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Ao(s).Y_(t)}function xE(s,t){s.Va.Ue(t),Ao(s).Z_(t)}function rg(s){s.Va=new lR({getRemoteKeysForTarget:t=>s.remoteSyncer.getRemoteKeysForTarget(t),At:t=>s.Ia.get(t)||null,ht:()=>s.datastore.serializer.databaseId}),Ao(s).start(),s.Ra.ua()}function ag(s){return ha(s)&&!Ao(s).x_()&&s.Ia.size>0}function ha(s){return xt(s).Ea.size===0}function RE(s){s.Va=void 0}async function gC(s){s.Ra.set("Online")}async function pC(s){s.Ia.forEach(((t,n)=>{sg(s,t)}))}async function yC(s,t){RE(s),ag(s)?(s.Ra.ha(t),rg(s)):s.Ra.set("Unknown")}async function _C(s,t,n){if(s.Ra.set("Online"),t instanceof hE&&t.state===2&&t.cause)try{await(async function(o,u){const f=u.cause;for(const g of u.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,f),o.Ia.delete(g),o.Va.removeTarget(g))})(s,t)}catch(r){ht(ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await hh(s,r)}else if(t instanceof Kc?s.Va.Ze(t):t instanceof cE?s.Va.st(t):s.Va.tt(t),!n.isEqual(St.min()))try{const r=await TE(s.localStore);n.compareTo(r)>=0&&await(function(u,f){const g=u.Va.Tt(f);return g.targetChanges.forEach(((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(_);T&&u.Ia.set(_,T.withResumeToken(p.resumeToken,f))}})),g.targetMismatches.forEach(((p,_)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(on.EMPTY_BYTE_STRING,T.snapshotVersion)),xE(u,p);const R=new lr(T.target,p,_,T.sequenceNumber);sg(u,R)})),u.remoteSyncer.applyRemoteEvent(g)})(s,n)}catch(r){ht(ra,"Failed to raise snapshot:",r),await hh(s,r)}}async function hh(s,t,n){if(!wo(t))throw t;s.Ea.add(1),await iu(s),s.Ra.set("Offline"),n||(n=()=>TE(s.localStore)),s.asyncQueue.enqueueRetryable((async()=>{ht(ra,"Retrying IndexedDB access"),await n(),s.Ea.delete(1),await Ch(s)}))}function CE(s,t){return t().catch((n=>hh(s,n,t)))}async function Ih(s){const t=xt(s),n=br(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hm;for(;vC(t);)try{const o=await tC(t.localStore,r);if(o===null){t.Ta.length===0&&n.L_();break}r=o.batchId,bC(t,o)}catch(o){await hh(t,o)}IE(t)&&NE(t)}function vC(s){return ha(s)&&s.Ta.length<10}function bC(s,t){s.Ta.push(t);const n=br(s);n.O_()&&n.X_&&n.ea(t.mutations)}function IE(s){return ha(s)&&!br(s).x_()&&s.Ta.length>0}function NE(s){br(s).start()}async function EC(s){br(s).ra()}async function TC(s){const t=br(s);for(const n of s.Ta)t.ea(n.mutations)}async function SC(s,t,n){const r=s.Ta.shift(),o=$m.from(r,t,n);await CE(s,(()=>s.remoteSyncer.applySuccessfulWrite(o))),await Ih(s)}async function wC(s,t){t&&br(s).X_&&await(async function(r,o){if((function(f){return rR(f)&&f!==tt.ABORTED})(o.code)){const u=r.Ta.shift();br(r).B_(),await CE(r,(()=>r.remoteSyncer.rejectFailedWrite(u.batchId,o))),await Ih(r)}})(s,t),IE(s)&&NE(s)}async function cv(s,t){const n=xt(s);n.asyncQueue.verifyOperationInProgress(),ht(ra,"RemoteStore received new credentials");const r=ha(n);n.Ea.add(3),await iu(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Ch(n)}async function AC(s,t){const n=xt(s);t?(n.Ea.delete(2),await Ch(n)):t||(n.Ea.add(2),await iu(n),n.Ra.set("Unknown"))}function Ao(s){return s.ma||(s.ma=(function(n,r,o){const u=xt(n);return u.sa(),new uC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:gC.bind(null,s),t_:pC.bind(null,s),r_:yC.bind(null,s),H_:_C.bind(null,s)}),s.da.push((async t=>{t?(s.ma.B_(),ag(s)?rg(s):s.Ra.set("Unknown")):(await s.ma.stop(),RE(s))}))),s.ma}function br(s){return s.fa||(s.fa=(function(n,r,o){const u=xt(n);return u.sa(),new cC(r,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(s.datastore,s.asyncQueue,{Xo:()=>Promise.resolve(),t_:EC.bind(null,s),r_:wC.bind(null,s),ta:TC.bind(null,s),na:SC.bind(null,s)}),s.da.push((async t=>{t?(s.fa.B_(),await Ih(s)):(await s.fa.stop(),s.Ta.length>0&&(ht(ra,`Stopping write stream with ${s.Ta.length} pending writes`),s.Ta=[]))}))),s.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n,r,o,u){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=u,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,o,u){const f=Date.now()+r,g=new og(t,n,f,o,u);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lg(s,t){if(Es("AsyncQueue",`${t}: ${s}`),wo(s))return new gt(tt.UNAVAILABLE,`${t}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(t){return new co(t.comparator)}constructor(t){this.comparator=t?(n,r)=>t(n,r)||yt.comparator(n.key,r.key):(n,r)=>yt.comparator(n.key,r.key),this.keyedMap=Il(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((n,r)=>(t(n),!1)))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof co)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=r.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const t=[];return this.forEach((n=>{t.push(n.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new co;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.ga=new Ee(yt.comparator)}track(t){const n=t.doc.key,r=this.ga.get(n);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(n,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(n):t.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(n,t)}ya(){const t=[];return this.ga.inorderTraversal(((n,r)=>{t.push(r)})),t}}class bo{constructor(t,n,r,o,u,f,g,p,_){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=g,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(t,n,r,o,u){const f=[];return n.forEach((g=>{f.push({type:0,doc:g})})),new bo(t,n,co.emptySet(n),f,r,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class RC{constructor(){this.queries=fv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const o=xt(n),u=o.queries;o.queries=fv(),u.forEach(((f,g)=>{for(const p of g.Sa)p.onError(r)}))})(this,new gt(tt.ABORTED,"Firestore shutting down"))}}function fv(){return new ua((s=>Zb(s)),Th)}async function CC(s,t){const n=xt(s);let r=3;const o=t.query;let u=n.queries.get(o);u?!u.ba()&&t.Da()&&(r=2):(u=new xC,r=t.Da()?0:1);try{switch(r){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const g=lg(f,`Initialization of query '${io(t.query)}' failed`);return void t.onError(g)}n.queries.set(o,u),u.Sa.push(t),t.va(n.onlineState),u.wa&&t.Fa(u.wa)&&ug(n)}async function IC(s,t){const n=xt(s),r=t.query;let o=3;const u=n.queries.get(r);if(u){const f=u.Sa.indexOf(t);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=t.Da()?0:1:!u.ba()&&t.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function NC(s,t){const n=xt(s);let r=!1;for(const o of t){const u=o.query,f=n.queries.get(u);if(f){for(const g of f.Sa)g.Fa(o)&&(r=!0);f.wa=o}}r&&ug(n)}function DC(s,t,n){const r=xt(s),o=r.queries.get(t);if(o)for(const u of o.Sa)u.onError(n);r.queries.delete(t)}function ug(s){s.Ca.forEach((t=>{t.next()}))}var bm,dv;(dv=bm||(bm={})).Ma="default",dv.Cache="cache";class OC{constructor(t,n,r){this.query=t,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const o of t.docChanges)o.type!==3&&r.push(o);t=new bo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),n=!0):this.La(t,this.onlineState)&&(this.ka(t),n=!0),this.Na=t,n}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),n=!0),n}La(t,n){if(!t.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(t){t=bo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(t){this.key=t}}class OE{constructor(t){this.key=t}}class MC{constructor(t,n){this.query=t,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Bt(),this.mutatedKeys=Bt(),this.eu=Jb(t),this.tu=new co(this.eu)}get nu(){return this.Ya}ru(t,n){const r=n?n.iu:new hv,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,g=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((T,R)=>{const O=o.get(T),q=Sh(this.query,R)?R:null,Q=!!O&&this.mutatedKeys.has(O.key),W=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let K=!1;O&&q?O.data.isEqual(q.data)?Q!==W&&(r.track({type:3,doc:q}),K=!0):this.su(O,q)||(r.track({type:2,doc:q}),K=!0,(p&&this.eu(q,p)>0||_&&this.eu(q,_)<0)&&(g=!0)):!O&&q?(r.track({type:0,doc:q}),K=!0):O&&!q&&(r.track({type:1,doc:O}),K=!0,(p||_)&&(g=!0)),K&&(q?(f=f.add(q),u=W?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),r.track({type:1,doc:T})}return{tu:f,iu:r,Cs:g,mutatedKeys:u}}su(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r,o){const u=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const f=t.iu.ya();f.sort(((T,R)=>(function(q,Q){const W=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:K})}};return W(q)-W(Q)})(T.type,R.type)||this.eu(T.doc,R.doc))),this.ou(r),o=o??!1;const g=n&&!o?this._u():[],p=this.Xa.size===0&&this.current&&!o?1:0,_=p!==this.Za;return this.Za=p,f.length!==0||_?{snapshot:new bo(this.query,t.tu,u,f,t.mutatedKeys,p===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new hv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),t.modifiedDocuments.forEach((n=>{})),t.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Bt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const n=[];return t.forEach((r=>{this.Xa.has(r)||n.push(new OE(r))})),this.Xa.forEach((r=>{t.has(r)||n.push(new DE(r))})),n}cu(t){this.Ya=t.Qs,this.Xa=Bt();const n=this.ru(t.documents);return this.applyChanges(n,!0)}lu(){return bo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cg="SyncEngine";class VC{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class kC{constructor(t){this.key=t,this.hu=!1}}class UC{constructor(t,n,r,o,u,f){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new ua((g=>Zb(g)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(yt.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=vo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jC(s,t,n=!0){const r=LE(s);let o;const u=r.Tu.get(t);return u?(r.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await ME(r,t,n,!0),o}async function LC(s,t){const n=LE(s);await ME(n,t,!0,!1)}async function ME(s,t,n,r){const o=await eC(s.localStore,Bi(t)),u=o.targetId,f=s.sharedClientState.addLocalQueryTarget(u,n);let g;return r&&(g=await PC(s,t,u,f==="current",o.resumeToken)),s.isPrimaryClient&&n&&AE(s.remoteStore,o),g}async function PC(s,t,n,r,o){s.pu=(R,O,q)=>(async function(W,K,it,st){let et=K.view.ru(it);et.Cs&&(et=await rv(W.localStore,K.query,!1).then((({documents:x})=>K.view.ru(x,et))));const nt=st&&st.targetChanges.get(K.targetId),ut=st&&st.targetMismatches.get(K.targetId)!=null,z=K.view.applyChanges(et,W.isPrimaryClient,nt,ut);return gv(W,K.targetId,z.au),z.snapshot})(s,R,O,q);const u=await rv(s.localStore,t,!0),f=new MC(t,u.Qs),g=f.ru(u.documents),p=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&s.onlineState!=="Offline",o),_=f.applyChanges(g,s.isPrimaryClient,p);gv(s,n,_.au);const T=new VC(t,n,f);return s.Tu.set(t,T),s.Iu.has(n)?s.Iu.get(n).push(t):s.Iu.set(n,[t]),_.snapshot}async function zC(s,t,n){const r=xt(s),o=r.Tu.get(t),u=r.Iu.get(o.targetId);if(u.length>1)return r.Iu.set(o.targetId,u.filter((f=>!Th(f,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await _m(r.localStore,o.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(o.targetId),n&&ig(r.remoteStore,o.targetId),Em(r,o.targetId)})).catch(So)):(Em(r,o.targetId),await _m(r.localStore,o.targetId,!0))}async function BC(s,t){const n=xt(s),r=n.Tu.get(t),o=n.Iu.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ig(n.remoteStore,r.targetId))}async function qC(s,t,n){const r=XC(s);try{const o=await(function(f,g){const p=xt(f),_=ye.now(),T=g.reduce(((q,Q)=>q.add(Q.key)),Bt());let R,O;return p.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Q=Ts(),W=Bt();return p.Ns.getEntries(q,T).next((K=>{Q=K,Q.forEach(((it,st)=>{st.isValidDocument()||(W=W.add(it))}))})).next((()=>p.localDocuments.getOverlayedDocuments(q,Q))).next((K=>{R=K;const it=[];for(const st of g){const et=tR(st,R.get(st.key).overlayedDocument);et!=null&&it.push(new ca(st.key,et,Hb(et.value.mapValue),qi.exists(!0)))}return p.mutationQueue.addMutationBatch(q,_,it,g)})).next((K=>{O=K;const it=K.applyToLocalDocumentSet(R,W);return p.documentOverlayCache.saveOverlays(q,K.batchId,it)}))})).then((()=>({batchId:O.batchId,changes:tE(R)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(o.batchId),(function(f,g,p){let _=f.Vu[f.currentUser.toKey()];_||(_=new Ee(zt)),_=_.insert(g,p),f.Vu[f.currentUser.toKey()]=_})(r,o.batchId,n),await su(r,o.changes),await Ih(r.remoteStore)}catch(o){const u=lg(o,"Failed to persist write");n.reject(u)}}async function VE(s,t){const n=xt(s);try{const r=await JR(n.localStore,t);t.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?Wt(f.hu,14607):o.removedDocuments.size>0&&(Wt(f.hu,42227),f.hu=!1))})),await su(n,r,t)}catch(r){await So(r)}}function mv(s,t,n){const r=xt(s);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.Tu.forEach(((u,f)=>{const g=f.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(f,g){const p=xt(f);p.onlineState=g;let _=!1;p.queries.forEach(((T,R)=>{for(const O of R.Sa)O.va(g)&&(_=!0)})),_&&ug(p)})(r.eventManager,t),o.length&&r.Pu.H_(o),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function HC(s,t,n){const r=xt(s);r.sharedClientState.updateQueryState(t,"rejected",n);const o=r.Au.get(t),u=o&&o.key;if(u){let f=new Ee(yt.comparator);f=f.insert(u,fn.newNoDocument(u,St.min()));const g=Bt().add(u),p=new xh(St.min(),new Map,new Ee(zt),f,g);await VE(r,p),r.du=r.du.remove(u),r.Au.delete(t),hg(r)}else await _m(r.localStore,t,!1).then((()=>Em(r,t,n))).catch(So)}async function FC(s,t){const n=xt(s),r=t.batch.batchId;try{const o=await ZR(n.localStore,t);UE(n,r,null),kE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await su(n,o)}catch(o){await So(o)}}async function GC(s,t,n){const r=xt(s);try{const o=await(function(f,g){const p=xt(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let T;return p.mutationQueue.lookupMutationBatch(_,g).next((R=>(Wt(R!==null,37113),T=R.keys(),p.mutationQueue.removeMutationBatch(_,R)))).next((()=>p.mutationQueue.performConsistencyCheck(_))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,g))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T))).next((()=>p.localDocuments.getDocuments(_,T)))}))})(r.localStore,t);UE(r,t,n),kE(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await su(r,o)}catch(o){await So(o)}}function kE(s,t){(s.mu.get(t)||[]).forEach((n=>{n.resolve()})),s.mu.delete(t)}function UE(s,t,n){const r=xt(s);let o=r.Vu[r.currentUser.toKey()];if(o){const u=o.get(t);u&&(n?u.reject(n):u.resolve(),o=o.remove(t)),r.Vu[r.currentUser.toKey()]=o}}function Em(s,t,n=null){s.sharedClientState.removeLocalQueryTarget(t);for(const r of s.Iu.get(t))s.Tu.delete(r),n&&s.Pu.yu(r,n);s.Iu.delete(t),s.isPrimaryClient&&s.Ru.jr(t).forEach((r=>{s.Ru.containsKey(r)||jE(s,r)}))}function jE(s,t){s.Eu.delete(t.path.canonicalString());const n=s.du.get(t);n!==null&&(ig(s.remoteStore,n),s.du=s.du.remove(t),s.Au.delete(n),hg(s))}function gv(s,t,n){for(const r of n)r instanceof DE?(s.Ru.addReference(r.key,t),QC(s,r)):r instanceof OE?(ht(cg,"Document no longer in limbo: "+r.key),s.Ru.removeReference(r.key,t),s.Ru.containsKey(r.key)||jE(s,r.key)):vt(19791,{wu:r})}function QC(s,t){const n=t.key,r=n.path.canonicalString();s.du.get(n)||s.Eu.has(r)||(ht(cg,"New document in limbo: "+n),s.Eu.add(r),hg(s))}function hg(s){for(;s.Eu.size>0&&s.du.size<s.maxConcurrentLimboResolutions;){const t=s.Eu.values().next().value;s.Eu.delete(t);const n=new yt(pe.fromString(t)),r=s.fu.next();s.Au.set(r,new kC(n)),s.du=s.du.insert(n,r),AE(s.remoteStore,new lr(Bi($b(n.path)),r,"TargetPurposeLimboResolution",_h.ce))}}async function su(s,t,n){const r=xt(s),o=[],u=[],f=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,p)=>{f.push(r.pu(p,t,n).then((_=>{var T;if((_||n)&&r.isPrimaryClient){const R=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))==null?void 0:T.current;r.sharedClientState.updateQueryState(p.targetId,R?"current":"not-current")}if(_){o.push(_);const R=eg.As(p.targetId,_);u.push(R)}})))})),await Promise.all(f),r.Pu.H_(o),await(async function(p,_){const T=xt(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>J.forEach(_,(O=>J.forEach(O.Es,(q=>T.persistence.referenceDelegate.addReference(R,O.targetId,q))).next((()=>J.forEach(O.ds,(q=>T.persistence.referenceDelegate.removeReference(R,O.targetId,q)))))))))}catch(R){if(!wo(R))throw R;ht(ng,"Failed to update sequence numbers: "+R)}for(const R of _){const O=R.targetId;if(!R.fromCache){const q=T.Ms.get(O),Q=q.snapshotVersion,W=q.withLastLimboFreeSnapshotVersion(Q);T.Ms=T.Ms.insert(O,W)}}})(r.localStore,u))}async function KC(s,t){const n=xt(s);if(!n.currentUser.isEqual(t)){ht(cg,"User change. New user:",t.toKey());const r=await EE(n.localStore,t);n.currentUser=t,(function(u,f){u.mu.forEach((g=>{g.forEach((p=>{p.reject(new gt(tt.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await su(n,r.Ls)}}function YC(s,t){const n=xt(s),r=n.Au.get(t);if(r&&r.hu)return Bt().add(r.key);{let o=Bt();const u=n.Iu.get(t);if(!u)return o;for(const f of u){const g=n.Tu.get(f);o=o.unionWith(g.view.nu)}return o}}function LE(s){const t=xt(s);return t.remoteStore.remoteSyncer.applyRemoteEvent=VE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=YC.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=HC.bind(null,t),t.Pu.H_=NC.bind(null,t.eventManager),t.Pu.yu=DC.bind(null,t.eventManager),t}function XC(s){const t=xt(s);return t.remoteStore.remoteSyncer.applySuccessfulWrite=FC.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=GC.bind(null,t),t}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,n){return null}Mu(t,n){return null}vu(t){return $R(this.persistence,new KR,t.initialUser,this.serializer)}Cu(t){return new bE(tg.mi,this.serializer)}Du(t){return new iC}async terminate(){var t,n;(t=this.gcScheduler)==null||t.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class $C extends fh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,n){Wt(this.persistence.referenceDelegate instanceof ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new OR(r,t.asyncQueue,n)}Cu(t){const n=this.cacheSizeBytes!==void 0?xn.withCacheSize(this.cacheSizeBytes):xn.DEFAULT;return new bE((r=>ch.mi(r,n)),this.serializer)}}class Tm{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>mv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=KC.bind(null,this.syncEngine),await AC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new RC})()}createDatastore(t){const n=Rh(t.databaseInfo.databaseId),r=(function(u){return new lC(u)})(t.databaseInfo);return(function(u,f,g,p){return new fC(u,f,g,p)})(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return(function(r,o,u,f,g){return new mC(r,o,u,f,g)})(this.localStore,this.datastore,t.asyncQueue,(n=>mv(this.syncEngine,n,0)),(function(){return lv.v()?new lv:new sC})())}createSyncEngine(t,n){return(function(o,u,f,g,p,_,T){const R=new UC(o,u,f,g,p,_);return T&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}async terminate(){var t,n;await(async function(o){const u=xt(o);ht(ra,"RemoteStore shutting down."),u.Ea.add(5),await iu(u),u.Aa.shutdown(),u.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(n=this.eventManager)==null||n.terminate()}}Tm.provider={build:()=>new Tm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,n){setTimeout((()=>{this.muted||t(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er="FirestoreClient";class JC{constructor(t,n,r,o,u){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=hn.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(r,(async f=>{ht(Er,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(r,(f=>(ht(Er,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=lg(n,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Kd(s,t){s.asyncQueue.verifyOperationInProgress(),ht(Er,"Initializing OfflineComponentProvider");const n=s.configuration;await t.initialize(n);let r=n.initialUser;s.setCredentialChangeListener((async o=>{r.isEqual(o)||(await EE(t.localStore,o),r=o)})),t.persistence.setDatabaseDeletedListener((()=>s.terminate())),s._offlineComponents=t}async function pv(s,t){s.asyncQueue.verifyOperationInProgress();const n=await WC(s);ht(Er,"Initializing OnlineComponentProvider"),await t.initialize(n,s.configuration),s.setCredentialChangeListener((r=>cv(t.remoteStore,r))),s.setAppCheckTokenChangeListener(((r,o)=>cv(t.remoteStore,o))),s._onlineComponents=t}async function WC(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){ht(Er,"Using user provided OfflineComponentProvider");try{await Kd(s,s._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!(function(o){return o.name==="FirebaseError"?o.code===tt.FAILED_PRECONDITION||o.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await Kd(s,new fh)}}else ht(Er,"Using default OfflineComponentProvider"),await Kd(s,new $C(void 0));return s._offlineComponents}async function PE(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(ht(Er,"Using user provided OnlineComponentProvider"),await pv(s,s._uninitializedComponentsProvider._online)):(ht(Er,"Using default OnlineComponentProvider"),await pv(s,new Tm))),s._onlineComponents}function tI(s){return PE(s).then((t=>t.syncEngine))}async function eI(s){const t=await PE(s),n=t.eventManager;return n.onListen=jC.bind(null,t.syncEngine),n.onUnlisten=zC.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=LC.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=BC.bind(null,t.syncEngine),n}function nI(s,t,n={}){const r=new fr;return s.asyncQueue.enqueueAndForget((async()=>(function(u,f,g,p,_){const T=new ZC({next:O=>{T.Nu(),f.enqueueAndForget((()=>IC(u,R))),O.fromCache&&p.source==="server"?_.reject(new gt(tt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(O)},error:O=>_.reject(O)}),R=new OC(g,T,{includeMetadataChanges:!0,qa:!0});return CC(u,R)})(await eI(s),s.asyncQueue,t,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zE(s){const t={};return s.timeoutSeconds!==void 0&&(t.timeoutSeconds=s.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BE="firestore.googleapis.com",_v=!0;class vv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BE,this.ssl=_v}else this.host=t.host,this.ssl=t.ssl??_v;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<NR)throw new gt(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=zE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new gt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new gt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new gt(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,o){return r.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Nh{constructor(t,n,r,o){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new nx;switch(r.type){case"firstParty":return new ax(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new gt(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=yv.get(n);r&&(ht("ComponentProvider","Removing Datastore"),yv.delete(n),r.terminate())})(this),Promise.resolve()}}function iI(s,t,n,r={}){var _;s=Bl(s,Nh);const o=Tr(t),u=s._getSettings(),f={...u,emulatorOptions:s._getEmulatorOptions()},g=`${t}:${n}`;o&&(xm(`https://${g}`),Rm("Firestore",!0)),u.host!==BE&&u.host!==g&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:g,ssl:o,emulatorOptions:r};if(!ea(p,f)&&(s._setSettings(p),r.mockUserToken)){let T,R;if(typeof r.mockUserToken=="string")T=r.mockUserToken,R=hn.MOCK_USER;else{T=Bv(r.mockUserToken,(_=s._app)==null?void 0:_.options.projectId);const O=r.mockUserToken.sub||r.mockUserToken.user_id;if(!O)throw new gt(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");R=new hn(O)}s._authCredentials=new ix(new Db(T,R))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new Dh(this.firestore,t,this._query)}}class an{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new an(this.firestore,t,this._key)}toJSON(){return{type:an._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(tu(n,an._jsonSchema))return new an(t,r||null,new yt(pe.fromString(n.referencePath)))}}an._jsonSchemaVersion="firestore/documentReference/1.0",an._jsonSchema={type:Be("string",an._jsonSchemaVersion),referencePath:Be("string")};class dr extends Dh{constructor(t,n,r){super(t,n,$b(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new an(this.firestore,null,new yt(t))}withConverter(t){return new dr(this.firestore,t,this._path)}}function bv(s,t,...n){if(s=yn(s),Ob("collection","path",t),s instanceof Nh){const r=pe.fromString(t,...n);return M0(r),new dr(s,null,r)}{if(!(s instanceof an||s instanceof dr))throw new gt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pe.fromString(t,...n));return M0(r),new dr(s.firestore,null,r)}}function qE(s,t,...n){if(s=yn(s),arguments.length===1&&(t=Bm.newId()),Ob("doc","path",t),s instanceof Nh){const r=pe.fromString(t,...n);return O0(r),new an(s,null,new yt(r))}{if(!(s instanceof an||s instanceof dr))throw new gt(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=s._path.child(pe.fromString(t,...n));return O0(r),new an(s.firestore,s instanceof dr?s.converter:null,new yt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="AsyncQueue";class Tv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SE(this,"async_queue_retry"),this._c=()=>{const r=Qd();r&&ht(Ev,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const n=Qd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const n=Qd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new fr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!wo(t))throw t;ht(Ev,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const n=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",Sv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=n,n}enqueueAfterDelay(t,n,r){this.uc(),this.oc.indexOf(t)>-1&&(n=0);const o=og.createAndSchedule(this,t,n,r,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&vt(47125,{Pc:Sv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const n of this.tc)if(n.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const n=this.tc.indexOf(t);this.tc.splice(n,1)}}function Sv(s){let t=s.message||"";return s.stack&&(t=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),t}class Oh extends Nh{constructor(t,n,r,o){super(t,n,r,o),this.type="firestore",this._queue=new Tv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Tv(t),this._firestoreClient=void 0,await t}}}function sI(s,t){const n=typeof s=="object"?s:Nm(),r=typeof s=="string"?s:sh,o=gh(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const u=Lv("firestore");u&&iI(o,...u)}return o}function HE(s){if(s._terminated)throw new gt(tt.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||rI(s),s._firestoreClient}function rI(s){var r,o,u;const t=s._freezeSettings(),n=(function(g,p,_,T){return new Sx(g,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,zE(T.experimentalLongPollingOptions),T.useFetchStreams,T.isUsingEmulator)})(s._databaseId,((r=s._app)==null?void 0:r.options.appId)||"",s._persistenceKey,t);s._componentsProvider||(o=t.localCache)!=null&&o._offlineComponentProvider&&((u=t.localCache)!=null&&u._onlineComponentProvider)&&(s._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),s._firestoreClient=new JC(s._authCredentials,s._appCheckCredentials,s._queue,n,s._componentsProvider&&(function(g){const p=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(p),_online:p}})(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Jn(on.fromBase64String(t))}catch(n){throw new gt(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new Jn(on.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(tu(t,Jn._jsonSchema))return Jn.fromBase64String(t.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Be("string",Jn._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fg{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new gt(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new gt(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new gt(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Fi._jsonSchemaVersion}}static fromJSON(t){if(tu(t,Fi._jsonSchema))return new Fi(t.latitude,t.longitude)}}Fi._jsonSchemaVersion="firestore/geoPoint/1.0",Fi._jsonSchema={type:Be("string",Fi._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(t){this._values=(t||[]).map((n=>n))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,o){if(r.length!==o.length)return!1;for(let u=0;u<r.length;++u)if(r[u]!==o[u])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Gi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(tu(t,Gi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((n=>typeof n=="number")))return new Gi(t.vectorValues);throw new gt(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Gi._jsonSchemaVersion="firestore/vectorValue/1.0",Gi._jsonSchema={type:Be("string",Gi._jsonSchemaVersion),vectorValues:Be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=/^__.*__$/;class oI{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new ca(t,this.data,this.fieldMask,n,this.fieldTransforms):new eu(t,this.data,n,this.fieldTransforms)}}function FE(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:s})}}class mg{constructor(t,n,r,o,u,f){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new mg({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:n,fc:!1});return r.gc(t),r}yc(t){var o;const n=(o=this.path)==null?void 0:o.child(t),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return dh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((n=>t.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>t.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(FE(this.Ac)&&aI.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class lI{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Rh(t)}Cc(t,n,r,o=!1){return new mg({Ac:t,methodName:n,Dc:r,path:rn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function uI(s){const t=s._freezeSettings(),n=Rh(s._databaseId);return new lI(s._databaseId,!!t.ignoreUndefinedProperties,n)}function cI(s,t,n,r,o,u={}){const f=s.Cc(u.merge||u.mergeFields?2:0,t,n,o);YE("Data must be an object, but it was:",f,r);const g=QE(r,f);let p,_;if(u.merge)p=new fi(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const R of u.mergeFields){const O=hI(t,R,n);if(!f.contains(O))throw new gt(tt.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);dI(T,O)||T.push(O)}p=new fi(T),_=f.fieldTransforms.filter((R=>p.covers(R.field)))}else p=null,_=f.fieldTransforms;return new oI(new Zn(g),p,_)}class gg extends dg{_toFieldTransform(t){return new $x(t.path,new Ql)}isEqual(t){return t instanceof gg}}function GE(s,t){if(KE(s=yn(s)))return YE("Unsupported field value:",t,s),QE(s,t);if(s instanceof dg)return(function(r,o){if(!FE(o.Ac))throw o.Sc(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${r._methodName}() is not currently supported inside arrays`);const u=r._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(s,t),null;if(s===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),s instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,o){const u=[];let f=0;for(const g of r){let p=GE(g,o.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(s,t)}return(function(r,o){if((r=yn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Kx(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const u=ye.fromDate(r);return{timestampValue:uh(o.serializer,u)}}if(r instanceof ye){const u=new ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(o.serializer,u)}}if(r instanceof Fi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:fE(o.serializer,r._byteString)};if(r instanceof an){const u=o.databaseId,f=r.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(r.firestore._databaseId||o.databaseId,r._key.path)}}if(r instanceof Gi)return(function(f,g){return{mapValue:{fields:{[Bb]:{stringValue:qb},[rh]:{arrayValue:{values:f.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ym(g.serializer,_)}))}}}}}})(r,o);throw o.Sc(`Unsupported field value: ${qm(r)}`)})(s,t)}function QE(s,t){const n={};return kb(s)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):la(s,((r,o)=>{const u=GE(o,t.mc(r));u!=null&&(n[r]=u)})),{mapValue:{fields:n}}}function KE(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof ye||s instanceof Fi||s instanceof Jn||s instanceof an||s instanceof dg||s instanceof Gi)}function YE(s,t,n){if(!KE(n)||!Mb(n)){const r=qm(n);throw r==="an object"?t.Sc(s+" a custom object"):t.Sc(s+" "+r)}}function hI(s,t,n){if((t=yn(t))instanceof fg)return t._internalPath;if(typeof t=="string")return XE(s,t);throw dh("Field path arguments must be of type string or ",s,!1,void 0,n)}const fI=new RegExp("[~\\*/\\[\\]]");function XE(s,t,n){if(t.search(fI)>=0)throw dh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,n);try{return new fg(...t.split("."))._internalPath}catch{throw dh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,n)}}function dh(s,t,n,r,o){const u=r&&!r.isEmpty(),f=o!==void 0;let g=`Function ${t}() called with invalid data`;n&&(g+=" (via `toFirestore()`)"),g+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${r}`),f&&(p+=` in document ${o}`),p+=")"),new gt(tt.INVALID_ARGUMENT,g+s+p)}function dI(s,t){return s.some((n=>n.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(t,n,r,o,u){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new an(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new mI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(ZE("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}}class mI extends $E{data(){return super.data()}}function ZE(s,t){return typeof t=="string"?XE(s,t):t instanceof fg?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new gt(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class pI{convertValue(t,n="none"){switch(vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return De(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(_r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 11:return this.convertObject(t.mapValue,n);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return la(t,((o,u)=>{r[o]=this.convertValue(u,n)})),r}convertVectorValue(t){var r,o,u;const n=(u=(o=(r=t.fields)==null?void 0:r[rh].arrayValue)==null?void 0:o.values)==null?void 0:u.map((f=>De(f.doubleValue)));return new Gi(n)}convertGeoPoint(t){return new Fi(De(t.latitude),De(t.longitude))}convertArray(t,n){return(t.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(t,n){switch(n){case"previous":const r=bh(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Hl(t));default:return null}}convertTimestamp(t){const n=yr(t);return new ye(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=pe.fromString(t);Wt(_E(r),9688,{name:t});const o=new Fl(r.get(1),r.get(3)),u=new yt(r.popFirst(5));return o.isEqual(n)||Es(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(s,t,n){let r;return r=s?s.toFirestore(t):t,r}class Uc{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ho extends $E{constructor(t,n,r,o,u,f){super(t,n,r,o,f),this._firestore=t,this._firestoreImpl=t,this.metadata=u}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(ZE("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,n={};return n.type=ho._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ho._jsonSchemaVersion="firestore/documentSnapshot/1.0",ho._jsonSchema={type:Be("string",ho._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Yc extends ho{data(t={}){return super.data(t)}}class fo{constructor(t,n,r,o){this._firestore=t,this._userDataWriter=n,this._snapshot=o,this.metadata=new Uc(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const t=[];return this.forEach((n=>t.push(n))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach((r=>{t.call(n,new Yc(this._firestore,this._userDataWriter,r.key,r,new Uc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new gt(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((g=>{const p=new Yc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Uc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>u||g.type!==3)).map((g=>{const p=new Yc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new Uc(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return g.type!==0&&(_=f.indexOf(g.doc.key),f=f.delete(g.doc.key)),g.type!==1&&(f=f.add(g.doc),T=f.indexOf(g.doc.key)),{type:_I(g.type),doc:p,oldIndex:_,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),r.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function _I(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:s})}}fo._jsonSchemaVersion="firestore/querySnapshot/1.0",fo._jsonSchema={type:Be("string",fo._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class vI extends pI{constructor(t){super(),this.firestore=t}convertBytes(t){return new Jn(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new an(this.firestore,null,n)}}function bI(s){s=Bl(s,Dh);const t=Bl(s.firestore,Oh),n=HE(t),r=new vI(t);return gI(s._query),nI(n,s._query).then((o=>new fo(t,r,s,o)))}function EI(s){return JE(Bl(s.firestore,Oh),[new Xm(s._key,qi.none())])}function TI(s,t){const n=Bl(s.firestore,Oh),r=qE(s),o=yI(s.converter,t);return JE(n,[cI(uI(s.firestore),"addDoc",r._key,o,s.converter!==null,{}).toMutation(r._key,qi.exists(!1))]).then((()=>r))}function JE(s,t){return(function(r,o){const u=new fr;return r.asyncQueue.enqueueAndForget((async()=>qC(await tI(r),o,u))),u.promise})(HE(s),t)}function SI(){return new gg("serverTimestamp")}(function(t,n=!0){(function(o){To=o})(oa),na(new gr("firestore",((r,{instanceIdentifier:o,options:u})=>{const f=r.getProvider("app").getImmediate(),g=new Oh(new sx(r.getProvider("auth-internal")),new ox(f,r.getProvider("app-check-internal")),(function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new gt(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Fl(_.options.projectId,T)})(f,o),f);return u={useFetchStreams:n,...u},g._setSettings(u),g}),"PUBLIC").setMultipleInstances(!0)),Li(C0,I0,t),Li(C0,I0,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="firebasestorage.googleapis.com",tT="storageBucket",wI=120*1e3,AI=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae extends Yi{constructor(t,n,r=0){super(Yd(t),`Firebase Storage: ${n} (${Yd(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ae.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return Yd(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var we;(function(s){s.UNKNOWN="unknown",s.OBJECT_NOT_FOUND="object-not-found",s.BUCKET_NOT_FOUND="bucket-not-found",s.PROJECT_NOT_FOUND="project-not-found",s.QUOTA_EXCEEDED="quota-exceeded",s.UNAUTHENTICATED="unauthenticated",s.UNAUTHORIZED="unauthorized",s.UNAUTHORIZED_APP="unauthorized-app",s.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",s.INVALID_CHECKSUM="invalid-checksum",s.CANCELED="canceled",s.INVALID_EVENT_NAME="invalid-event-name",s.INVALID_URL="invalid-url",s.INVALID_DEFAULT_BUCKET="invalid-default-bucket",s.NO_DEFAULT_BUCKET="no-default-bucket",s.CANNOT_SLICE_BLOB="cannot-slice-blob",s.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",s.NO_DOWNLOAD_URL="no-download-url",s.INVALID_ARGUMENT="invalid-argument",s.INVALID_ARGUMENT_COUNT="invalid-argument-count",s.APP_DELETED="app-deleted",s.INVALID_ROOT_OPERATION="invalid-root-operation",s.INVALID_FORMAT="invalid-format",s.INTERNAL_ERROR="internal-error",s.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(we||(we={}));function Yd(s){return"storage/"+s}function pg(){const s="An unknown error occurred, please check the error payload for server response.";return new Ae(we.UNKNOWN,s)}function xI(s){return new Ae(we.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")}function RI(s){return new Ae(we.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CI(){const s="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ae(we.UNAUTHENTICATED,s)}function II(){return new Ae(we.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function NI(s){return new Ae(we.UNAUTHORIZED,"User does not have permission to access '"+s+"'.")}function DI(){return new Ae(we.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function OI(){return new Ae(we.CANCELED,"User canceled the upload/download.")}function MI(s){return new Ae(we.INVALID_URL,"Invalid URL '"+s+"'.")}function VI(s){return new Ae(we.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+s+"'.")}function kI(){return new Ae(we.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+tT+"' property when initializing the app?")}function UI(){return new Ae(we.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function jI(){return new Ae(we.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function LI(s){return new Ae(we.UNSUPPORTED_ENVIRONMENT,`${s} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Sm(s){return new Ae(we.INVALID_ARGUMENT,s)}function eT(){return new Ae(we.APP_DELETED,"The Firebase app was deleted.")}function PI(s){return new Ae(we.INVALID_ROOT_OPERATION,"The operation '"+s+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ll(s,t){return new Ae(we.INVALID_FORMAT,"String does not match format '"+s+"': "+t)}function Rl(s){throw new Ae(we.INTERNAL_ERROR,"Internal error: "+s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Ln.makeFromUrl(t,n)}catch{return new Ln(t,"")}if(r.path==="")return r;throw VI(t)}static makeFromUrl(t,n){let r=null;const o="([A-Za-z0-9.\\-_]+)";function u(nt){nt.path.charAt(nt.path.length-1)==="/"&&(nt.path_=nt.path_.slice(0,-1))}const f="(/(.*))?$",g=new RegExp("^gs://"+o+f,"i"),p={bucket:1,path:3};function _(nt){nt.path_=decodeURIComponent(nt.path)}const T="v[A-Za-z0-9_]+",R=n.replace(/[.]/g,"\\."),O="(/([^?#]*).*)?$",q=new RegExp(`^https?://${R}/${T}/b/${o}/o${O}`,"i"),Q={bucket:1,path:3},W=n===WE?"(?:storage.googleapis.com|storage.cloud.google.com)":n,K="([^?#]*)",it=new RegExp(`^https?://${W}/${o}/${K}`,"i"),et=[{regex:g,indices:p,postModify:u},{regex:q,indices:Q,postModify:_},{regex:it,indices:{bucket:1,path:2},postModify:_}];for(let nt=0;nt<et.length;nt++){const ut=et[nt],z=ut.regex.exec(t);if(z){const x=z[ut.indices.bucket];let w=z[ut.indices.path];w||(w=""),r=new Ln(x,w),ut.postModify(r);break}}if(r==null)throw MI(t);return r}}class zI{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(s,t,n){let r=1,o=null,u=null,f=!1,g=0;function p(){return g===2}let _=!1;function T(...K){_||(_=!0,t.apply(null,K))}function R(K){o=setTimeout(()=>{o=null,s(q,p())},K)}function O(){u&&clearTimeout(u)}function q(K,...it){if(_){O();return}if(K){O(),T.call(null,K,...it);return}if(p()||f){O(),T.call(null,K,...it);return}r<64&&(r*=2);let et;g===1?(g=2,et=0):et=(r+Math.random())*1e3,R(et)}let Q=!1;function W(K){Q||(Q=!0,O(),!_&&(o!==null?(K||(g=2),clearTimeout(o),R(0)):K||(g=1)))}return R(0),u=setTimeout(()=>{f=!0,W(!0)},n),W}function qI(s){s(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(s){return s!==void 0}function FI(s){return typeof s=="object"&&!Array.isArray(s)}function yg(s){return typeof s=="string"||s instanceof String}function wv(s){return _g()&&s instanceof Blob}function _g(){return typeof Blob<"u"}function Av(s,t,n,r){if(r<t)throw Sm(`Invalid value for '${s}'. Expected ${t} or greater.`);if(r>n)throw Sm(`Invalid value for '${s}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vg(s,t,n){let r=t;return n==null&&(r=`https://${t}`),`${n}://${r}/v0${s}`}function nT(s){const t=encodeURIComponent;let n="?";for(const r in s)if(s.hasOwnProperty(r)){const o=t(r)+"="+t(s[r]);n=n+o+"&"}return n=n.slice(0,-1),n}var ta;(function(s){s[s.NO_ERROR=0]="NO_ERROR",s[s.NETWORK_ERROR=1]="NETWORK_ERROR",s[s.ABORT=2]="ABORT"})(ta||(ta={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GI(s,t){const n=s>=500&&s<600,o=[408,429].indexOf(s)!==-1,u=t.indexOf(s)!==-1;return n||o||u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(t,n,r,o,u,f,g,p,_,T,R,O=!0,q=!1){this.url_=t,this.method_=n,this.headers_=r,this.body_=o,this.successCodes_=u,this.additionalRetryCodes_=f,this.callback_=g,this.errorCallback_=p,this.timeout_=_,this.progressCallback_=T,this.connectionFactory_=R,this.retry=O,this.isUsingEmulator=q,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((Q,W)=>{this.resolve_=Q,this.reject_=W,this.start_()})}start_(){const t=(r,o)=>{if(o){r(!1,new jc(!1,null,!0));return}const u=this.connectionFactory_();this.pendingConnection_=u;const f=g=>{const p=g.loaded,_=g.lengthComputable?g.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,_)};this.progressCallback_!==null&&u.addUploadProgressListener(f),u.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&u.removeUploadProgressListener(f),this.pendingConnection_=null;const g=u.getErrorCode()===ta.NO_ERROR,p=u.getStatus();if(!g||GI(p,this.additionalRetryCodes_)&&this.retry){const T=u.getErrorCode()===ta.ABORT;r(!1,new jc(!1,null,T));return}const _=this.successCodes_.indexOf(p)!==-1;r(!0,new jc(_,u))})},n=(r,o)=>{const u=this.resolve_,f=this.reject_,g=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(g,g.getResponse());HI(p)?u(p):u()}catch(p){f(p)}else if(g!==null){const p=pg();p.serverResponse=g.getErrorText(),this.errorCallback_?f(this.errorCallback_(g,p)):f(p)}else if(o.canceled){const p=this.appDelete_?eT():OI();f(p)}else{const p=DI();f(p)}};this.canceled_?n(!1,new jc(!1,null,!0)):this.backoffId_=BI(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&qI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class jc{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function KI(s,t){t!==null&&t.length>0&&(s.Authorization="Firebase "+t)}function YI(s,t){s["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function XI(s,t){t&&(s["X-Firebase-GMPID"]=t)}function $I(s,t){t!==null&&(s["X-Firebase-AppCheck"]=t)}function ZI(s,t,n,r,o,u,f=!0,g=!1){const p=nT(s.urlParams),_=s.url+p,T=Object.assign({},s.headers);return XI(T,t),KI(T,n),YI(T,u),$I(T,r),new QI(_,s.method,T,s.body,s.successCodes,s.additionalRetryCodes,s.handler,s.errorHandler,s.timeout,s.progressCallback,o,f,g)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function WI(...s){const t=JI();if(t!==void 0){const n=new t;for(let r=0;r<s.length;r++)n.append(s[r]);return n.getBlob()}else{if(_g())return new Blob(s);throw new Ae(we.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function tN(s,t,n){return s.webkitSlice?s.webkitSlice(t,n):s.mozSlice?s.mozSlice(t,n):s.slice?s.slice(t,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(s){if(typeof atob>"u")throw LI("base-64");return atob(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Xd{constructor(t,n){this.data=t,this.contentType=n||null}}function nN(s,t){switch(s){case ji.RAW:return new Xd(iT(t));case ji.BASE64:case ji.BASE64URL:return new Xd(sT(s,t));case ji.DATA_URL:return new Xd(sN(t),rN(t))}throw pg()}function iT(s){const t=[];for(let n=0;n<s.length;n++){let r=s.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<s.length-1&&(s.charCodeAt(n+1)&64512)===56320))t.push(239,191,189);else{const u=r,f=s.charCodeAt(++n);r=65536|(u&1023)<<10|f&1023,t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(t)}function iN(s){let t;try{t=decodeURIComponent(s)}catch{throw Ll(ji.DATA_URL,"Malformed data URL.")}return iT(t)}function sT(s,t){switch(s){case ji.BASE64:{const o=t.indexOf("-")!==-1,u=t.indexOf("_")!==-1;if(o||u)throw Ll(s,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ji.BASE64URL:{const o=t.indexOf("+")!==-1,u=t.indexOf("/")!==-1;if(o||u)throw Ll(s,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=eN(t)}catch(o){throw o.message.includes("polyfill")?o:Ll(s,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class rT{constructor(t){this.base64=!1,this.contentType=null;const n=t.match(/^data:([^,]+)?,/);if(n===null)throw Ll(ji.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=aN(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=t.substring(t.indexOf(",")+1)}}function sN(s){const t=new rT(s);return t.base64?sT(ji.BASE64,t.rest):iN(t.rest)}function rN(s){return new rT(s).contentType}function aN(s,t){return s.length>=t.length?s.substring(s.length-t.length)===t:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(t,n){let r=0,o="";wv(t)?(this.data_=t,r=t.size,o=t.type):t instanceof ArrayBuffer?(n?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),r=this.data_.length):t instanceof Uint8Array&&(n?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),r=t.length),this.size_=r,this.type_=o}size(){return this.size_}type(){return this.type_}slice(t,n){if(wv(this.data_)){const r=this.data_,o=tN(r,t,n);return o===null?null:new or(o)}else{const r=new Uint8Array(this.data_.buffer,t,n-t);return new or(r,!0)}}static getBlob(...t){if(_g()){const n=t.map(r=>r instanceof or?r.data_:r);return new or(WI.apply(null,n))}else{const n=t.map(f=>yg(f)?nN(ji.RAW,f).data:f.data_);let r=0;n.forEach(f=>{r+=f.byteLength});const o=new Uint8Array(r);let u=0;return n.forEach(f=>{for(let g=0;g<f.length;g++)o[u++]=f[g]}),new or(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(s){let t;try{t=JSON.parse(s)}catch{return null}return FI(t)?t:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oN(s){if(s.length===0)return null;const t=s.lastIndexOf("/");return t===-1?"":s.slice(0,t)}function lN(s,t){const n=t.split("/").filter(r=>r.length>0).join("/");return s.length===0?n:s+"/"+n}function oT(s){const t=s.lastIndexOf("/",s.length-2);return t===-1?s:s.slice(t+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(s,t){return t}class pn{constructor(t,n,r,o){this.server=t,this.local=n||t,this.writable=!!r,this.xform=o||uN}}let Lc=null;function cN(s){return!yg(s)||s.length<2?s:oT(s)}function lT(){if(Lc)return Lc;const s=[];s.push(new pn("bucket")),s.push(new pn("generation")),s.push(new pn("metageneration")),s.push(new pn("name","fullPath",!0));function t(u,f){return cN(f)}const n=new pn("name");n.xform=t,s.push(n);function r(u,f){return f!==void 0?Number(f):f}const o=new pn("size");return o.xform=r,s.push(o),s.push(new pn("timeCreated")),s.push(new pn("updated")),s.push(new pn("md5Hash",null,!0)),s.push(new pn("cacheControl",null,!0)),s.push(new pn("contentDisposition",null,!0)),s.push(new pn("contentEncoding",null,!0)),s.push(new pn("contentLanguage",null,!0)),s.push(new pn("contentType",null,!0)),s.push(new pn("metadata","customMetadata",!0)),Lc=s,Lc}function hN(s,t){function n(){const r=s.bucket,o=s.fullPath,u=new Ln(r,o);return t._makeStorageReference(u)}Object.defineProperty(s,"ref",{get:n})}function fN(s,t,n){const r={};r.type="file";const o=n.length;for(let u=0;u<o;u++){const f=n[u];r[f.local]=f.xform(r,t[f.server])}return hN(r,s),r}function uT(s,t,n){const r=aT(t);return r===null?null:fN(s,r,n)}function dN(s,t,n,r){const o=aT(t);if(o===null||!yg(o.downloadTokens))return null;const u=o.downloadTokens;if(u.length===0)return null;const f=encodeURIComponent;return u.split(",").map(_=>{const T=s.bucket,R=s.fullPath,O="/b/"+f(T)+"/o/"+f(R),q=vg(O,n,r),Q=nT({alt:"media",token:_});return q+Q})[0]}function mN(s,t){const n={},r=t.length;for(let o=0;o<r;o++){const u=t[o];u.writable&&(n[u.server]=s[u.local])}return JSON.stringify(n)}class cT{constructor(t,n,r,o){this.url=t,this.method=n,this.handler=r,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(s){if(!s)throw pg()}function gN(s,t){function n(r,o){const u=uT(s,o,t);return hT(u!==null),u}return n}function pN(s,t){function n(r,o){const u=uT(s,o,t);return hT(u!==null),dN(u,o,s.host,s._protocol)}return n}function fT(s){function t(n,r){let o;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?o=II():o=CI():n.getStatus()===402?o=RI(s.bucket):n.getStatus()===403?o=NI(s.path):o=r,o.status=n.getStatus(),o.serverResponse=r.serverResponse,o}return t}function yN(s){const t=fT(s);function n(r,o){let u=t(r,o);return r.getStatus()===404&&(u=xI(s.path)),u.serverResponse=o.serverResponse,u}return n}function _N(s,t,n){const r=t.fullServerUrl(),o=vg(r,s.host,s._protocol),u="GET",f=s.maxOperationRetryTime,g=new cT(o,u,pN(s,n),f);return g.errorHandler=yN(t),g}function vN(s,t){return s&&s.contentType||t&&t.type()||"application/octet-stream"}function bN(s,t,n){const r=Object.assign({},n);return r.fullPath=s.path,r.size=t.size(),r.contentType||(r.contentType=vN(null,t)),r}function EN(s,t,n,r,o){const u=t.bucketOnlyServerUrl(),f={"X-Goog-Upload-Protocol":"multipart"};function g(){let et="";for(let nt=0;nt<2;nt++)et=et+Math.random().toString().slice(2);return et}const p=g();f["Content-Type"]="multipart/related; boundary="+p;const _=bN(t,r,o),T=mN(_,n),R="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+T+`\r
--`+p+`\r
Content-Type: `+_.contentType+`\r
\r
`,O=`\r
--`+p+"--",q=or.getBlob(R,r,O);if(q===null)throw UI();const Q={name:_.fullPath},W=vg(u,s.host,s._protocol),K="POST",it=s.maxUploadRetryTime,st=new cT(W,K,gN(s,n),it);return st.urlParams=Q,st.headers=f,st.body=q.uploadData(),st.errorHandler=fT(t),st}class TN{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ta.NO_ERROR,this.sendPromise_=new Promise(t=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ta.ABORT,t()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ta.NETWORK_ERROR,t()}),this.xhr_.addEventListener("load",()=>{t()})})}send(t,n,r,o,u){if(this.sent_)throw Rl("cannot .send() more than once");if(Tr(t)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,t,!0),u!==void 0)for(const f in u)u.hasOwnProperty(f)&&this.xhr_.setRequestHeader(f,u[f].toString());return o!==void 0?this.xhr_.send(o):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Rl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Rl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Rl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Rl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(t){return this.xhr_.getResponseHeader(t)}addUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",t)}removeUploadProgressListener(t){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",t)}}class SN extends TN{initXhr(){this.xhr_.responseType="text"}}function dT(){return new SN}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,n){this._service=t,n instanceof Ln?this._location=n:this._location=Ln.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new aa(t,n)}get root(){const t=new Ln(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oT(this._location.path)}get storage(){return this._service}get parent(){const t=oN(this._location.path);if(t===null)return null;const n=new Ln(this._location.bucket,t);return new aa(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw PI(t)}}function wN(s,t,n){s._throwIfRoot("uploadBytes");const r=EN(s.storage,s._location,lT(),new or(t,!0),n);return s.storage.makeRequestWithTokens(r,dT).then(o=>({metadata:o,ref:s}))}function AN(s){s._throwIfRoot("getDownloadURL");const t=_N(s.storage,s._location,lT());return s.storage.makeRequestWithTokens(t,dT).then(n=>{if(n===null)throw jI();return n})}function xN(s,t){const n=lN(s._location.path,t),r=new Ln(s._location.bucket,n);return new aa(s.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(s){return/^[A-Za-z]+:\/\//.test(s)}function CN(s,t){return new aa(s,t)}function mT(s,t){if(s instanceof bg){const n=s;if(n._bucket==null)throw kI();const r=new aa(n,n._bucket);return t!=null?mT(r,t):r}else return t!==void 0?xN(s,t):s}function IN(s,t){if(t&&RN(t)){if(s instanceof bg)return CN(s,t);throw Sm("To use ref(service, url), the first argument must be a Storage instance.")}else return mT(s,t)}function xv(s,t){const n=t==null?void 0:t[tT];return n==null?null:Ln.makeFromBucketSpec(n,s)}function NN(s,t,n,r={}){s.host=`${t}:${n}`;const o=Tr(t);o&&(xm(`https://${s.host}/b`),Rm("Storage",!0)),s._isUsingEmulator=!0,s._protocol=o?"https":"http";const{mockUserToken:u}=r;u&&(s._overrideAuthToken=typeof u=="string"?u:Bv(u,s.app.options.projectId))}class bg{constructor(t,n,r,o,u,f=!1){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=o,this._firebaseVersion=u,this._isUsingEmulator=f,this._bucket=null,this._host=WE,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=wI,this._maxUploadRetryTime=AI,this._requests=new Set,o!=null?this._bucket=Ln.makeFromBucketSpec(o,this._host):this._bucket=xv(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Ln.makeFromBucketSpec(this._url,t):this._bucket=xv(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){Av("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){Av("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new aa(this,t)}_makeRequest(t,n,r,o,u=!0){if(this._deleted)return new zI(eT());{const f=ZI(t,this._appId,r,o,n,this._firebaseVersion,u,this._isUsingEmulator);return this._requests.add(f),f.getPromise().then(()=>this._requests.delete(f),()=>this._requests.delete(f)),f}}async makeRequestWithTokens(t,n){const[r,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,o).getPromise()}}const Rv="@firebase/storage",Cv="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="storage";function DN(s,t,n){return s=yn(s),wN(s,t,n)}function ON(s){return s=yn(s),AN(s)}function MN(s,t){return s=yn(s),IN(s,t)}function VN(s=Nm(),t){s=yn(s);const r=gh(s,gT).getImmediate({identifier:t}),o=Lv("storage");return o&&kN(r,...o),r}function kN(s,t,n,r={}){NN(s,t,n,r)}function UN(s,{instanceIdentifier:t}){const n=s.getProvider("app").getImmediate(),r=s.getProvider("auth-internal"),o=s.getProvider("app-check-internal");return new bg(n,r,o,t,oa)}function jN(){na(new gr(gT,UN,"PUBLIC").setMultipleInstances(!0)),Li(Rv,Cv,""),Li(Rv,Cv,"esm2020")}jN();const LN={apiKey:"AIzaSyA21LTgLF_C9mgNCdOoXOZ2TcQbMEUvsSk",authDomain:"variable3-d31ca.firebaseapp.com",projectId:"variable3-d31ca",storageBucket:"variable3-d31ca.firebasestorage.app",messagingSenderId:"538234227104",appId:"1:538234227104:web:67e19e8514b4ca6eef3cc5",measurementId:"G-MVRDRFQ0KX"},Eg=Fv(LN);tx(Eg);const $d=sI(Eg),PN=VN(Eg),zN=({user:s,onClose:t,onFontsUpdate:n})=>{const[r,o]=ft.useState([]),[u,f]=ft.useState(!1),[g,p]=ft.useState(!0),[_,T]=ft.useState(0),[R,O]=ft.useState(0),q=s.email||"unknown";ft.useEffect(()=>{const it=parseInt(localStorage.getItem(`certs_${q}`)||"0",10),st=parseInt(localStorage.getItem(`downloads_${q}`)||"0",10);T(it),O(st)},[q]),ft.useEffect(()=>{(async()=>{if(!s.email){p(!1);return}try{const st=bv($d,"userFonts",s.email,"fonts"),nt=(await bI(st)).docs.map(w=>{const C=w.data();return{id:w.id,name:C.name,url:C.url,createdAt:C.createdAt}});o(nt);const ut=`user-fonts-style-${s.email}`;let z=document.getElementById(ut);z||(z=document.createElement("style"),z.id=ut,document.head.appendChild(z));const x=nt.map(w=>{const C=w.url.toLowerCase().includes(".otf")?"opentype":w.url.toLowerCase().includes(".ttf")?"truetype":"woff";return`@font-face {
              font-family: '${w.name}';
              src: url('${w.url}') format('${C}');
              font-weight: normal;
              font-style: normal;
            }`}).join(`
`);z.innerHTML=x,n()}catch(st){console.error("Failed to load user fonts",st)}finally{p(!1)}})()},[s.email,n]);const Q=async it=>{var nt;const st=(nt=it.target.files)==null?void 0:nt[0];if(!st||!s.email)return;it.target.value="";const et=st.name.replace(/\.[^/.]+$/,"");if(r.some(ut=>ut.name===et)){alert(`    "${et}"`);return}f(!0);try{const ut=MN(PN,`fonts/${s.email}/${st.name}`);await DN(ut,st,{contentType:st.type||"font/otf"});const z=await ON(ut),x=bv($d,"userFonts",s.email,"fonts"),C={id:(await TI(x,{name:et,url:z,createdAt:SI()})).id,name:et,url:z},A=[...r,C];o(A);const N=`user-fonts-style-${s.email}`;let M=document.getElementById(N);M||(M=document.createElement("style"),M.id=N,document.head.appendChild(M));const I=A.map(bt=>{const Gt=bt.url.toLowerCase().includes(".otf")?"opentype":bt.url.toLowerCase().includes(".ttf")?"truetype":"woff";return`@font-face {
            font-family: '${bt.name}';
            src: url('${bt.url}') format('${Gt}');
            font-weight: normal;
            font-style: normal;
          }`}).join(`
`);M.innerHTML=I,n(),alert("   !")}catch(ut){console.error("Error uploading user font",ut),alert("  .   .")}finally{f(!1)}},W=async it=>{if(s.email&&window.confirm(`     "${it.name}"`))try{const st=qE($d,"userFonts",s.email,"fonts",it.id);await EI(st);const et=r.filter(z=>z.id!==it.id);o(et);const nt=`user-fonts-style-${s.email}`;let ut=document.getElementById(nt);if(ut){const z=et.map(x=>{const w=x.url.toLowerCase().includes(".otf")?"opentype":x.url.toLowerCase().includes(".ttf")?"truetype":"woff";return`@font-face {
              font-family: '${x.name}';
              src: url('${x.url}') format('${w}');
              font-weight: normal;
              font-style: normal;
            }`}).join(`
`);ut.innerHTML=z}n()}catch(st){console.error("Failed to delete user font",st),alert("  .")}},K=()=>{const{plan:it,expiresAt:st}=s.subscription;if(it==="free")return"  (5  )";if(!st)return"    ";const et=new Date(st).toLocaleDateString("ar-EG",{year:"numeric",month:"long",day:"numeric"});return it==="monthly"?`  -  ${et}`:it==="yearly"?`  -  ${et}`:`: ${it} -  ${et}`};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",onClick:t,children:b.jsxs("div",{className:"bg-gray-800 text-white rounded-2xl shadow-xl w-full max-w-5xl max-h-[90vh] overflow-y-auto p-6 md:p-8",onClick:it=>it.stopPropagation(),children:[b.jsxs("div",{className:"flex justify-between items-center border-b border-gray-700 pb-4 mb-6",children:[b.jsxs("div",{children:[b.jsx("h2",{className:"text-2xl font-bold",children:"  "}),b.jsxs("p",{className:"text-gray-400 text-sm mt-1",children:[" ",s.name," (",s.email,")"]})]}),b.jsx("button",{onClick:t,className:"text-gray-400 hover:text-white text-3xl",children:""})]}),b.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8",children:[b.jsxs("div",{className:"bg-gray-900 p-4 rounded-xl flex items-center space-x-3 space-x-reverse",children:[b.jsx("div",{className:"p-3 rounded-full bg-blue-500/20 text-blue-400",children:b.jsx(Jd,{className:"h-6 w-6"})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-400",children:""}),b.jsx("p",{className:"font-semibold text-sm",children:s.name}),b.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[s.country||" "," - ",s.phone||" "]})]})]}),b.jsxs("div",{className:"bg-gray-900 p-4 rounded-xl flex items-center space-x-3 space-x-reverse",children:[b.jsx("div",{className:"p-3 rounded-full bg-green-500/20 text-green-400",children:b.jsx(Dv,{})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-400",children:" "}),b.jsx("p",{className:"font-bold text-xl",children:_})]})]}),b.jsxs("div",{className:"bg-gray-900 p-4 rounded-xl flex items-center space-x-3 space-x-reverse",children:[b.jsx("div",{className:"p-3 rounded-full bg-purple-500/20 text-purple-400",children:b.jsx(Ov,{})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-xs text-gray-400",children:""}),b.jsx("p",{className:"font-bold text-xl",children:R})]})]})]}),b.jsxs("div",{className:"bg-gray-900 p-5 rounded-xl mb-8",children:[b.jsx("h3",{className:"text-lg font-semibold mb-2",children:" "}),b.jsx("p",{className:"text-sm text-gray-300",children:K()})]}),b.jsxs("div",{className:"bg-gray-900 p-5 rounded-xl mb-8",children:[b.jsxs("h3",{className:"flex items-center text-lg font-semibold mb-3",children:[b.jsx(Mv,{}),b.jsx("span",{className:"mr-2",children:"  "})]}),b.jsx("label",{htmlFor:"user-font-upload",className:`inline-block cursor-pointer bg-brand-primary text-white font-bold py-2 px-4 rounded-lg hover:bg-brand-secondary transition-colors text-sm ${u?"opacity-60 cursor-not-allowed":""}`,children:u?" ...":"  "}),b.jsx("input",{type:"file",id:"user-font-upload",className:"hidden",accept:".ttf,.otf,.woff,.woff2,application/x-font-ttf,application/x-font-otf,font/otf,font/ttf",onChange:Q,disabled:u}),g?b.jsx("p",{className:"text-sm text-gray-400 mt-4",children:"  ..."}):r.length===0?b.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"    ."}):b.jsx("ul",{className:"mt-4 space-y-3 max-h-64 overflow-y-auto pr-2",children:r.map(it=>b.jsxs("li",{className:"flex items-center justify-between bg-gray-800 p-3 rounded-md text-sm",children:[b.jsx("p",{style:{fontFamily:it.name},children:it.name}),b.jsx("button",{onClick:()=>W(it),className:"bg-red-600 text-white font-bold text-xs py-1 px-2 rounded hover:bg-red-700",children:""})]},it.id))})]}),b.jsx("div",{className:"mt-8 text-right",children:b.jsx("button",{onClick:t,className:"bg-gray-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-700 text-sm",children:""})})]})})},Dl=()=>b.jsx("svg",{className:"h-6 w-6 flex-shrink-0 text-green-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),BN=({isOpen:s,onClose:t,packageName:n})=>s?b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-[60] px-4",onClick:t,children:b.jsxs("div",{className:"w-full max-w-lg bg-brand-background border border-gray-800 rounded-2xl shadow-2xl p-8 text-center text-gray-100 relative",onClick:r=>r.stopPropagation(),children:[b.jsx("button",{onClick:t,className:"absolute top-4 left-4 text-gray-400 hover:text-white text-3xl leading-none","aria-label":"",children:""}),b.jsx("p",{className:"text-sm text-brand-secondary font-semibold tracking-widest mb-2",children:" "}),b.jsxs("h2",{className:"text-3xl font-extrabold mb-2",children:["   ",n]}),b.jsx("p",{className:"text-lg leading-8 text-gray-200 mb-4",children:"                           ."}),b.jsx("p",{className:"text-base leading-7 text-gray-300 bg-gray-900 border border-gray-800 rounded-xl p-4 mb-4",children:"               01097410932               01128542469"}),b.jsxs("div",{className:"bg-gray-900 border border-gray-700 rounded-xl p-5 mb-6",children:[b.jsx("p",{className:"text-base text-gray-300 mb-2",children:"  /  "}),b.jsx("p",{className:"text-3xl font-black text-brand-secondary tracking-widest",children:"01097410932"})]}),b.jsx("p",{className:"text-sm text-gray-400 mb-4",children:" "}),b.jsx("a",{href:"https://wa.me/201128542469",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center w-full bg-gradient-to-r from-brand-primary to-brand-secondary hover:opacity-90 text-white font-bold py-3 rounded-xl transition-colors",children:"   01128542469"}),b.jsx("button",{onClick:t,className:"mt-6 text-sm font-semibold text-gray-400 hover:text-white transition-colors",children:" "})]})}):null,Iv=({title:s,price:t,currency:n,period:r,features:o,isPopular:u,buttonText:f,onSelect:g})=>b.jsxs("div",{className:`bg-gray-900 p-8 rounded-2xl w-full max-w-sm transform transition-transform hover:scale-105 relative ${u?"border-2 border-brand-secondary":"border-2 border-gray-700"}`,children:[u&&b.jsx("div",{className:"absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2",children:b.jsx("span",{className:"bg-gradient-to-r from-brand-primary to-brand-secondary text-white text-xs font-semibold px-4 py-1 rounded-full uppercase",children:" "})}),b.jsx("h3",{className:"text-2xl font-bold text-center mb-2",children:s}),b.jsxs("div",{className:"text-center mb-6",children:[b.jsx("span",{className:"text-5xl font-extrabold",children:t}),b.jsx("span",{className:"text-lg font-medium text-gray-400",children:n}),b.jsxs("span",{className:"text-gray-400",children:["/",r]})]}),b.jsx("ul",{className:"space-y-3 mb-8",children:o.map((p,_)=>b.jsxs("li",{className:"flex items-center",children:[b.jsx(Dl,{}),b.jsx("span",{className:"mr-3 text-gray-300",children:p})]},_))}),b.jsx("button",{className:`w-full font-bold py-3 px-6 rounded-lg transition-colors ${u?"bg-gradient-to-r from-brand-primary to-brand-secondary text-white hover:opacity-90":"bg-gray-700 hover:bg-gray-600 text-white"}`,onClick:()=>g(s),children:f})]}),qN=({onClose:s})=>{const[t,n]=ft.useState(null),r=g=>{n(g)},o=()=>{n(null)},u={title:" ",price:100,currency:"",period:"",features:["   "," ","    ","  "],buttonText:" "},f={title:" ",price:500,currency:"",period:"",features:["   ","    ","   "],isPopular:!0,buttonText:"  "};return b.jsxs("div",{className:"fixed inset-0 bg-brand-background bg-opacity-95 z-50 flex flex-col items-center justify-center p-4",onClick:s,children:[b.jsx("button",{onClick:s,className:"absolute top-4 left-4 text-gray-400 hover:text-white text-4xl",children:""}),b.jsxs("div",{className:"text-center mb-10",onClick:g=>g.stopPropagation(),children:[b.jsx("h2",{className:"text-4xl md:text-5xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-secondary",children:"   "}),b.jsx("p",{className:"mt-4 text-lg text-gray-300",children:"    ."})]}),b.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-center gap-8",onClick:g=>g.stopPropagation(),children:[b.jsx(Iv,{...u,onSelect:r}),b.jsx(Iv,{...f,onSelect:r})]}),b.jsx(BN,{isOpen:t!==null,onClose:o,packageName:t??""})]})},HN=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-yellow-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1.5",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.286zm0 13.036h.008v.008h-.008v-.008z"})}),FN=({onClose:s,onUpgrade:t})=>b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",onClick:s,"aria-modal":"true",role:"dialog",children:b.jsxs("div",{className:"bg-gray-800 text-white rounded-lg shadow-xl p-8 w-full max-w-md text-center",onClick:n=>n.stopPropagation(),children:[b.jsx("div",{className:"flex justify-center mb-4",children:b.jsx(HN,{})}),b.jsx("h3",{className:"text-2xl font-bold mb-3 text-yellow-400",children:"      "}),b.jsxs("p",{className:"text-gray-300 mb-6",children:["       5    .",b.jsx("br",{}),"        ."]}),b.jsxs("div",{className:"flex flex-col sm:flex-row justify-center gap-4",children:[b.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-gradient-to-r from-brand-primary to-brand-secondary text-white font-bold py-3 px-8 rounded-lg shadow-lg hover:scale-105 transform transition-transform duration-300",children:" "}),b.jsx("button",{onClick:s,className:"w-full sm:w-auto bg-gray-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-gray-700 transition-colors",children:""})]})]})}),GN=({onClose:s,onLoginSuccess:t})=>{const[n,r]=ft.useState(""),[o,u]=ft.useState(""),[f,g]=ft.useState(null),p=_=>{_.preventDefault(),n==="omer"&&o==="303"?t():g("      .")};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",onClick:s,"aria-modal":"true",role:"dialog",children:b.jsxs("div",{className:"bg-gray-800 text-white rounded-lg shadow-xl p-8 w-full max-w-sm",onClick:_=>_.stopPropagation(),children:[b.jsx("h3",{className:"text-2xl font-bold mb-6 text-center",children:"  "}),b.jsxs("form",{onSubmit:p,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300 mb-1",children:" "}),b.jsx("input",{type:"text",id:"username",value:n,onChange:_=>r(_.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"password","aria-label":" ",className:"block text-sm font-medium text-gray-300 mb-1",children:" "}),b.jsx("input",{type:"password",id:"password",value:o,onChange:_=>u(_.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary"})]}),f&&b.jsx("p",{className:"text-red-500 text-sm text-center",children:f}),b.jsx("div",{className:"pt-4",children:b.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white font-bold py-3 px-4 rounded-lg hover:bg-brand-secondary transition-colors",children:""})})]})]})})},QN=({onClose:s,onAuthSuccess:t})=>{const[n,r]=ft.useState("login"),[o,u]=ft.useState(""),[f,g]=ft.useState(""),[p,_]=ft.useState(""),[T,R]=ft.useState(""),[O,q]=ft.useState(""),[Q,W]=ft.useState(""),[K,it]=ft.useState(""),[st,et]=ft.useState(null),nt=z=>{z.preventDefault(),et(null);try{const w=JSON.parse(localStorage.getItem("users")||"[]").find(C=>C.email===o&&C.password===f);w?t(w):et("      .")}catch(x){et("     ."),console.error("Login error:",x)}},ut=z=>{z.preventDefault(),et(null);try{const x=JSON.parse(localStorage.getItem("users")||"[]");if(x.some(N=>N.email===T)){et("    .");return}if(K.length<6){et("     6   .");return}const C={id:Date.now(),name:p,email:T,password:K,country:O,phone:Q,subscription:{plan:"free",expiresAt:null}},A=[...x,C];localStorage.setItem("users",JSON.stringify(A)),t(C)}catch(x){et("    ."),console.error("Sign up error:",x)}};return b.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50",onClick:s,"aria-modal":"true",role:"dialog",children:b.jsxs("div",{className:"bg-gray-800 text-white rounded-lg shadow-xl p-8 w-full max-w-sm",onClick:z=>z.stopPropagation(),children:[b.jsxs("div",{className:"flex border-b border-gray-700 mb-6",children:[b.jsx("button",{onClick:()=>{r("login"),et(null)},className:`flex-1 py-2 font-semibold transition-colors ${n==="login"?"text-brand-primary border-b-2 border-brand-primary":"text-gray-400 hover:text-white"}`,children:" "}),b.jsx("button",{onClick:()=>{r("signup"),et(null)},className:`flex-1 py-2 font-semibold transition-colors ${n==="signup"?"text-brand-primary border-b-2 border-brand-primary":"text-gray-400 hover:text-white"}`,children:" "})]}),n==="login"?b.jsxs("form",{onSubmit:nt,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"login-email",className:"block text-sm font-medium text-gray-300 mb-1",children:" "}),b.jsx("input",{type:"email",id:"login-email",value:o,onChange:z=>u(z.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"login-password","aria-label":" ",className:"block text-sm font-medium text-gray-300 mb-1",children:" "}),b.jsx("input",{type:"password",id:"login-password",value:f,onChange:z=>g(z.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary"})]}),st&&b.jsx("p",{className:"text-red-500 text-sm text-center",children:st}),b.jsx("div",{className:"pt-4",children:b.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white font-bold py-3 px-4 rounded-lg hover:bg-brand-secondary transition-colors",children:""})})]}):b.jsxs("form",{onSubmit:ut,className:"space-y-4",children:[b.jsxs("div",{children:[b.jsx("label",{htmlFor:"signup-name",className:"block text-sm font-medium text-gray-300 mb-1",children:""}),b.jsx("input",{type:"text",id:"signup-name",value:p,onChange:z=>_(z.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"signup-email",className:"block text-sm font-medium text-gray-300 mb-1",children:" "}),b.jsx("input",{type:"email",id:"signup-email",value:T,onChange:z=>R(z.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"signup-country",className:"block text-sm font-medium text-gray-300 mb-1",children:""}),b.jsx("input",{type:"text",id:"signup-country",value:O,onChange:z=>q(z.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"signup-phone",className:"block text-sm font-medium text-gray-300 mb-1",children:" "}),b.jsx("input",{type:"tel",id:"signup-phone",value:Q,onChange:z=>W(z.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary"})]}),b.jsxs("div",{children:[b.jsx("label",{htmlFor:"signup-password","aria-label":" ",className:"block text-sm font-medium text-gray-300 mb-1",children:" "}),b.jsx("input",{type:"password",id:"signup-password",value:K,onChange:z=>it(z.target.value),required:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md p-2 focus:ring-brand-primary focus:border-brand-primary"})]}),st&&b.jsx("p",{className:"text-red-500 text-sm text-center",children:st}),b.jsx("div",{className:"pt-4",children:b.jsx("button",{type:"submit",className:"w-full bg-brand-primary text-white font-bold py-3 px-4 rounded-lg hover:bg-brand-secondary transition-colors",children:"  "})})]})]})})},KN=()=>b.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:[b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.121 17.804A13.937 13.937 0 0112 16c2.5 0 4.847.655 6.879 1.804M15 10a3 3 0 11-6 0 3 3 0 016 0z"}),b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9 9 0 100-18 9 9 0 000 18z"})]}),YN=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 002 2h14a2 2 0 002-2V7a2 2 0 00-2-2H5z"})}),XN=()=>b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),$N=({currentStep:s})=>{const t=["  "," ","  "," "];return b.jsx("nav",{"aria-label":"Progress",className:"mb-12",children:b.jsx("ol",{role:"list",className:"space-y-4 md:flex md:space-x-8 md:space-y-0",children:t.map((n,r)=>b.jsx("li",{className:"md:flex-1",children:r<s?b.jsxs("div",{className:"group flex flex-col border-l-4 border-brand-primary py-2 pl-4 transition-colors md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[b.jsx("span",{className:"text-sm font-medium text-brand-primary transition-colors ",children:` ${r+1}`}),b.jsx("span",{className:"text-sm font-medium",children:n})]}):r===s?b.jsxs("div",{className:"flex flex-col border-l-4 border-brand-primary py-2 pl-4 md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4","aria-current":"step",children:[b.jsx("span",{className:"text-sm font-medium text-brand-primary",children:` ${r+1}`}),b.jsx("span",{className:"text-sm font-medium",children:n})]}):b.jsxs("div",{className:"group flex flex-col border-l-4 border-gray-700 py-2 pl-4 transition-colors md:border-l-0 md:border-t-4 md:pb-0 md:pl-0 md:pt-4",children:[b.jsx("span",{className:"text-sm font-medium text-gray-500 transition-colors",children:` ${r+1}`}),b.jsx("span",{className:"text-sm font-medium",children:n})]})},n))})})},ZN=()=>{const[s,t]=ft.useState(0),[n,r]=ft.useState(null),[o,u]=ft.useState([]),[f,g]=ft.useState([]),[p,_]=ft.useState([]),[T,R]=ft.useState([]),[O,q]=ft.useState(!1),[Q,W]=ft.useState(!1),[K,it]=ft.useState(!1),[st,et]=ft.useState(!1),[nt,ut]=ft.useState(!1),[z,x]=ft.useState([]),[w,C]=ft.useState([]),[A,N]=ft.useState(!1),[M,I]=ft.useState(!1),[bt,Gt]=ft.useState(!1),[G,rt]=ft.useState(!1),[lt,wt]=ft.useState(null),Dt=ft.useCallback(async()=>{try{const Ut=await Zd(),Ot="custom-fonts-style";let se=document.getElementById(Ot);se||(se=document.createElement("style"),se.id=Ot,document.head.appendChild(se));const fe=Ut.map(te=>{const de=new Blob([te.data]),Jt=URL.createObjectURL(de);return`@font-face { font-family: '${te.name}'; src: url('${Jt}'); }`}).join(`
`);se.innerHTML=fe,x(Ut.map(te=>te.name))}catch(Ut){console.error("Failed to load custom fonts:",Ut)}},[]);ft.useEffect(()=>{const Ut=sessionStorage.getItem("currentUser");Ut&&wt(JSON.parse(Ut)),Dt()},[Dt]);const k=Ut=>{const Ot=new FileReader;Ot.onload=se=>{var fe;r((fe=se.target)==null?void 0:fe.result),t(1)},Ot.readAsDataURL(Ut)},$=Ut=>{const Ot=new FileReader;Ot.onload=se=>{var Ht;const fe=new Uint8Array((Ht=se.target)==null?void 0:Ht.result),te=XLSX.read(fe,{type:"array"}),de=te.SheetNames[0],Jt=te.Sheets[de],Qt=XLSX.utils.sheet_to_json(Jt);Qt.length>0?(u(Qt),g(Object.keys(Qt[0])),t(2)):alert("     .")},Ot.readAsArrayBuffer(Ut)},ot=async Ut=>{if(!JSZip){alert(" ZIP  .   .");return}N(!0);try{const Ot=await JSZip.loadAsync(Ut),se=[],fe=[];Ot.forEach((de,Jt)=>{const Qt=/\.(jpe?g|png|gif|webp)$/i.test(Jt.name);!Jt.dir&&Qt&&fe.push({name:Jt.name,file:Jt})}),fe.sort((de,Jt)=>de.name.localeCompare(Jt.name));for(const{name:de,file:Jt}of fe){const Qt=Jt.async("base64").then(Ht=>`data:${de.endsWith(".png")?"image/png":"image/jpeg"};base64,${Ht}`).catch(Ht=>(console.error(`Error processing ${de} from ZIP:`,Ht),null));se.push(Qt)}const te=(await Promise.all(se)).filter(Boolean);C(te),alert(`  ${te.length}     ZIP.`)}catch(Ot){console.error("Error processing ZIP file:",Ot),alert("    ZIP.       .")}finally{N(!1)}},ct=()=>{t(0),r(null),u([]),g([]),_([]),R([]),q(!1),C([]),N(!1)},Et=(Ut,Ot,se)=>{Ut.font=`${Ot.fontSize}px ${Ot.fontFamily}`,Ut.fillStyle=Ot.color,Ut.textAlign=Ot.align,Ut.textBaseline="top";let fe=Ot.x;Ot.align==="center"&&(fe=Ot.x+Ot.width/2),Ot.align==="right"&&(fe=Ot.x+Ot.width);const te=se.split(" ");if(te.length===0)return;const de=[];let Jt=te[0];for(let Ht=1;Ht<te.length;Ht++){const Xt=te[Ht],qe=Jt+" "+Xt;Ut.measureText(qe).width<Ot.width?Jt=qe:(de.push(Jt),Jt=Xt)}de.push(Jt);const Qt=Ot.fontSize*1.2;de.forEach((Ht,Xt)=>{Ut.fillText(Ht,fe,Ot.y+Xt*Qt)})},Rt=ft.useCallback(async()=>{if(!n||o.length===0||p.length===0){alert("       .");return}if(!lt){alert("     ."),Gt(!0);return}let Ut=lt;try{const qe=JSON.parse(localStorage.getItem("users")||"[]").find($i=>$i.id===lt.id);qe&&(Ut=qe,JSON.stringify(lt)!==JSON.stringify(qe)&&(wt(qe),sessionStorage.setItem("currentUser",JSON.stringify(qe))))}catch(Xt){console.error("Could not refresh user data from localStorage",Xt),Ut=lt}let Ot=!1;if(Ut.subscription.plan!=="free"&&Ut.subscription.expiresAt){const Xt=new Date(Ut.subscription.expiresAt);Xt.setHours(23,59,59,999);const qe=new Date;qe.setHours(0,0,0,0),Xt>=qe&&(Ot=!0)}if(o.length>5&&!Ot){ut(!0);return}q(!0);const se=[],fe=[],te=new Image;te.src=n,await new Promise(Xt=>{te.onload=Xt});for(const Xt of z)await document.fonts.load(`12px ${Xt}`);const de=document.createElement("canvas");de.width=te.width,de.height=te.height;const Jt=de.getContext("2d");if(!Jt){alert("     ."),q(!1);return}const Qt=p.filter(Xt=>Xt.type==="text"),Ht=p.filter(Xt=>Xt.type==="image");for(const[Xt,qe]of o.entries()){Jt.clearRect(0,0,de.width,de.height),Jt.drawImage(te,0,0);const $i=Ht.map(be=>{let Ze;return be.dataSource==="excel"&&be.dataColumn?Ze=qe[be.dataColumn]:be.dataSource==="zip"&&(Ze=w[Xt]),Ze?new Promise(Rn=>{const Qe=new Image;Qe.crossOrigin="anonymous",Qe.onload=()=>Rn({img:Qe,p:be}),Qe.onerror=()=>{const di=` ${Xt+1}:      '${be.dataColumn||"ZIP"}'`;fe.includes(di)||fe.push(di),console.warn(`Could not load image from ${Ze} for placeholder ${be.id}`),Rn(null)},Qe.src=Ze}):Promise.resolve(null)});(await Promise.all($i)).forEach(be=>{if(be){const{img:Ze,p:Rn}=be,Qe=Rn.width,di=Rn.height,fa=Rn.x,da=Rn.y,ma=Ze.naturalWidth,Cn=Ze.naturalHeight,Re=ma/Cn,_n=Qe/di;let ue,mi;Re>_n?(ue=Qe,mi=ue/Re):(mi=di,ue=mi*Re);const ws=fa+(Qe-ue)/2,ga=da+(di-mi)/2;Jt.drawImage(Ze,ws,ga,ue,mi)}});for(const be of Qt){const Ze=be.dataColumn&&qe[be.dataColumn]?String(qe[be.dataColumn]):"";Et(Jt,be,Ze)}se.push(de.toDataURL("image/png"))}fe.length>0&&alert(`     ${fe.length} .      ( Excel   ZIP).

 : ${fe[0]}`),R(se),q(!1),t(3)},[n,o,p,z,w,lt]),kt=()=>{switch(s){case 0:return b.jsx(J_,{onFileSelect:k,title:"  ",acceptedTypes:"image/png, image/jpeg"});case 1:return b.jsx(J_,{onFileSelect:$,title:"  ",acceptedTypes:".xlsx, .xls, .csv"});case 2:return b.jsx(oS,{imageSrc:n,excelHeaders:f,excelData:o,placeholders:p,setPlaceholders:_,onGenerate:Rt,isGenerating:O,customFonts:z,zipImages:w,onZipUpload:ot,isProcessingZip:A});case 3:return b.jsx(hS,{certificates:T,excelData:o,onReset:ct});default:return null}},xe=()=>{G?W(!0):I(!0)},he=()=>{rt(!0),I(!1),W(!0)},Xi=Ut=>{wt(Ut),sessionStorage.setItem("currentUser",JSON.stringify(Ut)),Gt(!1)},Ss=()=>{wt(null),sessionStorage.removeItem("currentUser")};return b.jsxs("div",{className:"min-h-screen container mx-auto p-4 md:p-8",children:[b.jsxs("header",{className:"mb-12",children:[b.jsxs("div",{className:"flex justify-end items-center space-x-2 space-x-reverse",children:[lt?b.jsxs(b.Fragment,{children:[b.jsxs("span",{className:"text-gray-300 text-sm hidden sm:block",children:["  ",lt.name]}),b.jsx("button",{onClick:()=>it(!0),className:"p-2 text-gray-400 hover:text-white transition-colors","aria-label":"   ",title:" ",children:b.jsx(KN,{})}),b.jsx("button",{onClick:Ss,className:"p-2 text-gray-400 hover:text-white transition-colors","aria-label":" ",title:" ",children:b.jsx(XN,{})})]}):b.jsxs(b.Fragment,{children:[b.jsx("button",{onClick:()=>Gt(!0),className:"font-semibold text-gray-300 hover:text-white transition-colors py-2 px-4",children:" "}),b.jsx("button",{onClick:()=>Gt(!0),className:"font-semibold bg-brand-primary hover:bg-brand-secondary text-white transition-colors py-2 px-4 rounded-lg",children:" "})]}),b.jsx("button",{onClick:()=>et(!0),className:"p-2 text-gray-400 hover:text-white transition-colors","aria-label":"   ",title:"",children:b.jsx(YN,{})})]}),b.jsx("div",{className:"w-full md:w-[100%] max-w-full",left:!0,children:b.jsx("img",{src:"pic/hero.jpg",alt:"Hero Image",className:"w-full h-auto rounded-xl object-cover select-none"})}),b.jsxs("div",{className:"flex flex-col-reverse md:flex-row items-center justify-between gap-8 mt-8",children:[b.jsxs("div",{className:"md:w-1/2 text-center md:text-right",children:[b.jsx("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight text-transparent bg-clip-text bg-gradient-to-r from-brand-primary to-brand-secondary",children:""}),b.jsx("p",{className:"mt-4 text-lg text-gray-300",children:"   .      ."}),b.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"flex flex-col items-center justify-center text-center bg-gray-800/50 backdrop-blur-sm p-4 rounded-lg border border-gray-700 transition-all duration-300 hover:border-brand-primary hover:bg-gray-700/60 hover:-translate-y-1",children:[b.jsx(Dl,{}),b.jsx("p",{className:"font-semibold text-sm mt-2",children:"  "})]}),b.jsxs("div",{className:"flex flex-col items-center justify-center text-center bg-gray-800/50 backdrop-blur-sm p-4 rounded-lg border border-gray-700 transition-all duration-300 hover:border-brand-primary hover:bg-gray-700/60 hover:-translate-y-1",children:[b.jsx(Dl,{}),b.jsx("p",{className:"font-semibold text-sm mt-2",children:" "})]}),b.jsxs("div",{className:"flex flex-col items-center justify-center text-center bg-gray-800/50 backdrop-blur-sm p-4 rounded-lg border border-gray-700 transition-all duration-300 hover:border-brand-primary hover:bg-gray-700/60 hover:-translate-y-1",children:[b.jsx(Dl,{}),b.jsx("p",{className:"font-semibold text-sm mt-2",children:"  "})]}),b.jsxs("div",{className:"flex flex-col items-center justify-center text-center bg-gray-800/50 backdrop-blur-sm p-4 rounded-lg border border-gray-700 transition-all duration-300 hover:border-brand-primary hover:bg-gray-700/60 hover:-translate-y-1",children:[b.jsx(Dl,{}),b.jsx("p",{className:"font-semibold text-sm mt-2",children:" "})]})]})]}),b.jsx("div",{className:"md:w-1/2 w-full max-w-sm",children:b.jsxs("div",{className:"relative h-48 flex justify-center items-center group",children:[b.jsx("div",{className:"absolute w-64 h-40 bg-gray-700/50 backdrop-blur-sm rounded-xl transform rotate-6 transition-transform group-hover:rotate-3 shadow-2xl border border-brand-secondary/30"}),b.jsx("div",{className:"absolute w-64 h-40 bg-gray-600/50 backdrop-blur-sm rounded-xl transform -rotate-6 transition-transform group-hover:-rotate-3 shadow-2xl border border-brand-primary/30"}),b.jsxs("div",{className:"absolute w-64 h-40 bg-gray-800 rounded-xl shadow-2xl flex flex-col items-center justify-center p-4 border border-gray-500",children:[b.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-brand-secondary mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:b.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"})}),b.jsx("p",{className:"text-center font-semibold text-lg",children:"{ }"}),b.jsx("p",{className:"text-center text-xs text-gray-400",children:" "})]})]})})]})]}),b.jsxs("main",{className:"bg-gray-800 p-6 md:p-8 rounded-2xl shadow-2xl",children:[s<4&&b.jsx($N,{currentStep:s}),kt()]}),b.jsxs("footer",{className:"text-center mt-8 text-gray-500",children:[b.jsx("p",{children:"     khaled omar"}),b.jsx("div",{className:"flex justify-center space-x-4 space-x-reverse mt-2 text-sm",children:b.jsx("button",{onClick:xe,className:"text-gray-400 hover:text-brand-primary underline",children:"  "})})]}),M&&b.jsx(GN,{onClose:()=>I(!1),onLoginSuccess:he}),bt&&b.jsx(QN,{onClose:()=>Gt(!1),onAuthSuccess:Xi}),G&&Q&&b.jsx(bS,{onClose:()=>W(!1),onFontsUpdate:Dt}),K&&lt&&b.jsx(zN,{user:lt,onClose:()=>it(!1),onFontsUpdate:Dt}),st&&b.jsx(qN,{onClose:()=>et(!1)}),nt&&b.jsx(FN,{onClose:()=>ut(!1),onUpgrade:()=>{ut(!1),et(!0)}})]})},pT=document.getElementById("root");if(!pT)throw new Error("Could not find root element to mount to");const JN=sS.createRoot(pT);JN.render(b.jsx($1.StrictMode,{children:b.jsx(ZN,{})}));
